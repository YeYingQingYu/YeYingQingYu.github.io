<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="ÂèÇËÄÉÂÜÖÂÆπ „ÄêAIÂÆ¢Êúçdeepseek„ÄëdeepseekÊé•ÂÖ•ÂæÆ‰ø°ÔºàÊú¨Âú∞ÈÉ®ÁΩ≤deepseekÈõÜÊàêÂæÆ‰ø°Ëá™Âä®Êî∂ÂèëÊ∂àÊÅØÔºâ\nÈªëÈ©¨Á®ãÂ∫èÂëòAIÂ§ßÊ®°ÂûãÂºÄÂèëÈõ∂Âü∫Á°ÄÂà∞È°πÁõÆÂÆûÊàòÂÖ®Â•óËßÜÈ¢ëÊïôÁ®ãÔºåÂü∫‰∫éDeepSeekÂíåQwenÂ§ßÊ®°ÂûãÔºå‰ªéÂ§ßÊ®°ÂûãÁßÅÊúâÂåñÈÉ®ÁΩ≤„ÄÅËøêË°åÊú∫Âà∂Âà∞Áã¨Á´ãÊê≠Âª∫ËÅäÂ§©Êú∫Âô®‰∫∫‰∏ÄÂ•óÈÄöÂÖ≥_ÂìîÂì©ÂìîÂì©_bilibili\n">
<title>ÂæÆ‰ø°ËøûÊé•Êú¨Âú∞ deepseek ÂÆûÁé∞Ëá™Âä®ËÅäÂ§©</title>

<link rel='canonical' href='https://YeYingQingYu.github.io/p/%E5%BE%AE%E4%BF%A1%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0-deepseek-%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%81%8A%E5%A4%A9/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="ÂæÆ‰ø°ËøûÊé•Êú¨Âú∞ deepseek ÂÆûÁé∞Ëá™Âä®ËÅäÂ§©">
<meta property='og:description' content="ÂèÇËÄÉÂÜÖÂÆπ „ÄêAIÂÆ¢Êúçdeepseek„ÄëdeepseekÊé•ÂÖ•ÂæÆ‰ø°ÔºàÊú¨Âú∞ÈÉ®ÁΩ≤deepseekÈõÜÊàêÂæÆ‰ø°Ëá™Âä®Êî∂ÂèëÊ∂àÊÅØÔºâ\nÈªëÈ©¨Á®ãÂ∫èÂëòAIÂ§ßÊ®°ÂûãÂºÄÂèëÈõ∂Âü∫Á°ÄÂà∞È°πÁõÆÂÆûÊàòÂÖ®Â•óËßÜÈ¢ëÊïôÁ®ãÔºåÂü∫‰∫éDeepSeekÂíåQwenÂ§ßÊ®°ÂûãÔºå‰ªéÂ§ßÊ®°ÂûãÁßÅÊúâÂåñÈÉ®ÁΩ≤„ÄÅËøêË°åÊú∫Âà∂Âà∞Áã¨Á´ãÊê≠Âª∫ËÅäÂ§©Êú∫Âô®‰∫∫‰∏ÄÂ•óÈÄöÂÖ≥_ÂìîÂì©ÂìîÂì©_bilibili\n">
<meta property='og:url' content='https://YeYingQingYu.github.io/p/%E5%BE%AE%E4%BF%A1%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0-deepseek-%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%81%8A%E5%A4%A9/'>
<meta property='og:site_name' content='Sandy Memories‰∏®Ê≤ôÁ≥ª'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2025-06-07T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2025-06-07T00:00:00&#43;00:00'/><meta property='og:image' content='https://YeYingQingYu.github.io/p/%E5%BE%AE%E4%BF%A1%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0-deepseek-%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%81%8A%E5%A4%A9/img.png' />
<meta name="twitter:title" content="ÂæÆ‰ø°ËøûÊé•Êú¨Âú∞ deepseek ÂÆûÁé∞Ëá™Âä®ËÅäÂ§©">
<meta name="twitter:description" content="ÂèÇËÄÉÂÜÖÂÆπ „ÄêAIÂÆ¢Êúçdeepseek„ÄëdeepseekÊé•ÂÖ•ÂæÆ‰ø°ÔºàÊú¨Âú∞ÈÉ®ÁΩ≤deepseekÈõÜÊàêÂæÆ‰ø°Ëá™Âä®Êî∂ÂèëÊ∂àÊÅØÔºâ\nÈªëÈ©¨Á®ãÂ∫èÂëòAIÂ§ßÊ®°ÂûãÂºÄÂèëÈõ∂Âü∫Á°ÄÂà∞È°πÁõÆÂÆûÊàòÂÖ®Â•óËßÜÈ¢ëÊïôÁ®ãÔºåÂü∫‰∫éDeepSeekÂíåQwenÂ§ßÊ®°ÂûãÔºå‰ªéÂ§ßÊ®°ÂûãÁßÅÊúâÂåñÈÉ®ÁΩ≤„ÄÅËøêË°åÊú∫Âà∂Âà∞Áã¨Á´ãÊê≠Âª∫ËÅäÂ§©Êú∫Âô®‰∫∫‰∏ÄÂ•óÈÄöÂÖ≥_ÂìîÂì©ÂìîÂì©_bilibili\n"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://YeYingQingYu.github.io/p/%E5%BE%AE%E4%BF%A1%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0-deepseek-%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%81%8A%E5%A4%A9/img.png' />
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu_bfea9a570b4a88e6.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üç•</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Sandy Memories‰∏®Ê≤ôÁ≥ª</a></h1>
            <h2 class="site-description">Fall in the dark</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://space.bilibili.com/1865091'
                        target="_blank"
                        title="bilibili"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1747070557794" class="icon" viewBox="0 0 1129 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2634" width="26.4609375" height="24" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M234.908525 9.656195a80.468288 80.468288 0 0 1 68.398044 0 167.374038 167.374038 0 0 1 41.84351 30.577949l160.936576 140.819503H621.156306L782.092881 40.234144a168.983404 168.983404 0 0 1 41.84351-30.577949 80.468288 80.468288 0 0 1 107.022823 66.788678 80.468288 80.468288 0 0 1-17.703024 53.913753 449.817728 449.817728 0 0 1-35.406046 32.187315 232.553351 232.553351 0 0 1-22.531121 18.507706h100.58536a170.59277 170.59277 0 0 1 118.288383 53.10907A171.397453 171.397453 0 0 1 1128.106519 352.4511v462.692655a325.896565 325.896565 0 0 1-4.023415 70.00741 178.639599 178.639599 0 0 1-80.468288 112.655603 173.006819 173.006819 0 0 1-92.53853 25.749852H212.377404a341.18554 341.18554 0 0 1-72.421459-4.023415 177.834916 177.834916 0 0 1-111.046237-80.468287A172.202136 172.202136 0 0 1 1.550491 846.526387V388.66183A360.497929 360.497929 0 0 1 1.550491 321.873151a177.030233 177.030233 0 0 1 160.936575-143.233552h105.413457c-16.89834-12.070243-31.382632-26.554535-46.671607-39.429461a80.468288 80.468288 0 0 1-25.749852-65.983996A80.468288 80.468288 0 0 1 234.908525 9.656195M216.400819 321.873151a80.468288 80.468288 0 0 0-63.569948 57.937167 108.632188 108.632188 0 0 0 0 30.577949v380.615001a80.468288 80.468288 0 0 0 55.523119 80.468288 106.21814 106.21814 0 0 0 34.601364 5.63278h654.207179a80.468288 80.468288 0 0 0 76.444873-47.47629 112.655603 112.655603 0 0 0 8.046829-53.10907v-354.060465a135.186723 135.186723 0 0 0 0-38.624779 80.468288 80.468288 0 0 0-52.304387-54.718435 129.553943 129.553943 0 0 0-49.890338-7.242146H254.220914a268.764081 268.764081 0 0 0-37.820095 0z m0 0" fill="#20B0E3" p-id="2635"></path><path d="M348.368811 447.40368a80.468288 80.468288 0 0 1 55.523118 18.507706 80.468288 80.468288 0 0 1 28.163901 59.546533v80.468287a80.468288 80.468288 0 0 1-16.093658 51.499705 80.468288 80.468288 0 0 1-131.967992-9.656195 104.608774 104.608774 0 0 1-10.460877-54.718436v-80.468287a80.468288 80.468288 0 0 1 70.00741-67.593362z m416.021047 0a80.468288 80.468288 0 0 1 86.101068 75.64019v80.468288a94.147897 94.147897 0 0 1-12.070243 53.10907 80.468288 80.468288 0 0 1-132.772675 0 95.757262 95.757262 0 0 1-12.874926-57.132485v-80.468287a80.468288 80.468288 0 0 1 70.00741-70.812093z m0 0" fill="#20B0E3" p-id="2636"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/YeYingQingYu'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1747070606533" class="icon" viewBox="0 0 1049 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3658" width="24.5859375" height="24" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M524.979332 0C234.676191 0 0 234.676191 0 524.979332c0 232.068678 150.366597 428.501342 358.967656 498.035028 26.075132 5.215026 35.636014-11.299224 35.636014-25.205961 0-12.168395-0.869171-53.888607-0.869171-97.347161-146.020741 31.290159-176.441729-62.580318-176.441729-62.580318-23.467619-60.841976-58.234462-76.487055-58.234463-76.487055-47.804409-32.15933 3.476684-32.15933 3.476685-32.15933 53.019436 3.476684 80.83291 53.888607 80.83291 53.888607 46.935238 79.963739 122.553122 57.365291 152.97411 43.458554 4.345855-33.897672 18.252593-57.365291 33.028501-70.402857-116.468925-12.168395-239.022047-57.365291-239.022047-259.012982 0-57.365291 20.860106-104.300529 53.888607-140.805715-5.215026-13.037566-23.467619-66.926173 5.215027-139.067372 0 0 44.327725-13.906737 144.282399 53.888607 41.720212-11.299224 86.917108-17.383422 131.244833-17.383422s89.524621 6.084198 131.244833 17.383422C756.178839 203.386032 800.506564 217.29277 800.506564 217.29277c28.682646 72.1412 10.430053 126.029806 5.215026 139.067372 33.897672 36.505185 53.888607 83.440424 53.888607 140.805715 0 201.64769-122.553122 245.975415-239.891218 259.012982 19.121764 16.514251 35.636014 47.804409 35.636015 97.347161 0 70.402857-0.869171 126.898978-0.869172 144.282399 0 13.906737 9.560882 30.420988 35.636015 25.205961 208.601059-69.533686 358.967656-265.96635 358.967655-498.035028C1049.958663 234.676191 814.413301 0 524.979332 0z" fill="#191717" p-id="3659"></path><path d="M199.040177 753.571326c-0.869171 2.607513-5.215026 3.476684-8.691711 1.738342s-6.084198-5.215026-4.345855-7.82254c0.869171-2.607513 5.215026-3.476684 8.691711-1.738342s5.215026 5.215026 4.345855 7.82254z m-6.953369-4.345856M219.900283 777.038945c-2.607513 2.607513-7.82254 0.869171-10.430053-2.607514-3.476684-3.476684-4.345855-8.691711-1.738342-11.299224 2.607513-2.607513 6.953369-0.869171 10.430053 2.607514 3.476684 4.345855 4.345855 9.560882 1.738342 11.299224z m-5.215026-5.215027M240.760389 807.459932c-3.476684 2.607513-8.691711 0-11.299224-4.345855-3.476684-4.345855-3.476684-10.430053 0-12.168395 3.476684-2.607513 8.691711 0 11.299224 4.345855 3.476684 4.345855 3.476684 9.560882 0 12.168395z m0 0M269.443034 837.011749c-2.607513 3.476684-8.691711 2.607513-13.906737-1.738342-4.345855-4.345855-6.084198-10.430053-2.607513-13.037566 2.607513-3.476684 8.691711-2.607513 13.906737 1.738342 4.345855 3.476684 5.215026 9.560882 2.607513 13.037566z m0 0M308.555733 853.526c-0.869171 4.345855-6.953369 6.084198-13.037566 4.345855-6.084198-1.738342-9.560882-6.953369-8.691711-10.430053 0.869171-4.345855 6.953369-6.084198 13.037566-4.345855 6.084198 1.738342 9.560882 6.084198 8.691711 10.430053z m0 0M351.145116 857.002684c0 4.345855-5.215026 7.82254-11.299224 7.82254-6.084198 0-11.299224-3.476684-11.299224-7.82254s5.215026-7.82254 11.299224-7.82254c6.084198 0 11.299224 3.476684 11.299224 7.82254z m0 0M391.126986 850.049315c0.869171 4.345855-3.476684 8.691711-9.560882 9.560882-6.084198 0.869171-11.299224-1.738342-12.168395-6.084197-0.869171-4.345855 3.476684-8.691711 9.560881-9.560882 6.084198-0.869171 11.299224 1.738342 12.168396 6.084197z m0 0" fill="#191717" p-id="3660"></path></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>‰∏ªÈ°µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>ÂÖ≥‰∫é</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>ÂΩíÊ°£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>ÊêúÁ¥¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>ÂèãÊÉÖÈìæÊé•</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                <span></span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">
                    
                        <li id="i18n-switch">  
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                            <select name="language" title="language" onchange="window.location.href = this.selectedOptions[0].value">
                                
                                    <option value="https://YeYingQingYu.github.io/zh-hk/" >ÁπÅÈ´î‰∏≠Êñá</option>
                                
                                    <option value="https://YeYingQingYu.github.io/" selected>ÁÆÄ‰Ωì‰∏≠Êñá</option>
                                
                            </select>
                        </li>
                    
                

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>ÊöóËâ≤Ê®°Âºè</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#ÂèÇËÄÉÂÜÖÂÆπ">ÂèÇËÄÉÂÜÖÂÆπ</a></li>
    <li><a href="#Êú¨Âú∞ÈÉ®ÁΩ≤">Êú¨Âú∞ÈÉ®ÁΩ≤</a>
      <ol>
        <li><a href="#ollama-ÂÆâË£Ö">Ollama ÂÆâË£Ö</a></li>
        <li><a href="#Ê®°ÂûãÂÆâË£Ö">Ê®°ÂûãÂÆâË£Ö</a></li>
      </ol>
    </li>
    <li><a href="#ÂèØËßÜÂåñÈ°µÈù¢">ÂèØËßÜÂåñÈ°µÈù¢</a>
      <ol>
        <li><a href="#chatbox-ÂÆâË£Ö">Chatbox ÂÆâË£Ö</a></li>
        <li><a href="#ollama-web-ui-lite-ÂÆâË£Ö">Ollama Web UI Lite ÂÆâË£Ö</a></li>
      </ol>
    </li>
    <li><a href="#Ëá™Âä®ËÅäÂ§©">Ëá™Âä®ËÅäÂ§©</a>
      <ol>
        <li><a href="#ÂÆûÁé∞ÂéüÁêÜ">ÂÆûÁé∞ÂéüÁêÜ</a>
          <ol>
            <li><a href="#ÂèëÈÄÅÊ∂àÊÅØ">ÂèëÈÄÅÊ∂àÊÅØ</a></li>
            <li><a href="#Êé•Êî∂ÊâÄÊúâÊ∂àÊÅØ">Êé•Êî∂ÊâÄÊúâÊ∂àÊÅØ</a></li>
            <li><a href="#Êé•Êî∂ÊåáÂÆöÁî®Êà∑Ê∂àÊÅØ">Êé•Êî∂ÊåáÂÆöÁî®Êà∑Ê∂àÊÅØ</a></li>
          </ol>
        </li>
        <li><a href="#Êï¥‰ΩìÂÆûÁé∞">Êï¥‰ΩìÂÆûÁé∞</a></li>
      </ol>
    </li>
    <li><a href="#‰ª£Á†Å‰øÆÊîπ">‰ª£Á†Å‰øÆÊîπ</a>
      <ol>
        <li><a href="#ÈóÆÁ≠îËøáÁ®ã">ÈóÆÁ≠îËøáÁ®ã</a>
          <ol>
            <li><a href="#ÊèêÈóÆ1">ÊèêÈóÆ1</a></li>
            <li><a href="#ÂõûÁ≠î1">ÂõûÁ≠î1</a></li>
            <li><a href="#ÊèêÈóÆ2">ÊèêÈóÆ2</a></li>
            <li><a href="#ÂõûÁ≠î2">ÂõûÁ≠î2</a></li>
          </ol>
        </li>
        <li><a href="#ÂÆûÁé∞ÊÉÖÂÜµ">ÂÆûÁé∞ÊÉÖÂÜµ</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/%E5%BE%AE%E4%BF%A1%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0-deepseek-%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%81%8A%E5%A4%A9/">
                <img src="/p/%E5%BE%AE%E4%BF%A1%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0-deepseek-%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%81%8A%E5%A4%A9/img_hu_67c705aec98e5d75.png"
                        srcset="/p/%E5%BE%AE%E4%BF%A1%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0-deepseek-%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%81%8A%E5%A4%A9/img_hu_67c705aec98e5d75.png 800w, /p/%E5%BE%AE%E4%BF%A1%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0-deepseek-%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%81%8A%E5%A4%A9/img_hu_578de8a0946a2914.png 1600w"
                        width="800" 
                        height="364" 
                        loading="lazy"
                        alt="Featured image of post ÂæÆ‰ø°ËøûÊé•Êú¨Âú∞ deepseek ÂÆûÁé∞Ëá™Âä®ËÅäÂ§©" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/my_note/" style="background-color: deepskyblue; color: #fff;">
                Á¨îËÆ∞
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/%E5%BE%AE%E4%BF%A1%E8%BF%9E%E6%8E%A5%E6%9C%AC%E5%9C%B0-deepseek-%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%81%8A%E5%A4%A9/">ÂæÆ‰ø°ËøûÊé•Êú¨Âú∞ deepseek ÂÆûÁé∞Ëá™Âä®ËÅäÂ§©</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jun 07, 2025</time>
            </div>
        

        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="ÂèÇËÄÉÂÜÖÂÆπ">ÂèÇËÄÉÂÜÖÂÆπ
</h2><p><a class="link" href="https://www.bilibili.com/video/BV1sFKMeqES5/?p=8&amp;spm_id_from=333.1007.top_right_bar_window_history.content.click&amp;vd_source=1bb47e84ede9c37ce3b9af60ed6d443d"  target="_blank" rel="noopener"
    >„ÄêAIÂÆ¢Êúçdeepseek„ÄëdeepseekÊé•ÂÖ•ÂæÆ‰ø°ÔºàÊú¨Âú∞ÈÉ®ÁΩ≤deepseekÈõÜÊàêÂæÆ‰ø°Ëá™Âä®Êî∂ÂèëÊ∂àÊÅØÔºâ</a></p>
<p><a class="link" href="https://www.bilibili.com/video/BV1h1VbzHER2/?spm_id_from=333.1007.top_right_bar_window_custom_collection.content.click&amp;vd_source=1bb47e84ede9c37ce3b9af60ed6d443d"  target="_blank" rel="noopener"
    >ÈªëÈ©¨Á®ãÂ∫èÂëòAIÂ§ßÊ®°ÂûãÂºÄÂèëÈõ∂Âü∫Á°ÄÂà∞È°πÁõÆÂÆûÊàòÂÖ®Â•óËßÜÈ¢ëÊïôÁ®ãÔºåÂü∫‰∫éDeepSeekÂíåQwenÂ§ßÊ®°ÂûãÔºå‰ªéÂ§ßÊ®°ÂûãÁßÅÊúâÂåñÈÉ®ÁΩ≤„ÄÅËøêË°åÊú∫Âà∂Âà∞Áã¨Á´ãÊê≠Âª∫ËÅäÂ§©Êú∫Âô®‰∫∫‰∏ÄÂ•óÈÄöÂÖ≥_ÂìîÂì©ÂìîÂì©_bilibili</a></p>
<h2 id="Êú¨Âú∞ÈÉ®ÁΩ≤">Êú¨Âú∞ÈÉ®ÁΩ≤
</h2><h3 id="ollama-ÂÆâË£Ö">Ollama ÂÆâË£Ö
</h3><p>Ollama ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑÊú¨Âú∞Â§ßËØ≠Ë®ÄÊ®°ÂûãËøêË°åÊ°ÜÊû∂Ôºå‰∏ì‰∏∫Âú®Êú¨Âú∞Êú∫Âô®‰∏ä‰æøÊç∑ÈÉ®ÁΩ≤ÂíåËøêË°åÂ§ßÂûãËØ≠Ë®ÄÊ®°ÂûãÔºàLLMÔºâËÄåËÆæËÆ°„ÄÇ</p>
<p><a class="link" href="https://ollama.com/"  target="_blank" rel="noopener"
    >Ollama ÂÆòÁΩë</a></p>
<img src="image-20250607103314927.png">
<h3 id="Ê®°ÂûãÂÆâË£Ö">Ê®°ÂûãÂÆâË£Ö
</h3><p>Âú® <a class="link" href="https://ollama.com/search"  target="_blank" rel="noopener"
    >Ollama Search</a> ‰∏≠ÈÄâÊã©ÊÉ≥Ë¶Å‰∏ãËΩΩÁöÑÊ®°ÂûãÔºå‰ΩøÁî® cmd ÁªàÁ´ØËøêË°åÁõ∏Â∫î‰ª£Á†ÅÂç≥ÂèØ„ÄÇ</p>
<img src="image-20250607103537732.png">
<p>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØ ollama ÈªòËÆ§ÂÆâË£ÖÂú® C ÁõòÁõÆÂΩï AppData ‰∏ãÁöÑ ollama Êñá‰ª∂Â§π‰∏≠ÔºåÂ¶ÇÊûúÂÜÖÂ≠ò‰∏çÂ§üÂèØ‰ª•Âú®ÁéØÂ¢ÉÂèòÈáè‰∏≠ÈÖçÁΩÆ OLLAMA_MODELSÔºåË∑ØÂæÑËá™ÈÄâ„ÄÇ</p>
<h2 id="ÂèØËßÜÂåñÈ°µÈù¢">ÂèØËßÜÂåñÈ°µÈù¢
</h2><h3 id="chatbox-ÂÆâË£Ö">Chatbox ÂÆâË£Ö
</h3><p>Chatbox AI ÊòØ‰∏ÄÊ¨æ AI ÂÆ¢Êà∑Á´ØÂ∫îÁî®ÂíåÊô∫ËÉΩÂä©ÊâãÔºåÊîØÊåÅ‰ºóÂ§öÂÖàËøõÁöÑ AI Ê®°ÂûãÂíå APIÔºåÂèØÂú® Windows„ÄÅMacOS„ÄÅAndroid„ÄÅiOS„ÄÅLinux ÂíåÁΩëÈ°µÁâà‰∏ä‰ΩøÁî®„ÄÇ</p>
<p><a class="link" href="https://www.chatbox-china.com/"  target="_blank" rel="noopener"
    >Chatbox ÂÆòÁΩë</a></p>
<img src="image-20250607103629350.png">
<p>ÂÆâË£Ö chatbox ÂèØ‰ª•Âú®Á™óÂè£Â∫îÁî®‰∏≠‰ΩøÁî®Áõ∏Â∫îÊú¨Âú∞Ê®°ÂûãÔºå‰ª£Êõø‰∫ÜÂú® cmd ÁªàÁ´Ø‰∏≠ËøêË°å„ÄÇ</p>
<img src="image-20250607104157031.png">
<h3 id="ollama-web-ui-lite-ÂÆâË£Ö">Ollama Web UI Lite ÂÆâË£Ö
</h3><p>Ollama Web UI Lite ÊòØ <a class="link" href="https://github.com/ollama-webui/ollama-webui"  target="_blank" rel="noopener"
    >Ollama Web UI</a> ÁöÑÁÆÄÂåñÁâàÊú¨ÔºåÊó®Âú®Êèê‰æõÁÆÄÂåñÁöÑÁî®Êà∑ÁïåÈù¢ÔºåÂÖ∑ÊúâÊúÄÂ∞ëÁöÑÂäüËÉΩÂíåÊõ¥‰ΩéÁöÑÂ§çÊùÇÊÄß„ÄÇËØ•È°πÁõÆÁöÑ‰∏ªË¶ÅÈáçÁÇπÊòØÈÄöËøáÂÆåÊï¥ÁöÑ TypeScript ËøÅÁßªÂÆûÁé∞Êõ¥Ê∏ÖÊô∞ÁöÑ‰ª£Á†ÅÔºåÈááÁî®Êõ¥Âä†Ê®°ÂùóÂåñÁöÑÊû∂ÊûÑÔºåÁ°Æ‰øùÂÖ®Èù¢ÁöÑÊµãËØïË¶ÜÁõñÁéáÔºåÂπ∂ÂÆûÊñΩÂº∫Â§ßÁöÑ CI/CD ÁÆ°ÈÅì„ÄÇ</p>
<p><a class="link" href="https://github.com/ollama-webui/ollama-webui-lite"  target="_blank" rel="noopener"
    >ollama-webui/ollama-webui-lite: This repo is no longer maintained, please use our main Open WebUI repo.</a></p>
<img src="image-20250607104612392.png">
<p>Êú¨Âú∞Ëß£ÂéãÂêéÔºåÂú®ÁªàÁ´Ø‰∏≠ÊâìÂºÄÔºå‰ΩøÁî® npm ci ÂÆâË£Ö‰æùËµñÔºåÁÑ∂Âêé‰ΩøÁî® npm run dev Âç≥ÂèØËøêË°å„ÄÇ</p>
<img src="image-20250607104819639.png">
<h2 id="Ëá™Âä®ËÅäÂ§©">Ëá™Âä®ËÅäÂ§©
</h2><h3 id="ÂÆûÁé∞ÂéüÁêÜ">ÂÆûÁé∞ÂéüÁêÜ
</h3><p>ÈÄöËøáÊú¨Âú∞‰ª£Á†ÅÁõëÊµãÂæÆ‰ø°ËÅäÂ§©Á™óÂè£ÔºåËé∑ÂèñÂà∞Ê∂àÊÅØÂêéË∞ÉÁî®Êú¨Âú∞ deepseek Ê®°ÂûãÔºåÂπ∂Â∞Ü deepseek ÁöÑÂõûÂ§çÂèëÈÄÅÂà∞ËÅäÂ§©Á™óÂè£„ÄÇ</p>
<p>ÈúÄË¶ÅÂÆâË£Ö wxauto Ëá™Âä®ÊéßÂà∂ÂæÆ‰ø°ÁïåÈù¢ÂÆûÁé∞Êî∂Âèë‰ø°ÊÅØ„ÄÇ</p>
<p>Ê≠§Êó∂Êàë‰ΩøÁî®ÁöÑ Python ÁâàÊú¨ÊòØ 3.10.6ÔºåÂæÆ‰ø°ÁâàÊú¨‰∏∫ 3.9.12.51Ôºå‰∏éËßÜÈ¢ëÊºîÁ§∫‰∏≠ÁöÑÁâàÊú¨‰∏çÂêå„ÄÇ</p>
<h4 id="ÂèëÈÄÅÊ∂àÊÅØ">ÂèëÈÄÅÊ∂àÊÅØ
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">wxauto</span> <span class="kn">import</span> <span class="n">Wechat</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">wx</span><span class="o">=</span> <span class="n">Wechat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ÊåáÂÆö‰∫∫/Áæ§ÂèëÊ∂àÊÅØ</span>
</span></span><span class="line"><span class="cl"><span class="n">wx</span><span class="o">.</span><span class="n">sendMsg</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s2">&#34;‰Ω†Â•Ω&#34;</span><span class="err">Ôºå</span><span class="n">who</span><span class="o">=</span><span class="s2">&#34;Áî®Êà∑ID&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Áæ§Ê∂àÊÅØ+@ÊåáÂÆö‰∫∫</span>
</span></span><span class="line"><span class="cl"><span class="c1"># wx.sendMsg(msg=&#34;‰Ω†Â•Ω&#34;Ôºåwho=&#34;...&#34;Ôºåat=[‚Äú...&#34;,‚Äú...‚Äù])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># wx.sendMsg(filepath=&#34;F:\xxx.png&#34;Ôºåwho=&#34;...&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># wx.sendMsg(filepath=[&#34;Êñá‰ª∂A&#34;,‚ÄúÊñá‰ª∂B&#34;,‚ÄúF:\xxx.png&#34;]Ôºåwho=‚Äú...‚Äù)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Êé•Êî∂ÊâÄÊúâÊ∂àÊÅØ">Êé•Êî∂ÊâÄÊúâÊ∂àÊÅØ
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">wxauto</span> <span class="kn">import</span> <span class="n">wechat</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">WX</span> <span class="o">=</span> <span class="n">Wechat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># {</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     &#34;Áî®Êà∑ÊòµÁß∞A&#34;: [Ê∂àÊÅØÂØπË±°1, Ê∂àÊÅØÂØπË±°2, Ê∂àÊÅØÂØπË±°3],</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     &#34;Áî®Êà∑ÊòµÁß∞B&#34;: [Ê∂àÊÅØÂØπË±°1, Ê∂àÊÅØÂØπË±°2, Ê∂àÊÅØÂØπË±°3]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># }</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="c1"># Á≠âÂæÖÊé•ÂèóÊî∂Âà∞ÁöÑÊúÄÊñ∞Ê∂àÊÅØ</span>
</span></span><span class="line"><span class="cl">	<span class="n">msg_dict</span><span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">GetNextNewMessage</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">username</span><span class="p">,</span> <span class="n">msg_list</span> <span class="ow">in</span> <span class="n">msg_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">		<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;ÊòµÁß∞:&#34;</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="c1"># [Ê∂àÊÅØÂØπË±°1ÔºåÊ∂àÊÅØÂØπË±°2ÔºåÊ∂àÊÅØÂØπË±°3]</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">msg_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\t</span><span class="s2">Ê∂àÊÅØ&#34;</span><span class="p">,</span> <span class="n">msg</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">msg</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Êé•Êî∂ÊåáÂÆöÁî®Êà∑Ê∂àÊÅØ">Êé•Êî∂ÊåáÂÆöÁî®Êà∑Ê∂àÊÅØ
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">wxauto</span> <span class="kn">import</span> <span class="n">wechat</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">wx</span> <span class="o">=</span> <span class="n">Wechat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">wx</span><span class="o">.</span><span class="n">AddListenchat</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="s1">&#39;Áî®Êà∑ID&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="n">wx</span><span class="o">.</span><span class="n">AddListenchat</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="s2">&#34;...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                 
</span></span><span class="line"><span class="cl"><span class="c1"># {</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     &#34;Áî®Êà∑AËÅäÂ§©Á™óÂè£&#34;: [Ê∂àÊÅØÂØπË±°1, Ê∂àÊÅØÂØπË±°2, Ê∂àÊÅØÂØπË±°3],</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     &#34;Áî®Êà∑BËÅäÂ§©Á™óÂè£&#34;: [Ê∂àÊÅØÂØπË±°1, Ê∂àÊÅØÂØπË±°2, Ê∂àÊÅØÂØπË±°3]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># }</span>
</span></span><span class="line"><span class="cl">                 
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>	
</span></span><span class="line"><span class="cl">	<span class="n">listen</span> <span class="nb">dict</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">GetListenMessage</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">chat</span> <span class="n">win</span><span class="p">,</span> <span class="n">message</span> <span class="nb">list</span> <span class="ow">in</span> <span class="n">listen_</span> <span class="nb">dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">		<span class="c1">#Áî®Êà∑ÊàñÁæ§Âêç</span>
</span></span><span class="line"><span class="cl">		<span class="n">chat</span> <span class="n">user</span><span class="o">=</span><span class="n">chat</span> <span class="n">win</span><span class="o">.</span><span class="n">who</span>
</span></span><span class="line"><span class="cl">                 
</span></span><span class="line"><span class="cl">		<span class="c1">#[Ê∂àÊÅØÂØπË±°1,Ê∂àÊÅØÂØπË±°2,Ê∂àÊÅØÂØπË±°3]</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">message_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="s2">&#34;friend&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                 <span class="k">continue</span>
</span></span><span class="line"><span class="cl">			<span class="nb">print</span><span class="p">(</span><span class="n">chat_user</span><span class="p">,</span> <span class="n">msg</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="c1"># ÂõûÂ§çÊ∂àÊÅØ</span>
</span></span><span class="line"><span class="cl">		<span class="c1"># chat_win.sendMsg(&#34;ÂõûÂ§çÁöÑÂÜÖÂÆπ&#34;)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Êï¥‰ΩìÂÆûÁé∞">Êï¥‰ΩìÂÆûÁé∞
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">time</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">json</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">wxauto</span> <span class="kn">import</span> <span class="n">WeChat</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Âä†ËΩΩÂéÜÂè≤Ê∂àÊÅØËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl"><span class="n">DB</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">DB</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># MONITOR_LIST = []</span>
</span></span><span class="line"><span class="cl"><span class="c1"># fp = open(&#34;users.txt&#34;, encoding=&#39;utf-8&#39;, mode=&#39;r&#39;)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># for line in fp:</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     # ËØªÂèñusers.txtÂä†ËΩΩÁõëÂê¨Áî®Êà∑</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     # print(line)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     MONITOR_LIST.append(line)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># fp.close()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Âä†ËΩΩÁõëÂê¨Áî®Êà∑ÂàóË°®</span>
</span></span><span class="line"><span class="cl"><span class="n">MONITOR_LIST</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&#34;users.txt&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;users.txt&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># ÂéªÈô§È¶ñÂ∞æÁ©∫ÁôΩÂ≠óÁ¨¶ÂíåÊç¢Ë°åÁ¨¶</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">line</span><span class="p">:</span>  <span class="c1"># ÂøΩÁï•Á©∫Ë°å</span>
</span></span><span class="line"><span class="cl">                <span class="n">MONITOR_LIST</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Ë≠¶ÂëäÔºöÊú™ÊâæÂà∞ users.txt Êñá‰ª∂ÔºåÂ∞ÜÁõëÂê¨ÈªòËÆ§Áî®Êà∑ÂàóË°®&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">MONITOR_LIST</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;Ê≤ôÁ≥ª&#34;</span><span class="p">]</span>  <span class="c1"># ÈªòËÆ§ÁõëÂê¨Áî®Êà∑ÔºàÁ§∫‰æãÔºâ</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ÊâìÂºÄÂæÆ‰ø°</span>
</span></span><span class="line"><span class="cl"><span class="n">wx</span> <span class="o">=</span> <span class="n">WeChat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ÁõëÂê¨Ë¥¶Êà∑ÂàóË°®</span>
</span></span><span class="line"><span class="cl"><span class="c1"># MONITOR_LIST = [&#34;Ê≤ôÁ≥ª&#34;]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">ele</span> <span class="ow">in</span> <span class="n">MONITOR_LIST</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">wx</span><span class="o">.</span><span class="n">AddListenChat</span><span class="p">(</span><span class="n">who</span> <span class="o">=</span> <span class="n">ele</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ÁõëÂê¨Ê∂àÊÅØ</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">listen_dict</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">GetListenMessage</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">chat_win</span><span class="p">,</span> <span class="n">message_list</span> <span class="ow">in</span> <span class="n">listen_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># print(chat_win.who)</span>
</span></span><span class="line"><span class="cl">        <span class="n">chat_user</span> <span class="o">=</span> <span class="n">chat_win</span><span class="o">.</span><span class="n">who</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># Ëé∑ÂèñÊúÄÊñ∞ËÅäÂ§©Ê∂àÊÅØ</span>
</span></span><span class="line"><span class="cl">        <span class="n">interval_list</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">message_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="s2">&#34;friend&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">continue</span>
</span></span><span class="line"><span class="cl">            <span class="n">interval_list</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&#34;role&#34;</span><span class="p">:</span> <span class="s2">&#34;user&#34;</span><span class="p">,</span> <span class="s2">&#34;content&#34;</span><span class="p">:</span> <span class="n">msg</span><span class="o">.</span><span class="n">content</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">interval_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># ÊãºÊé•ÂéÜÂè≤ËÅäÂ§©ËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;ÂæÆ‰ø°Ê∂àÊÅØÔºö&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">interval</span> <span class="ow">in</span> <span class="n">interval_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">history_list</span> <span class="o">=</span> <span class="n">DB</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">chat_user</span><span class="p">,</span> <span class="p">[])</span>
</span></span><span class="line"><span class="cl">        <span class="n">history_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">interval_list</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># Ë∞ÉÁî®Êú¨Âú∞ deepseek Ê®°Âûã</span>
</span></span><span class="line"><span class="cl">        <span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="n">url</span><span class="o">=</span><span class="s2">&#34;http://localhost:11434/api/chat&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">json</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;model&#34;</span><span class="p">:</span> <span class="s2">&#34;deepseek-r1:8b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;message&#34;</span><span class="p">:</span> <span class="n">history_list</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;stream&#34;</span><span class="p">:</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">data_dict</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">res_msg_dict</span> <span class="o">=</span> <span class="n">data_dict</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># Ëé∑Âèñ deepseek ÂõûÂ§çÂÜÖÂÆπÔºåÂæÆ‰ø°ÂõûÂ§ç</span>
</span></span><span class="line"><span class="cl">        <span class="n">res_content</span> <span class="o">=</span> <span class="n">res_msg_dict</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">chat_win</span><span class="o">.</span><span class="n">SendMsg</span><span class="p">(</span><span class="n">res_content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;deepseekÂõûÂ§çÔºö&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">res_content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># ‰øùÂ≠òÊ≤üÈÄöËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl">        <span class="n">history_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res_msg_dict</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">DB</span><span class="p">[</span><span class="n">chat_user</span><span class="p">]</span> <span class="o">=</span> <span class="n">history_list</span>
</span></span><span class="line"><span class="cl">        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">DB</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰ª£Á†ÅËøêË°åÂêéËÉΩÂ§üÊàêÂäüÁõëÂê¨Âà∞ÂæÆ‰ø°Â•ΩÂèãÂèëÈÄÅÁöÑÊ∂àÊÅØÔºå‰∏îËÉΩÂ§üËØªÂèñÂà∞Ê∂àÊÅØ‰ø°ÊÅØÔºå‰ΩÜÊòØÂú®ÂõûÂ§çÊó∂‰∏ÄÁõ¥Êä•ÈîôÔºåÊòæÁ§∫ÂõûÂ§çÊó∂Èó¥Ë∂ÖÊó∂ÔºåÊä•Èîô‰ø°ÊÅØÂ¶Ç‰∏ã„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="n">File</span> <span class="s2">&#34;D:\PycharmProject\WebAutoTest\Auto_Chat\Auto_Chat.py&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">82</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="n">chat_win</span><span class="o">.</span><span class="n">SendMsg</span><span class="p">(</span><span class="n">res_content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">File</span> <span class="s2">&#34;D:\PycharmProject\WebAutoTest</span><span class="se">\v</span><span class="s2">env\lib\site-packages\wxauto\elements.py&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">250</span><span class="p">,</span> <span class="ow">in</span> <span class="n">SendMsg</span>
</span></span><span class="line"><span class="cl">    <span class="k">raise</span> <span class="ne">TimeoutError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ÂèëÈÄÅÊ∂àÊÅØË∂ÖÊó∂ --&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">who</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="ne">TimeoutError</span><span class="p">:</span> <span class="n">ÂèëÈÄÅÊ∂àÊÅØË∂ÖÊó∂</span> <span class="o">--&gt;</span> <span class="n">Ê≤ôÁ≥ª</span> <span class="o">-</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ËØ¢ÈóÆ AI ‰øÆÊîπÂêé‰ª£Á†ÅÂ¶Ç‰∏ãÔºå‰ΩÜ‰ªçÊú™ËÉΩËß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">time</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">json</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">wxauto</span> <span class="kn">import</span> <span class="n">WeChat</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">win32gui</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">win32con</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ======================== Â∑•ÂÖ∑ÂáΩÊï∞ ========================</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">activate_window</span><span class="p">(</span><span class="n">window_title</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Âº∫Âà∂ÊøÄÊ¥ªÂæÆ‰ø°Á™óÂè£ÔºàÈúÄÁÆ°ÁêÜÂëòÊùÉÈôêÔºâ&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">hwnd</span> <span class="o">=</span> <span class="n">win32gui</span><span class="o">.</span><span class="n">FindWindow</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">window_title</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">hwnd</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">win32gui</span><span class="o">.</span><span class="n">ShowWindow</span><span class="p">(</span><span class="n">hwnd</span><span class="p">,</span> <span class="n">win32con</span><span class="o">.</span><span class="n">SW_RESTORE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">win32gui</span><span class="o">.</span><span class="n">SetForegroundWindow</span><span class="p">(</span><span class="n">hwnd</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Á™óÂè£ÊøÄÊ¥ªÂ§±Ë¥•Ôºà‰∏çÂΩ±ÂìçÂèëÈÄÅÔºâ: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">safe_send_msg</span><span class="p">(</span><span class="n">chat_win</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">max_retries</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Â∏¶ÈáçËØïÊú∫Âà∂ÁöÑÊ∂àÊÅØÂèëÈÄÅ&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">attempt</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_retries</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># Â∞ùËØïÊøÄÊ¥ªÁ™óÂè£ÔºàÊèêÈ´òÊàêÂäüÁéáÔºâ</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">chat_win</span><span class="p">,</span> <span class="s1">&#39;who&#39;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">activate_window</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">chat_win</span><span class="o">.</span><span class="n">who</span><span class="si">}</span><span class="s2"> - ÂæÆ‰ø°&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">chat_win</span><span class="o">.</span><span class="n">SendMsg</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;ÂèëÈÄÅÂ§±Ë¥•ÔºàÂ∞ùËØï </span><span class="si">{</span><span class="n">attempt</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">max_retries</span><span class="si">}</span><span class="s2">Ôºâ: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ======================== ‰∏ªÈÄªËæë ========================</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Âä†ËΩΩÂéÜÂè≤Ê∂àÊÅØËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl"><span class="n">DB</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">DB</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;ÂéÜÂè≤ËÆ∞ÂΩïÂä†ËΩΩÂ§±Ë¥•: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Âä†ËΩΩÁõëÂê¨Áî®Êà∑ÂàóË°®</span>
</span></span><span class="line"><span class="cl"><span class="n">MONITOR_LIST</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&#34;users.txt&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;users.txt&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">line</span> <span class="ow">and</span> <span class="n">line</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">MONITOR_LIST</span><span class="p">:</span>  <span class="c1"># ÂéªÈáç</span>
</span></span><span class="line"><span class="cl">                <span class="n">MONITOR_LIST</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Ë≠¶ÂëäÔºöÊú™ÊâæÂà∞ users.txt Êñá‰ª∂ÔºåÂ∞ÜÁõëÂê¨ÈªòËÆ§Áî®Êà∑&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">MONITOR_LIST</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;Ê≤ôÁ≥ª&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ÂàùÂßãÂåñÂæÆ‰ø°</span>
</span></span><span class="line"><span class="cl"><span class="n">wx</span> <span class="o">=</span> <span class="n">WeChat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">MONITOR_LIST</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">wx</span><span class="o">.</span><span class="n">AddListenChat</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Â∑≤ÁõëÂê¨Áî®Êà∑: </span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;ÁõëÂê¨Áî®Êà∑ </span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2"> Â§±Ë¥•: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ‰∏ªÂæ™ÁéØ</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">listen_dict</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">GetListenMessage</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">chat_win</span><span class="p">,</span> <span class="n">message_list</span> <span class="ow">in</span> <span class="n">listen_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">chat_user</span> <span class="o">=</span> <span class="n">chat_win</span><span class="o">.</span><span class="n">who</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1"># ËøáÊª§ÈùûÂ•ΩÂèãÊ∂àÊÅØ</span>
</span></span><span class="line"><span class="cl">            <span class="n">interval_list</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="s2">&#34;role&#34;</span><span class="p">:</span> <span class="s2">&#34;user&#34;</span><span class="p">,</span> <span class="s2">&#34;content&#34;</span><span class="p">:</span> <span class="n">msg</span><span class="o">.</span><span class="n">content</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">message_list</span> <span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&#34;friend&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">interval_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">continue</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">Êî∂Âà∞Êù•Ëá™ </span><span class="si">{</span><span class="n">chat_user</span><span class="si">}</span><span class="s2"> ÁöÑÊ∂àÊÅØ:&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">interval_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;  </span><span class="si">{</span><span class="n">msg</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1"># ÂêàÂπ∂ÂéÜÂè≤ËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl">            <span class="n">history_list</span> <span class="o">=</span> <span class="n">DB</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">chat_user</span><span class="p">,</span> <span class="p">[])</span>
</span></span><span class="line"><span class="cl">            <span class="n">history_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">interval_list</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1"># Ë∞ÉÁî®Ê®°ÂûãAPI</span>
</span></span><span class="line"><span class="cl">            <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="n">url</span><span class="o">=</span><span class="s2">&#34;http://localhost:11434/api/chat&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">json</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;model&#34;</span><span class="p">:</span> <span class="s2">&#34;deepseek-r1:8b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;message&#34;</span><span class="p">:</span> <span class="n">history_list</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;stream&#34;</span><span class="p">:</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">res</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="n">reply</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="n">reply_content</span> <span class="o">=</span> <span class="n">reply</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Ê®°ÂûãË∞ÉÁî®Â§±Ë¥•: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">reply_content</span> <span class="o">=</span> <span class="s2">&#34;ÔºàÊÄùËÄÉ‰∏≠...ËØ∑Á®çÂêéÂÜçËØïÔºâ&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1"># ÂèëÈÄÅÂõûÂ§ç</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">ÂõûÂ§ç </span><span class="si">{</span><span class="n">chat_user</span><span class="si">}</span><span class="s2">:&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;  </span><span class="si">{</span><span class="n">reply_content</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">safe_send_msg</span><span class="p">(</span><span class="n">chat_win</span><span class="p">,</span> <span class="n">reply_content</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;‚ö†Ô∏è ÊúÄÁªàÂèëÈÄÅÂ§±Ë¥•: </span><span class="si">{</span><span class="n">reply_content</span><span class="p">[:</span><span class="mi">50</span><span class="p">]</span><span class="si">}</span><span class="s2">...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># ‰øùÂ≠òÊàêÂäüËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl">                <span class="n">history_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">reply</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">DB</span><span class="p">[</span><span class="n">chat_user</span><span class="p">]</span> <span class="o">=</span> <span class="n">history_list</span>
</span></span><span class="line"><span class="cl">                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">DB</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Èôç‰ΩéCPUÂç†Áî®</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">Áî®Êà∑ÁªàÊ≠¢Á®ãÂ∫è&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">break</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;‰∏ªÂæ™ÁéØÂºÇÂ∏∏: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># Èò≤Ê≠¢È¢ëÁπÅÊä•Èîô</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ê≠§Êó∂Ê£ÄÊü•ÂèØËÉΩÂΩ±ÂìçÂõ†Á¥†Ôºåollama Ê≠£Â∏∏ËøêË°åÔºåËÉΩÂ§üËÆøÈóÆÂà∞ api Âú∞ÂùÄ http://localhost:11434/api/tagsÔºåÁÆ°ÁêÜÂëòË∫´‰ªΩËøêË°å pycharmÔºåÊ®°ÂûãÂä†ËΩΩÊ≠£Â∏∏ÔºåÊöÇÊó∂Êú™ÂèëÁé∞ÂÖ∂‰ªñÈóÆÈ¢ò„ÄÇ</p>
<p>ÁªàÁ´Ø‰ø°ÊÅØËæìÂá∫Â¶Ç‰∏ã„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cmd" data-lang="cmd"><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.115+08:00 level=WARN source=ggml.go:152 msg=<span class="s2">&#34;key not found&#34;</span> key=general.alignment default=32
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.142+08:00 level=WARN source=ggml.go:152 msg=<span class="s2">&#34;key not found&#34;</span> key=general.alignment default=32
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.155+08:00 level=WARN source=ggml.go:152 msg=<span class="s2">&#34;key not found&#34;</span> key=general.alignment default=32
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.156+08:00 level=WARN source=ggml.go:152 msg=<span class="s2">&#34;key not found&#34;</span> key=llama.vision.block_count default=0
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.156+08:00 level=WARN source=ggml.go:152 msg=<span class="s2">&#34;key not found&#34;</span> key=llama.attention.key_length default=128
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.156+08:00 level=WARN source=ggml.go:152 msg=<span class="s2">&#34;key not found&#34;</span> key=llama.attention.value_length default=128
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.156+08:00 level=INFO source=sched.go:754 msg=<span class="s2">&#34;new model will fit in available VRAM in single GPU, loading&#34;</span> model=C:\Users\Ysam\.ollama\models\blobs\sha256-6340dc3229b0d08ea9cc49b75d4098702983e17b4c096d57afbbf2ffc813f2be gpu=GPU-189333b1-98d9-8621-adb5-344761953fc5 parallel=2 available=7349653504 required=<span class="s2">&#34;6.5 GiB&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.177+08:00 level=INFO source=server.go:106 msg=<span class="s2">&#34;system memory&#34;</span> total=<span class="s2">&#34;31.3 GiB&#34;</span> free=<span class="s2">&#34;16.5 GiB&#34;</span> free_swap=<span class="s2">&#34;22.9 GiB&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.177+08:00 level=WARN source=ggml.go:152 msg=<span class="s2">&#34;key not found&#34;</span> key=llama.vision.block_count default=0
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.177+08:00 level=WARN source=ggml.go:152 msg=<span class="s2">&#34;key not found&#34;</span> key=llama.attention.key_length default=128
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.177+08:00 level=WARN source=ggml.go:152 msg=<span class="s2">&#34;key not found&#34;</span> key=llama.attention.value_length default=128
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.177+08:00 level=INFO source=server.go:139 msg=offload library=cuda layers.requested=-1 layers.model=33 layers.offload=33 layers.split=<span class="s2">&#34;&#34;</span> memory.available=<span class="s2">&#34;[6.8 GiB]&#34;</span> memory.gpu_overhead=<span class="s2">&#34;0 B&#34;</span> memory.required.full=<span class="s2">&#34;6.5 GiB&#34;</span> memory.required.partial=<span class="s2">&#34;6.5 GiB&#34;</span> memory.required.kv=<span class="s2">&#34;1.0 GiB&#34;</span> memory.required.allocations=<span class="s2">&#34;[6.5 GiB]&#34;</span> memory.weights.total=<span class="s2">&#34;4.3 GiB&#34;</span> memory.weights.repeating=<span class="s2">&#34;3.9 GiB&#34;</span> memory.weights.nonrepeating=<span class="s2">&#34;411.0 MiB&#34;</span> memory.graph.full=<span class="s2">&#34;560.0 MiB&#34;</span> memory.graph.partial=<span class="s2">&#34;677.5 MiB&#34;</span>
</span></span><span class="line"><span class="cl">llama_model_loader: loaded meta data with 28 key-value pairs and 292 tensors from C:\Users\Ysam\.ollama\models\blobs\sha256-6340dc3229b0d08ea9cc49b75d4098702983e17b4c096d57afbbf2ffc813f2be (version GGUF V3 (latest))
</span></span><span class="line"><span class="cl">llama_model_loader: Dumping metadata keys/values. Note: KV overrides do not apply in this output.
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   0:                       general.architecture str              = llama
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   1:                               general.type str              = model
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   2:                               general.name str              = DeepSeek R1 Distill Llama 8B
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   3:                           general.basename str              = DeepSeek-R1-Distill-Llama
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   4:                         general.size_label str              = 8B
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   5:                          llama.block_count u32              = 32
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   6:                       llama.context_length u32              = 131072
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   7:                     llama.embedding_length u32              = 4096
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   8:                  llama.feed_forward_length u32              = 14336
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   9:                 llama.attention.head_count u32              = 32
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  10:              llama.attention.head_count_kv u32              = 8
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  11:                       llama.rope.freq_base f32              = 500000.000000
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  12:     llama.attention.layer_norm_rms_epsilon f32              = 0.000010
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  13:                          general.file_type u32              = 15
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  14:                           llama.vocab_size u32              = 128256
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  15:                 llama.rope.dimension_count u32              = 128
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  16:                       tokenizer.ggml.model str              = gpt2
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  17:                         tokenizer.ggml.pre str              = llama-bpe
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  18:                      tokenizer.ggml.tokens arr[str,128256]  = [<span class="s2">&#34;!&#34;</span>, <span class="s2">&#34;\&#34;&#34;, &#34;</span>#<span class="s2">&#34;, &#34;</span>$<span class="s2">&#34;, &#34;</span>%<span class="s2">&#34;, &#34;</span><span class="p">&amp;</span><span class="s2">&#34;, &#34;</span>&#39;<span class="s2">&#34;, ...</span>
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  19:                  tokenizer.ggml.token_type arr[i32,128256]  = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  20:                      tokenizer.ggml.merges arr[str,280147]  = [<span class="s2">&#34;ƒ† ƒ†&#34;</span>, <span class="s2">&#34;ƒ† ƒ†ƒ†ƒ†&#34;</span>, <span class="s2">&#34;ƒ†ƒ† ƒ†ƒ†&#34;</span>, <span class="s2">&#34;...</span>
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  21:                tokenizer.ggml.bos_token_id u32              = 128000
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  22:                tokenizer.ggml.eos_token_id u32              = 128001
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  23:            tokenizer.ggml.padding_token_id u32              = 128001
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  24:               tokenizer.ggml.add_bos_token bool             = true
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  25:               tokenizer.ggml.add_eos_token bool             = false
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  26:                    tokenizer.chat_template str              = {% if not add_generation_prompt is de...
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  27:               general.quantization_version u32              = 2
</span></span><span class="line"><span class="cl">llama_model_loader: - type  f32:   66 tensors
</span></span><span class="line"><span class="cl">llama_model_loader: - type q4_K:  193 tensors
</span></span><span class="line"><span class="cl">llama_model_loader: - type q6_K:   33 tensors
</span></span><span class="line"><span class="cl">print_info: file format = GGUF V3 (latest)
</span></span><span class="line"><span class="cl">print_info: file type   = Q4_K - Medium
</span></span><span class="line"><span class="cl">print_info: file size   = 4.58 GiB (4.89 BPW)
</span></span><span class="line"><span class="cl">load: special_eos_id is not in special_eog_ids - the tokenizer config may be incorrect
</span></span><span class="line"><span class="cl">load: special tokens cache size = 256
</span></span><span class="line"><span class="cl">load: token to piece cache size = 0.7999 MB
</span></span><span class="line"><span class="cl">print_info: arch             = llama
</span></span><span class="line"><span class="cl">print_info: vocab_only       = 1
</span></span><span class="line"><span class="cl">print_info: model type       = ?B
</span></span><span class="line"><span class="cl">print_info: model params     = 8.03 B
</span></span><span class="line"><span class="cl">print_info: general.name     = DeepSeek R1 Distill Llama 8B
</span></span><span class="line"><span class="cl">print_info: vocab type       = BPE
</span></span><span class="line"><span class="cl">print_info: n_vocab          = 128256
</span></span><span class="line"><span class="cl">print_info: n_merges         = 280147
</span></span><span class="line"><span class="cl">print_info: BOS token        = 128000 &#39;<span class="p">&lt;</span>ÔΩúbegin‚ñÅof‚ñÅsentenceÔΩú<span class="p">&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: EOS token        = 128001 &#39;<span class="p">&lt;</span>ÔΩúend‚ñÅof‚ñÅsentenceÔΩú<span class="p">&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: EOT token        = 128001 &#39;<span class="p">&lt;</span>ÔΩúend‚ñÅof‚ñÅsentenceÔΩú<span class="p">&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: EOM token        = 128008 &#39;<span class="p">&lt;</span>|eom_id<span class="p">|&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: PAD token        = 128001 &#39;<span class="p">&lt;</span>ÔΩúend‚ñÅof‚ñÅsentenceÔΩú<span class="p">&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: LF token         = 198 &#39;ƒä&#39;
</span></span><span class="line"><span class="cl">print_info: EOG token        = 128001 &#39;<span class="p">&lt;</span>ÔΩúend‚ñÅof‚ñÅsentenceÔΩú<span class="p">&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: EOG token        = 128008 &#39;<span class="p">&lt;</span>|eom_id<span class="p">|&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: EOG token        = 128009 &#39;<span class="p">&lt;</span>|eot_id<span class="p">|&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: max token length = 256
</span></span><span class="line"><span class="cl">llama_model_load: vocab only - skipping tensors
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.398+08:00 level=INFO source=server.go:410 msg=<span class="s2">&#34;starting llama server&#34;</span> cmd=<span class="s2">&#34;C:\\Users\\Ysam\\AppData\\Local\\Programs\\Ollama\\ollama.exe runner --model C:\\Users\\Ysam\\.ollama\\models\\blobs\\sha256-6340dc3229b0d08ea9cc49b75d4098702983e17b4c096d57afbbf2ffc813f2be --ctx-size 8192 --batch-size 512 --n-gpu-layers 33 --threads 12 --no-mmap --parallel 2 --port 57197&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.401+08:00 level=INFO source=sched.go:452 msg=<span class="s2">&#34;loaded runners&#34;</span> count=1
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.401+08:00 level=INFO source=server.go:589 msg=<span class="s2">&#34;waiting for llama runner to start responding&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.401+08:00 level=INFO source=server.go:623 msg=<span class="s2">&#34;waiting for server to become available&#34;</span> status=<span class="s2">&#34;llm server error&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.420+08:00 level=INFO source=runner.go:853 msg=<span class="s2">&#34;starting go runner&#34;</span>
</span></span><span class="line"><span class="cl">load_backend: loaded CPU backend from C:\Users\Ysam\AppData\Local\Programs\Ollama\lib\ollama\ggml-cpu-icelake.dll
</span></span><span class="line"><span class="cl">ggml_cuda_init: GGML_CUDA_FORCE_MMQ:    no
</span></span><span class="line"><span class="cl">ggml_cuda_init: GGML_CUDA_FORCE_CUBLAS: no
</span></span><span class="line"><span class="cl">ggml_cuda_init: found 1 CUDA devices:
</span></span><span class="line"><span class="cl">  Device 0: NVIDIA GeForce RTX 4070 Laptop GPU, compute capability 8.9, VMM: yes
</span></span><span class="line"><span class="cl">load_backend: loaded CUDA backend from C:\Users\Ysam\AppData\Local\Programs\Ollama\lib\ollama\cuda_v12\ggml-cuda.dll
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.744+08:00 level=INFO source=ggml.go:103 msg=system CPU.0.SSE3=1 CPU.0.SSSE3=1 CPU.0.AVX=1 CPU.0.AVX2=1 CPU.0.F16C=1 CPU.0.FMA=1 CPU.0.BMI2=1 CPU.0.AVX512=1 CPU.0.AVX512_VBMI=1 CPU.0.AVX512_VNNI=1 CPU.0.LLAMAFILE=1 CPU.1.LLAMAFILE=1 CUDA.0.ARCHS=500,600,610,700,750,800,860,870,890,900,1200 CUDA.0.USE_GRAPHS=1 CUDA.0.PEER_MAX_BATCH_SIZE=128 compiler=cgo(clang)
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.744+08:00 level=INFO source=runner.go:913 msg=<span class="s2">&#34;Server listening on 127.0.0.1:57197&#34;</span>
</span></span><span class="line"><span class="cl">llama_model_load_from_file_impl: using device CUDA0 (NVIDIA GeForce RTX 4070 Laptop GPU) - 7056 MiB free
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:44.903+08:00 level=INFO source=server.go:623 msg=<span class="s2">&#34;waiting for server to become available&#34;</span> status=<span class="s2">&#34;llm server loading model&#34;</span>
</span></span><span class="line"><span class="cl">llama_model_loader: loaded meta data with 28 key-value pairs and 292 tensors from C:\Users\Ysam\.ollama\models\blobs\sha256-6340dc3229b0d08ea9cc49b75d4098702983e17b4c096d57afbbf2ffc813f2be (version GGUF V3 (latest))
</span></span><span class="line"><span class="cl">llama_model_loader: Dumping metadata keys/values. Note: KV overrides do not apply in this output.
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   0:                       general.architecture str              = llama
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   1:                               general.type str              = model
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   2:                               general.name str              = DeepSeek R1 Distill Llama 8B
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   3:                           general.basename str              = DeepSeek-R1-Distill-Llama
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   4:                         general.size_label str              = 8B
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   5:                          llama.block_count u32              = 32
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   6:                       llama.context_length u32              = 131072
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   7:                     llama.embedding_length u32              = 4096
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   8:                  llama.feed_forward_length u32              = 14336
</span></span><span class="line"><span class="cl">llama_model_loader: - kv   9:                 llama.attention.head_count u32              = 32
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  10:              llama.attention.head_count_kv u32              = 8
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  11:                       llama.rope.freq_base f32              = 500000.000000
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  12:     llama.attention.layer_norm_rms_epsilon f32              = 0.000010
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  13:                          general.file_type u32              = 15
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  14:                           llama.vocab_size u32              = 128256
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  15:                 llama.rope.dimension_count u32              = 128
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  16:                       tokenizer.ggml.model str              = gpt2
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  17:                         tokenizer.ggml.pre str              = llama-bpe
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  18:                      tokenizer.ggml.tokens arr[str,128256]  = [<span class="s2">&#34;!&#34;</span>, <span class="s2">&#34;\&#34;&#34;, &#34;</span>#<span class="s2">&#34;, &#34;</span>$<span class="s2">&#34;, &#34;</span>%<span class="s2">&#34;, &#34;</span><span class="p">&amp;</span><span class="s2">&#34;, &#34;</span>&#39;<span class="s2">&#34;, ...</span>
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  19:                  tokenizer.ggml.token_type arr[i32,128256]  = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  20:                      tokenizer.ggml.merges arr[str,280147]  = [<span class="s2">&#34;ƒ† ƒ†&#34;</span>, <span class="s2">&#34;ƒ† ƒ†ƒ†ƒ†&#34;</span>, <span class="s2">&#34;ƒ†ƒ† ƒ†ƒ†&#34;</span>, <span class="s2">&#34;...</span>
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  21:                tokenizer.ggml.bos_token_id u32              = 128000
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  22:                tokenizer.ggml.eos_token_id u32              = 128001
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  23:            tokenizer.ggml.padding_token_id u32              = 128001
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  24:               tokenizer.ggml.add_bos_token bool             = true
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  25:               tokenizer.ggml.add_eos_token bool             = false
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  26:                    tokenizer.chat_template str              = {% if not add_generation_prompt is de...
</span></span><span class="line"><span class="cl">llama_model_loader: - kv  27:               general.quantization_version u32              = 2
</span></span><span class="line"><span class="cl">llama_model_loader: - type  f32:   66 tensors
</span></span><span class="line"><span class="cl">llama_model_loader: - type q4_K:  193 tensors
</span></span><span class="line"><span class="cl">llama_model_loader: - type q6_K:   33 tensors
</span></span><span class="line"><span class="cl">print_info: file format = GGUF V3 (latest)
</span></span><span class="line"><span class="cl">print_info: file type   = Q4_K - Medium
</span></span><span class="line"><span class="cl">print_info: file size   = 4.58 GiB (4.89 BPW)
</span></span><span class="line"><span class="cl">load: special_eos_id is not in special_eog_ids - the tokenizer config may be incorrect
</span></span><span class="line"><span class="cl">load: special tokens cache size = 256
</span></span><span class="line"><span class="cl">load: token to piece cache size = 0.7999 MB
</span></span><span class="line"><span class="cl">print_info: arch             = llama
</span></span><span class="line"><span class="cl">print_info: vocab_only       = 0
</span></span><span class="line"><span class="cl">print_info: n_ctx_train      = 131072
</span></span><span class="line"><span class="cl">print_info: n_embd           = 4096
</span></span><span class="line"><span class="cl">print_info: n_layer          = 32
</span></span><span class="line"><span class="cl">print_info: n_head           = 32
</span></span><span class="line"><span class="cl">print_info: n_head_kv        = 8
</span></span><span class="line"><span class="cl">print_info: n_rot            = 128
</span></span><span class="line"><span class="cl">print_info: n_swa            = 0
</span></span><span class="line"><span class="cl">print_info: n_swa_pattern    = 1
</span></span><span class="line"><span class="cl">print_info: n_embd_head_k    = 128
</span></span><span class="line"><span class="cl">print_info: n_embd_head_v    = 128
</span></span><span class="line"><span class="cl">print_info: n_gqa            = 4
</span></span><span class="line"><span class="cl">print_info: n_embd_k_gqa     = 1024
</span></span><span class="line"><span class="cl">print_info: n_embd_v_gqa     = 1024
</span></span><span class="line"><span class="cl">print_info: f_norm_eps       = 0.0e+00
</span></span><span class="line"><span class="cl">print_info: f_norm_rms_eps   = 1.0e-05
</span></span><span class="line"><span class="cl">print_info: f_clamp_kqv      = 0.0e+00
</span></span><span class="line"><span class="cl">print_info: f_max_alibi_bias = 0.0e+00
</span></span><span class="line"><span class="cl">print_info: f_logit_scale    = 0.0e+00
</span></span><span class="line"><span class="cl">print_info: f_attn_scale     = 0.0e+00
</span></span><span class="line"><span class="cl">print_info: n_ff             = 14336
</span></span><span class="line"><span class="cl">print_info: n_expert         = 0
</span></span><span class="line"><span class="cl">print_info: n_expert_used    = 0
</span></span><span class="line"><span class="cl">print_info: causal attn      = 1
</span></span><span class="line"><span class="cl">print_info: pooling type     = 0
</span></span><span class="line"><span class="cl">print_info: rope type        = 0
</span></span><span class="line"><span class="cl">print_info: rope scaling     = linear
</span></span><span class="line"><span class="cl">print_info: freq_base_train  = 500000.0
</span></span><span class="line"><span class="cl">print_info: freq_scale_train = 1
</span></span><span class="line"><span class="cl">print_info: n_ctx_orig_yarn  = 131072
</span></span><span class="line"><span class="cl">print_info: rope_finetuned   = unknown
</span></span><span class="line"><span class="cl">print_info: ssm_d_conv       = 0
</span></span><span class="line"><span class="cl">print_info: ssm_d_inner      = 0
</span></span><span class="line"><span class="cl">print_info: ssm_d_state      = 0
</span></span><span class="line"><span class="cl">print_info: ssm_dt_rank      = 0
</span></span><span class="line"><span class="cl">print_info: ssm_dt_b_c_rms   = 0
</span></span><span class="line"><span class="cl">print_info: model type       = 8B
</span></span><span class="line"><span class="cl">print_info: model params     = 8.03 B
</span></span><span class="line"><span class="cl">print_info: general.name     = DeepSeek R1 Distill Llama 8B
</span></span><span class="line"><span class="cl">print_info: vocab type       = BPE
</span></span><span class="line"><span class="cl">print_info: n_vocab          = 128256
</span></span><span class="line"><span class="cl">print_info: n_merges         = 280147
</span></span><span class="line"><span class="cl">print_info: BOS token        = 128000 &#39;<span class="p">&lt;</span>ÔΩúbegin‚ñÅof‚ñÅsentenceÔΩú<span class="p">&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: EOS token        = 128001 &#39;<span class="p">&lt;</span>ÔΩúend‚ñÅof‚ñÅsentenceÔΩú<span class="p">&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: EOT token        = 128001 &#39;<span class="p">&lt;</span>ÔΩúend‚ñÅof‚ñÅsentenceÔΩú<span class="p">&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: EOM token        = 128008 &#39;<span class="p">&lt;</span>|eom_id<span class="p">|&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: PAD token        = 128001 &#39;<span class="p">&lt;</span>ÔΩúend‚ñÅof‚ñÅsentenceÔΩú<span class="p">&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: LF token         = 198 &#39;ƒä&#39;
</span></span><span class="line"><span class="cl">print_info: EOG token        = 128001 &#39;<span class="p">&lt;</span>ÔΩúend‚ñÅof‚ñÅsentenceÔΩú<span class="p">&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: EOG token        = 128008 &#39;<span class="p">&lt;</span>|eom_id<span class="p">|&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: EOG token        = 128009 &#39;<span class="p">&lt;</span>|eot_id<span class="p">|&gt;</span>&#39;
</span></span><span class="line"><span class="cl">print_info: max token length = 256
</span></span><span class="line"><span class="cl">load_tensors: loading model tensors, this can take a while... (mmap = false)
</span></span><span class="line"><span class="cl">load_tensors: offloading 32 repeating layers to GPU
</span></span><span class="line"><span class="cl">load_tensors: offloading output layer to GPU
</span></span><span class="line"><span class="cl">load_tensors: offloaded 33/33 layers to GPU
</span></span><span class="line"><span class="cl">load_tensors:        CUDA0 model buffer size =  4403.49 MiB
</span></span><span class="line"><span class="cl">load_tensors:          CPU model buffer size =   281.81 MiB
</span></span><span class="line"><span class="cl">llama_context: constructing llama_context
</span></span><span class="line"><span class="cl">llama_context: n_seq_max     = 2
</span></span><span class="line"><span class="cl">llama_context: n_ctx         = 8192
</span></span><span class="line"><span class="cl">llama_context: n_ctx_per_seq = 4096
</span></span><span class="line"><span class="cl">llama_context: n_batch       = 1024
</span></span><span class="line"><span class="cl">llama_context: n_ubatch      = 512
</span></span><span class="line"><span class="cl">llama_context: causal_attn   = 1
</span></span><span class="line"><span class="cl">llama_context: flash_attn    = 0
</span></span><span class="line"><span class="cl">llama_context: freq_base     = 500000.0
</span></span><span class="line"><span class="cl">llama_context: freq_scale    = 1
</span></span><span class="line"><span class="cl">llama_context: n_ctx_per_seq (4096) <span class="p">&lt;</span> n_ctx_train (131072) -- the full capacity of the model will not be utilized
</span></span><span class="line"><span class="cl">llama_context:  CUDA_Host  output buffer size =     1.01 MiB
</span></span><span class="line"><span class="cl">init: kv_size = 8192, offload = 1, type_k = &#39;f16&#39;, type_v = &#39;f16&#39;, n_layer = 32, can_shift = 1
</span></span><span class="line"><span class="cl">init:      CUDA0 KV buffer size =  1024.00 MiB
</span></span><span class="line"><span class="cl">llama_context: KV self size  = 1024.00 MiB, K (f16):  512.00 MiB, V (f16):  512.00 MiB
</span></span><span class="line"><span class="cl">llama_context:      CUDA0 compute buffer size =   560.00 MiB
</span></span><span class="line"><span class="cl">llama_context:  CUDA_Host compute buffer size =    24.01 MiB
</span></span><span class="line"><span class="cl">llama_context: graph nodes  = 1094
</span></span><span class="line"><span class="cl">llama_context: graph splits = 2
</span></span><span class="line"><span class="cl"><span class="k">time</span>=2025-06-07T11:16:45.904+08:00 level=INFO source=server.go:628 msg=<span class="s2">&#34;llama runner started in 1.50 seconds&#34;</span>
</span></span><span class="line"><span class="cl">[GIN] 2025/06/07 - 11:16:45 <span class="p">|</span> 200 <span class="p">|</span>    1.8019804s <span class="p">|</span>       127.0.0.1 <span class="p">|</span> POST     <span class="s2">&#34;/api/chat&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="‰ª£Á†Å‰øÆÊîπ">‰ª£Á†Å‰øÆÊîπ
</h2><h3 id="ÈóÆÁ≠îËøáÁ®ã">ÈóÆÁ≠îËøáÁ®ã
</h3><h4 id="ÊèêÈóÆ1">ÊèêÈóÆ1
</h4><blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span><span class="lnt">293
</span><span class="lnt">294
</span><span class="lnt">295
</span><span class="lnt">296
</span><span class="lnt">297
</span><span class="lnt">298
</span><span class="lnt">299
</span><span class="lnt">300
</span><span class="lnt">301
</span><span class="lnt">302
</span><span class="lnt">303
</span><span class="lnt">304
</span><span class="lnt">305
</span><span class="lnt">306
</span><span class="lnt">307
</span><span class="lnt">308
</span><span class="lnt">309
</span><span class="lnt">310
</span><span class="lnt">311
</span><span class="lnt">312
</span><span class="lnt">313
</span><span class="lnt">314
</span><span class="lnt">315
</span><span class="lnt">316
</span><span class="lnt">317
</span><span class="lnt">318
</span><span class="lnt">319
</span><span class="lnt">320
</span><span class="lnt">321
</span><span class="lnt">322
</span><span class="lnt">323
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">time</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">json</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">wxauto</span> <span class="kn">import</span> <span class="n">WeChat</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Âä†ËΩΩÂéÜÂè≤Ê∂àÊÅØËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl"><span class="n">DB</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">fp</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">DB</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">fp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># MONITOR_LIST = []</span>
</span></span><span class="line"><span class="cl"><span class="c1"># fp = open(&#34;users.txt&#34;, encoding=&#39;utf-8&#39;, mode=&#39;r&#39;)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># for line in fp:</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     # ËØªÂèñusers.txtÂä†ËΩΩÁõëÂê¨Áî®Êà∑</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     # print(line)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#     MONITOR_LIST.append(line)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># fp.close()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Âä†ËΩΩÁõëÂê¨Áî®Êà∑ÂàóË°®</span>
</span></span><span class="line"><span class="cl"><span class="n">MONITOR_LIST</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&#34;users.txt&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;users.txt&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># ÂéªÈô§È¶ñÂ∞æÁ©∫ÁôΩÂ≠óÁ¨¶ÂíåÊç¢Ë°åÁ¨¶</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">line</span><span class="p">:</span>  <span class="c1"># ÂøΩÁï•Á©∫Ë°å</span>
</span></span><span class="line"><span class="cl">                <span class="n">MONITOR_LIST</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Ë≠¶ÂëäÔºöÊú™ÊâæÂà∞ users.txt Êñá‰ª∂ÔºåÂ∞ÜÁõëÂê¨ÈªòËÆ§Áî®Êà∑ÂàóË°®&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">MONITOR_LIST</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;Ê≤ôÁ≥ª&#34;</span><span class="p">]</span>  <span class="c1"># ÈªòËÆ§ÁõëÂê¨Áî®Êà∑ÔºàÁ§∫‰æãÔºâ</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ÊâìÂºÄÂæÆ‰ø°</span>
</span></span><span class="line"><span class="cl"><span class="n">wx</span> <span class="o">=</span> <span class="n">WeChat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ÁõëÂê¨Ë¥¶Êà∑ÂàóË°®</span>
</span></span><span class="line"><span class="cl"><span class="c1"># MONITOR_LIST = [&#34;Ê≤ôÁ≥ª&#34;]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">ele</span> <span class="ow">in</span> <span class="n">MONITOR_LIST</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">wx</span><span class="o">.</span><span class="n">AddListenChat</span><span class="p">(</span><span class="n">who</span> <span class="o">=</span> <span class="n">ele</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ÁõëÂê¨Ê∂àÊÅØ</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">listen_dict</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">GetListenMessage</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">chat_win</span><span class="p">,</span> <span class="n">message_list</span> <span class="ow">in</span> <span class="n">listen_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># print(chat_win.who)</span>
</span></span><span class="line"><span class="cl">        <span class="n">chat_user</span> <span class="o">=</span> <span class="n">chat_win</span><span class="o">.</span><span class="n">who</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># Ëé∑ÂèñÊúÄÊñ∞ËÅäÂ§©Ê∂àÊÅØ</span>
</span></span><span class="line"><span class="cl">        <span class="n">interval_list</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">message_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="s2">&#34;friend&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">continue</span>
</span></span><span class="line"><span class="cl">            <span class="n">interval_list</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&#34;role&#34;</span><span class="p">:</span> <span class="s2">&#34;user&#34;</span><span class="p">,</span> <span class="s2">&#34;content&#34;</span><span class="p">:</span> <span class="n">msg</span><span class="o">.</span><span class="n">content</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">interval_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># ÊãºÊé•ÂéÜÂè≤ËÅäÂ§©ËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;ÂæÆ‰ø°Ê∂àÊÅØÔºö&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">interval</span> <span class="ow">in</span> <span class="n">interval_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="n">interval</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">history_list</span> <span class="o">=</span> <span class="n">DB</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">chat_user</span><span class="p">,</span> <span class="p">[])</span>
</span></span><span class="line"><span class="cl">        <span class="n">history_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">interval_list</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># Ë∞ÉÁî®Êú¨Âú∞ deepseek Ê®°Âûã</span>
</span></span><span class="line"><span class="cl">        <span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="n">url</span><span class="o">=</span><span class="s2">&#34;http://localhost:11434/api/chat&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">json</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;model&#34;</span><span class="p">:</span> <span class="s2">&#34;deepseek-r1:8b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;message&#34;</span><span class="p">:</span> <span class="n">history_list</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;stream&#34;</span><span class="p">:</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">data_dict</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">res_msg_dict</span> <span class="o">=</span> <span class="n">data_dict</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># Ëé∑Âèñ deepseek ÂõûÂ§çÂÜÖÂÆπÔºåÂæÆ‰ø°ÂõûÂ§ç</span>
</span></span><span class="line"><span class="cl">        <span class="n">res_content</span> <span class="o">=</span> <span class="n">res_msg_dict</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">chat_win</span><span class="o">.</span><span class="n">SendMsg</span><span class="p">(</span><span class="n">res_content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;deepseekÂõûÂ§çÔºö&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">res_content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># ‰øùÂ≠òÊ≤üÈÄöËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl">        <span class="n">history_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res_msg_dict</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">DB</span><span class="p">[</span><span class="n">chat_user</span><span class="p">]</span> <span class="o">=</span> <span class="n">history_list</span>
</span></span><span class="line"><span class="cl">        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">DB</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ËøôÊÆµ‰ª£Á†ÅÂú®ËøêË°åÂêé</span><span class="err">Ôºå</span><span class="n">ËÉΩÂ§üÊ£ÄÊµãÂà∞ÂΩìÂâçËÅäÂ§©Áî®Êà∑</span><span class="err">Ôºå</span><span class="n">Âπ∂‰∏îËÉΩÂ§üËé∑ÂèñÂà∞‰ø°ÊÅØ</span><span class="err">Ôºå</span><span class="n">‰ΩÜÊòØÊó†Ê≥ïÂõûÂ§ç</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pycharm</span> <span class="n">Êä•ÈîôÂ¶Ç‰∏ã</span><span class="err">Ôºö</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ÂàùÂßãÂåñÊàêÂäü</span><span class="err">Ôºå</span><span class="n">Ëé∑ÂèñÂà∞Â∑≤ÁôªÂΩïÁ™óÂè£</span><span class="err">Ôºö</span><span class="n">Ê∏ÖÈõ®</span>
</span></span><span class="line"><span class="cl"><span class="n">ÂæÆ‰ø°Ê∂àÊÅØ</span><span class="err">Ôºö</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;ÊµãËØï&#39;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="n">File</span> <span class="s2">&#34;D:\PycharmProject\WebAutoTest\Auto_Chat\Auto_Chat.py&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">82</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="n">chat_win</span><span class="o">.</span><span class="n">SendMsg</span><span class="p">(</span><span class="n">res_content</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">File</span> <span class="s2">&#34;D:\PycharmProject\WebAutoTest</span><span class="se">\v</span><span class="s2">env\lib\site-packages\wxauto\elements.py&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">250</span><span class="p">,</span> <span class="ow">in</span> <span class="n">SendMsg</span>
</span></span><span class="line"><span class="cl">    <span class="k">raise</span> <span class="ne">TimeoutError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ÂèëÈÄÅÊ∂àÊÅØË∂ÖÊó∂ --&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">who</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="ne">TimeoutError</span><span class="p">:</span> <span class="n">ÂèëÈÄÅÊ∂àÊÅØË∂ÖÊó∂</span> <span class="o">--&gt;</span> <span class="n">Ê≤ôÁ≥ª</span> <span class="o">-</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Âú®ÁªàÁ´Ø‰∏≠ÂèØ‰ª•ÁúãÂà∞Â¶Ç‰∏ã‰ø°ÊÅØ</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">Ysam</span><span class="o">&gt;</span><span class="n">ollama</span> <span class="n">serve</span>
</span></span><span class="line"><span class="cl"><span class="mi">2025</span><span class="o">/</span><span class="mi">06</span><span class="o">/</span><span class="mi">07</span> <span class="mi">12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">11</span> <span class="n">routes</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">1233</span><span class="p">:</span> <span class="n">INFO</span> <span class="n">server</span> <span class="n">config</span> <span class="n">env</span><span class="o">=</span><span class="s2">&#34;map[CUDA_VISIBLE_DEVICES: GPU_DEVICE_ORDINAL: HIP_VISIBLE_DEVICES: HSA_OVERRIDE_GFX_VERSION: HTTPS_PROXY: HTTP_PROXY: NO_PROXY: OLLAMA_CONTEXT_LENGTH:4096 OLLAMA_DEBUG:false OLLAMA_FLASH_ATTENTION:false OLLAMA_GPU_OVERHEAD:0 OLLAMA_HOST:http://127.0.0.1:11434 OLLAMA_INTEL_GPU:false OLLAMA_KEEP_ALIVE:5m0s OLLAMA_KV_CACHE_TYPE: OLLAMA_LLM_LIBRARY: OLLAMA_LOAD_TIMEOUT:5m0s OLLAMA_MAX_LOADED_MODELS:0 OLLAMA_MAX_QUEUE:512 OLLAMA_MODELS:C:</span><span class="se">\\</span><span class="s2">Users</span><span class="se">\\</span><span class="s2">Ysam</span><span class="se">\\</span><span class="s2">.ollama</span><span class="se">\\</span><span class="s2">models OLLAMA_MULTIUSER_CACHE:false OLLAMA_NEW_ENGINE:false OLLAMA_NOHISTORY:false OLLAMA_NOPRUNE:false OLLAMA_NUM_PARALLEL:0 OLLAMA_ORIGINS:[http://localhost https://localhost http://localhost:* https://localhost:* http://127.0.0.1 https://127.0.0.1 http://127.0.0.1:* https://127.0.0.1:* http://0.0.0.0 https://0.0.0.0 http://0.0.0.0:* https://0.0.0.0:* app://* file://* tauri://* vscode-webview://* vscode-file://*] OLLAMA_SCHED_SPREAD:false ROCR_VISIBLE_DEVICES:]&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">11.166</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">images</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">463</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;total blobs: 10&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">11.166</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">images</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">470</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;total unused blobs removed: 0&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">11.167</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">routes</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">1300</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;Listening on 127.0.0.1:11434 (version 0.6.8)&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">11.167</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">gpu</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">217</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;looking for compatible GPUs&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">11.167</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">gpu_windows</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">167</span> <span class="n">msg</span><span class="o">=</span><span class="n">packages</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">11.167</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">gpu_windows</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">214</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">package</span><span class="o">=</span><span class="mi">0</span> <span class="n">cores</span><span class="o">=</span><span class="mi">12</span> <span class="n">efficiency</span><span class="o">=</span><span class="mi">0</span> <span class="n">threads</span><span class="o">=</span><span class="mi">24</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">11.758</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">WARN</span> <span class="n">source</span><span class="o">=</span><span class="n">amd_windows</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">138</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;amdgpu is not supported (supported types:[gfx1030 gfx1100 gfx1101 gfx1102 gfx1151 gfx906])&#34;</span> <span class="n">gpu_type</span><span class="o">=</span><span class="n">gfx1036</span> <span class="n">gpu</span><span class="o">=</span><span class="mi">0</span> <span class="n">library</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">Ysam</span>\<span class="n">AppData</span>\<span class="n">Local</span>\<span class="n">Programs</span>\<span class="n">Ollama</span>\<span class="n">lib</span>\<span class="n">ollama</span>\<span class="n">rocm</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">11.761</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">types</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">130</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;inference compute&#34;</span> <span class="nb">id</span><span class="o">=</span><span class="n">GPU</span><span class="o">-</span><span class="mi">189333</span><span class="n">b1</span><span class="o">-</span><span class="mi">98</span><span class="n">d9</span><span class="o">-</span><span class="mi">8621</span><span class="o">-</span><span class="n">adb5</span><span class="o">-</span><span class="mi">344761953</span><span class="n">fc5</span> <span class="n">library</span><span class="o">=</span><span class="n">cuda</span> <span class="n">variant</span><span class="o">=</span><span class="n">v12</span> <span class="n">compute</span><span class="o">=</span><span class="mf">8.9</span> <span class="n">driver</span><span class="o">=</span><span class="mf">12.8</span> <span class="n">name</span><span class="o">=</span><span class="s2">&#34;NVIDIA GeForce RTX 4070 Laptop GPU&#34;</span> <span class="n">total</span><span class="o">=</span><span class="s2">&#34;8.0 GiB&#34;</span> <span class="n">available</span><span class="o">=</span><span class="s2">&#34;6.9 GiB&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.732</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">WARN</span> <span class="n">source</span><span class="o">=</span><span class="n">ggml</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">152</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;key not found&#34;</span> <span class="n">key</span><span class="o">=</span><span class="n">general</span><span class="o">.</span><span class="n">alignment</span> <span class="n">default</span><span class="o">=</span><span class="mi">32</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.754</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">WARN</span> <span class="n">source</span><span class="o">=</span><span class="n">ggml</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">152</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;key not found&#34;</span> <span class="n">key</span><span class="o">=</span><span class="n">general</span><span class="o">.</span><span class="n">alignment</span> <span class="n">default</span><span class="o">=</span><span class="mi">32</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.767</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">WARN</span> <span class="n">source</span><span class="o">=</span><span class="n">ggml</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">152</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;key not found&#34;</span> <span class="n">key</span><span class="o">=</span><span class="n">general</span><span class="o">.</span><span class="n">alignment</span> <span class="n">default</span><span class="o">=</span><span class="mi">32</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.768</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">WARN</span> <span class="n">source</span><span class="o">=</span><span class="n">ggml</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">152</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;key not found&#34;</span> <span class="n">key</span><span class="o">=</span><span class="n">llama</span><span class="o">.</span><span class="n">vision</span><span class="o">.</span><span class="n">block_count</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.768</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">WARN</span> <span class="n">source</span><span class="o">=</span><span class="n">ggml</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">152</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;key not found&#34;</span> <span class="n">key</span><span class="o">=</span><span class="n">llama</span><span class="o">.</span><span class="n">attention</span><span class="o">.</span><span class="n">key_length</span> <span class="n">default</span><span class="o">=</span><span class="mi">128</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.768</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">WARN</span> <span class="n">source</span><span class="o">=</span><span class="n">ggml</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">152</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;key not found&#34;</span> <span class="n">key</span><span class="o">=</span><span class="n">llama</span><span class="o">.</span><span class="n">attention</span><span class="o">.</span><span class="n">value_length</span> <span class="n">default</span><span class="o">=</span><span class="mi">128</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.768</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">sched</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">754</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;new model will fit in available VRAM in single GPU, loading&#34;</span> <span class="n">model</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">Ysam</span>\<span class="o">.</span><span class="n">ollama</span>\<span class="n">models</span>\<span class="n">blobs</span>\<span class="n">sha256</span><span class="o">-</span><span class="mi">6340</span><span class="n">dc3229b0d08ea9cc49b75d4098702983e17b4c096d57afbbf2ffc813f2be</span> <span class="n">gpu</span><span class="o">=</span><span class="n">GPU</span><span class="o">-</span><span class="mi">189333</span><span class="n">b1</span><span class="o">-</span><span class="mi">98</span><span class="n">d9</span><span class="o">-</span><span class="mi">8621</span><span class="o">-</span><span class="n">adb5</span><span class="o">-</span><span class="mi">344761953</span><span class="n">fc5</span> <span class="n">parallel</span><span class="o">=</span><span class="mi">2</span> <span class="n">available</span><span class="o">=</span><span class="mi">7317225472</span> <span class="n">required</span><span class="o">=</span><span class="s2">&#34;6.5 GiB&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.777</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">server</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">106</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;system memory&#34;</span> <span class="n">total</span><span class="o">=</span><span class="s2">&#34;31.3 GiB&#34;</span> <span class="n">free</span><span class="o">=</span><span class="s2">&#34;18.0 GiB&#34;</span> <span class="n">free_swap</span><span class="o">=</span><span class="s2">&#34;22.8 GiB&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.777</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">WARN</span> <span class="n">source</span><span class="o">=</span><span class="n">ggml</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">152</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;key not found&#34;</span> <span class="n">key</span><span class="o">=</span><span class="n">llama</span><span class="o">.</span><span class="n">vision</span><span class="o">.</span><span class="n">block_count</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.777</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">WARN</span> <span class="n">source</span><span class="o">=</span><span class="n">ggml</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">152</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;key not found&#34;</span> <span class="n">key</span><span class="o">=</span><span class="n">llama</span><span class="o">.</span><span class="n">attention</span><span class="o">.</span><span class="n">key_length</span> <span class="n">default</span><span class="o">=</span><span class="mi">128</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.777</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">WARN</span> <span class="n">source</span><span class="o">=</span><span class="n">ggml</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">152</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;key not found&#34;</span> <span class="n">key</span><span class="o">=</span><span class="n">llama</span><span class="o">.</span><span class="n">attention</span><span class="o">.</span><span class="n">value_length</span> <span class="n">default</span><span class="o">=</span><span class="mi">128</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.778</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">server</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">139</span> <span class="n">msg</span><span class="o">=</span><span class="n">offload</span> <span class="n">library</span><span class="o">=</span><span class="n">cuda</span> <span class="n">layers</span><span class="o">.</span><span class="n">requested</span><span class="o">=-</span><span class="mi">1</span> <span class="n">layers</span><span class="o">.</span><span class="n">model</span><span class="o">=</span><span class="mi">33</span> <span class="n">layers</span><span class="o">.</span><span class="n">offload</span><span class="o">=</span><span class="mi">33</span> <span class="n">layers</span><span class="o">.</span><span class="n">split</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">memory</span><span class="o">.</span><span class="n">available</span><span class="o">=</span><span class="s2">&#34;[6.8 GiB]&#34;</span> <span class="n">memory</span><span class="o">.</span><span class="n">gpu_overhead</span><span class="o">=</span><span class="s2">&#34;0 B&#34;</span> <span class="n">memory</span><span class="o">.</span><span class="n">required</span><span class="o">.</span><span class="n">full</span><span class="o">=</span><span class="s2">&#34;6.5 GiB&#34;</span> <span class="n">memory</span><span class="o">.</span><span class="n">required</span><span class="o">.</span><span class="n">partial</span><span class="o">=</span><span class="s2">&#34;6.5 GiB&#34;</span> <span class="n">memory</span><span class="o">.</span><span class="n">required</span><span class="o">.</span><span class="n">kv</span><span class="o">=</span><span class="s2">&#34;1.0 GiB&#34;</span> <span class="n">memory</span><span class="o">.</span><span class="n">required</span><span class="o">.</span><span class="n">allocations</span><span class="o">=</span><span class="s2">&#34;[6.5 GiB]&#34;</span> <span class="n">memory</span><span class="o">.</span><span class="n">weights</span><span class="o">.</span><span class="n">total</span><span class="o">=</span><span class="s2">&#34;4.3 GiB&#34;</span> <span class="n">memory</span><span class="o">.</span><span class="n">weights</span><span class="o">.</span><span class="n">repeating</span><span class="o">=</span><span class="s2">&#34;3.9 GiB&#34;</span> <span class="n">memory</span><span class="o">.</span><span class="n">weights</span><span class="o">.</span><span class="n">nonrepeating</span><span class="o">=</span><span class="s2">&#34;411.0 MiB&#34;</span> <span class="n">memory</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">full</span><span class="o">=</span><span class="s2">&#34;560.0 MiB&#34;</span> <span class="n">memory</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">partial</span><span class="o">=</span><span class="s2">&#34;677.5 MiB&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="n">loaded</span> <span class="n">meta</span> <span class="n">data</span> <span class="k">with</span> <span class="mi">28</span> <span class="n">key</span><span class="o">-</span><span class="n">value</span> <span class="n">pairs</span> <span class="ow">and</span> <span class="mi">292</span> <span class="n">tensors</span> <span class="kn">from</span> <span class="nn">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">Ysam</span>\<span class="o">.</span><span class="n">ollama</span>\<span class="n">models</span>\<span class="n">blobs</span>\<span class="n">sha256</span><span class="o">-</span><span class="mi">6340</span><span class="n">dc3229b0d08ea9cc49b75d4098702983e17b4c096d57afbbf2ffc813f2be</span> <span class="p">(</span><span class="n">version</span> <span class="n">GGUF</span> <span class="n">V3</span> <span class="p">(</span><span class="n">latest</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="n">Dumping</span> <span class="n">metadata</span> <span class="n">keys</span><span class="o">/</span><span class="n">values</span><span class="o">.</span> <span class="n">Note</span><span class="p">:</span> <span class="n">KV</span> <span class="n">overrides</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">apply</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">output</span><span class="o">.</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">0</span><span class="p">:</span>                       <span class="n">general</span><span class="o">.</span><span class="n">architecture</span> <span class="nb">str</span>              <span class="o">=</span> <span class="n">llama</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">1</span><span class="p">:</span>                               <span class="n">general</span><span class="o">.</span><span class="n">type</span> <span class="nb">str</span>              <span class="o">=</span> <span class="n">model</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">2</span><span class="p">:</span>                               <span class="n">general</span><span class="o">.</span><span class="n">name</span> <span class="nb">str</span>              <span class="o">=</span> <span class="n">DeepSeek</span> <span class="n">R1</span> <span class="n">Distill</span> <span class="n">Llama</span> <span class="mi">8</span><span class="n">B</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">3</span><span class="p">:</span>                           <span class="n">general</span><span class="o">.</span><span class="n">basename</span> <span class="nb">str</span>              <span class="o">=</span> <span class="n">DeepSeek</span><span class="o">-</span><span class="n">R1</span><span class="o">-</span><span class="n">Distill</span><span class="o">-</span><span class="n">Llama</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">4</span><span class="p">:</span>                         <span class="n">general</span><span class="o">.</span><span class="n">size_label</span> <span class="nb">str</span>              <span class="o">=</span> <span class="mi">8</span><span class="n">B</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">5</span><span class="p">:</span>                          <span class="n">llama</span><span class="o">.</span><span class="n">block_count</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">32</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">6</span><span class="p">:</span>                       <span class="n">llama</span><span class="o">.</span><span class="n">context_length</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">131072</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">7</span><span class="p">:</span>                     <span class="n">llama</span><span class="o">.</span><span class="n">embedding_length</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">4096</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">8</span><span class="p">:</span>                  <span class="n">llama</span><span class="o">.</span><span class="n">feed_forward_length</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">14336</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">9</span><span class="p">:</span>                 <span class="n">llama</span><span class="o">.</span><span class="n">attention</span><span class="o">.</span><span class="n">head_count</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">32</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">10</span><span class="p">:</span>              <span class="n">llama</span><span class="o">.</span><span class="n">attention</span><span class="o">.</span><span class="n">head_count_kv</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">8</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">11</span><span class="p">:</span>                       <span class="n">llama</span><span class="o">.</span><span class="n">rope</span><span class="o">.</span><span class="n">freq_base</span> <span class="n">f32</span>              <span class="o">=</span> <span class="mf">500000.000000</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">12</span><span class="p">:</span>     <span class="n">llama</span><span class="o">.</span><span class="n">attention</span><span class="o">.</span><span class="n">layer_norm_rms_epsilon</span> <span class="n">f32</span>              <span class="o">=</span> <span class="mf">0.000010</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">13</span><span class="p">:</span>                          <span class="n">general</span><span class="o">.</span><span class="n">file_type</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">15</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">14</span><span class="p">:</span>                           <span class="n">llama</span><span class="o">.</span><span class="n">vocab_size</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">128256</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">15</span><span class="p">:</span>                 <span class="n">llama</span><span class="o">.</span><span class="n">rope</span><span class="o">.</span><span class="n">dimension_count</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">128</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">16</span><span class="p">:</span>                       <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">model</span> <span class="nb">str</span>              <span class="o">=</span> <span class="n">gpt2</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">17</span><span class="p">:</span>                         <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">pre</span> <span class="nb">str</span>              <span class="o">=</span> <span class="n">llama</span><span class="o">-</span><span class="n">bpe</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">18</span><span class="p">:</span>                      <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">tokens</span> <span class="n">arr</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span><span class="mi">128256</span><span class="p">]</span>  <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;!&#34;</span><span class="p">,</span> <span class="s2">&#34;</span><span class="se">\&#34;</span><span class="s2">&#34;</span><span class="p">,</span> <span class="s2">&#34;#&#34;</span><span class="p">,</span> <span class="s2">&#34;$&#34;</span><span class="p">,</span> <span class="s2">&#34;%&#34;</span><span class="p">,</span> <span class="s2">&#34;&amp;&#34;</span><span class="p">,</span> <span class="s2">&#34;&#39;&#34;</span><span class="p">,</span> <span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">19</span><span class="p">:</span>                  <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">token_type</span> <span class="n">arr</span><span class="p">[</span><span class="n">i32</span><span class="p">,</span><span class="mi">128256</span><span class="p">]</span>  <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">20</span><span class="p">:</span>                      <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">merges</span> <span class="n">arr</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span><span class="mi">280147</span><span class="p">]</span>  <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;ƒ† ƒ†&#34;</span><span class="p">,</span> <span class="s2">&#34;ƒ† ƒ†ƒ†ƒ†&#34;</span><span class="p">,</span> <span class="s2">&#34;ƒ†ƒ† ƒ†ƒ†&#34;</span><span class="p">,</span> <span class="s2">&#34;...</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">21</span><span class="p">:</span>                <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">bos_token_id</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">128000</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">22</span><span class="p">:</span>                <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">eos_token_id</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">128001</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">23</span><span class="p">:</span>            <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">padding_token_id</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">128001</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">24</span><span class="p">:</span>               <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">add_bos_token</span> <span class="nb">bool</span>             <span class="o">=</span> <span class="n">true</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">25</span><span class="p">:</span>               <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">add_eos_token</span> <span class="nb">bool</span>             <span class="o">=</span> <span class="n">false</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">26</span><span class="p">:</span>                    <span class="n">tokenizer</span><span class="o">.</span><span class="n">chat_template</span> <span class="nb">str</span>              <span class="o">=</span> <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">add_generation_prompt</span> <span class="ow">is</span> <span class="n">de</span><span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">27</span><span class="p">:</span>               <span class="n">general</span><span class="o">.</span><span class="n">quantization_version</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="nb">type</span>  <span class="n">f32</span><span class="p">:</span>   <span class="mi">66</span> <span class="n">tensors</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="nb">type</span> <span class="n">q4_K</span><span class="p">:</span>  <span class="mi">193</span> <span class="n">tensors</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="nb">type</span> <span class="n">q6_K</span><span class="p">:</span>   <span class="mi">33</span> <span class="n">tensors</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">file</span> <span class="nb">format</span> <span class="o">=</span> <span class="n">GGUF</span> <span class="n">V3</span> <span class="p">(</span><span class="n">latest</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">file</span> <span class="nb">type</span>   <span class="o">=</span> <span class="n">Q4_K</span> <span class="o">-</span> <span class="n">Medium</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">file</span> <span class="n">size</span>   <span class="o">=</span> <span class="mf">4.58</span> <span class="n">GiB</span> <span class="p">(</span><span class="mf">4.89</span> <span class="n">BPW</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">load</span><span class="p">:</span> <span class="n">special_eos_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">special_eog_ids</span> <span class="o">-</span> <span class="n">the</span> <span class="n">tokenizer</span> <span class="n">config</span> <span class="n">may</span> <span class="n">be</span> <span class="n">incorrect</span>
</span></span><span class="line"><span class="cl"><span class="n">load</span><span class="p">:</span> <span class="n">special</span> <span class="n">tokens</span> <span class="n">cache</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">256</span>
</span></span><span class="line"><span class="cl"><span class="n">load</span><span class="p">:</span> <span class="n">token</span> <span class="n">to</span> <span class="n">piece</span> <span class="n">cache</span> <span class="n">size</span> <span class="o">=</span> <span class="mf">0.7999</span> <span class="n">MB</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">arch</span>             <span class="o">=</span> <span class="n">llama</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">vocab_only</span>       <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">model</span> <span class="nb">type</span>       <span class="o">=</span> <span class="err">?</span><span class="n">B</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">model</span> <span class="n">params</span>     <span class="o">=</span> <span class="mf">8.03</span> <span class="n">B</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">general</span><span class="o">.</span><span class="n">name</span>     <span class="o">=</span> <span class="n">DeepSeek</span> <span class="n">R1</span> <span class="n">Distill</span> <span class="n">Llama</span> <span class="mi">8</span><span class="n">B</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">vocab</span> <span class="nb">type</span>       <span class="o">=</span> <span class="n">BPE</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_vocab</span>          <span class="o">=</span> <span class="mi">128256</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_merges</span>         <span class="o">=</span> <span class="mi">280147</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">BOS</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128000</span> <span class="s1">&#39;&lt;ÔΩúbegin‚ñÅof‚ñÅsentenceÔΩú&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">EOS</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128001</span> <span class="s1">&#39;&lt;ÔΩúend‚ñÅof‚ñÅsentenceÔΩú&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">EOT</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128001</span> <span class="s1">&#39;&lt;ÔΩúend‚ñÅof‚ñÅsentenceÔΩú&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">EOM</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128008</span> <span class="s1">&#39;&lt;|eom_id|&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">PAD</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128001</span> <span class="s1">&#39;&lt;ÔΩúend‚ñÅof‚ñÅsentenceÔΩú&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">LF</span> <span class="n">token</span>         <span class="o">=</span> <span class="mi">198</span> <span class="s1">&#39;ƒä&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">EOG</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128001</span> <span class="s1">&#39;&lt;ÔΩúend‚ñÅof‚ñÅsentenceÔΩú&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">EOG</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128008</span> <span class="s1">&#39;&lt;|eom_id|&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">EOG</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128009</span> <span class="s1">&#39;&lt;|eot_id|&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="nb">max</span> <span class="n">token</span> <span class="n">length</span> <span class="o">=</span> <span class="mi">256</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_load</span><span class="p">:</span> <span class="n">vocab</span> <span class="n">only</span> <span class="o">-</span> <span class="n">skipping</span> <span class="n">tensors</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.965</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">server</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">410</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;starting llama server&#34;</span> <span class="n">cmd</span><span class="o">=</span><span class="s2">&#34;C:</span><span class="se">\\</span><span class="s2">Users</span><span class="se">\\</span><span class="s2">Ysam</span><span class="se">\\</span><span class="s2">AppData</span><span class="se">\\</span><span class="s2">Local</span><span class="se">\\</span><span class="s2">Programs</span><span class="se">\\</span><span class="s2">Ollama</span><span class="se">\\</span><span class="s2">ollama.exe runner --model C:</span><span class="se">\\</span><span class="s2">Users</span><span class="se">\\</span><span class="s2">Ysam</span><span class="se">\\</span><span class="s2">.ollama</span><span class="se">\\</span><span class="s2">models</span><span class="se">\\</span><span class="s2">blobs</span><span class="se">\\</span><span class="s2">sha256-6340dc3229b0d08ea9cc49b75d4098702983e17b4c096d57afbbf2ffc813f2be --ctx-size 8192 --batch-size 512 --n-gpu-layers 33 --threads 12 --no-mmap --parallel 2 --port 59718&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.969</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">sched</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">452</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;loaded runners&#34;</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.969</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">server</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">589</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;waiting for llama runner to start responding&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.969</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">server</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">623</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;waiting for server to become available&#34;</span> <span class="n">status</span><span class="o">=</span><span class="s2">&#34;llm server error&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">29.988</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">runner</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">853</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;starting go runner&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">load_backend</span><span class="p">:</span> <span class="n">loaded</span> <span class="n">CPU</span> <span class="n">backend</span> <span class="kn">from</span> <span class="nn">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">Ysam</span>\<span class="n">AppData</span>\<span class="n">Local</span>\<span class="n">Programs</span>\<span class="n">Ollama</span>\<span class="n">lib</span>\<span class="n">ollama</span>\<span class="n">ggml</span><span class="o">-</span><span class="n">cpu</span><span class="o">-</span><span class="n">icelake</span><span class="o">.</span><span class="n">dll</span>
</span></span><span class="line"><span class="cl"><span class="n">ggml_cuda_init</span><span class="p">:</span> <span class="n">GGML_CUDA_FORCE_MMQ</span><span class="p">:</span>    <span class="n">no</span>
</span></span><span class="line"><span class="cl"><span class="n">ggml_cuda_init</span><span class="p">:</span> <span class="n">GGML_CUDA_FORCE_CUBLAS</span><span class="p">:</span> <span class="n">no</span>
</span></span><span class="line"><span class="cl"><span class="n">ggml_cuda_init</span><span class="p">:</span> <span class="n">found</span> <span class="mi">1</span> <span class="n">CUDA</span> <span class="n">devices</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">Device</span> <span class="mi">0</span><span class="p">:</span> <span class="n">NVIDIA</span> <span class="n">GeForce</span> <span class="n">RTX</span> <span class="mi">4070</span> <span class="n">Laptop</span> <span class="n">GPU</span><span class="p">,</span> <span class="n">compute</span> <span class="n">capability</span> <span class="mf">8.9</span><span class="p">,</span> <span class="n">VMM</span><span class="p">:</span> <span class="n">yes</span>
</span></span><span class="line"><span class="cl"><span class="n">load_backend</span><span class="p">:</span> <span class="n">loaded</span> <span class="n">CUDA</span> <span class="n">backend</span> <span class="kn">from</span> <span class="nn">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">Ysam</span>\<span class="n">AppData</span>\<span class="n">Local</span>\<span class="n">Programs</span>\<span class="n">Ollama</span>\<span class="n">lib</span>\<span class="n">ollama</span>\<span class="n">cuda_v12</span>\<span class="n">ggml</span><span class="o">-</span><span class="n">cuda</span><span class="o">.</span><span class="n">dll</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">30.307</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">ggml</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">103</span> <span class="n">msg</span><span class="o">=</span><span class="n">system</span> <span class="n">CPU</span><span class="mf">.0</span><span class="o">.</span><span class="n">SSE3</span><span class="o">=</span><span class="mi">1</span> <span class="n">CPU</span><span class="mf">.0</span><span class="o">.</span><span class="n">SSSE3</span><span class="o">=</span><span class="mi">1</span> <span class="n">CPU</span><span class="mf">.0</span><span class="o">.</span><span class="n">AVX</span><span class="o">=</span><span class="mi">1</span> <span class="n">CPU</span><span class="mf">.0</span><span class="o">.</span><span class="n">AVX2</span><span class="o">=</span><span class="mi">1</span> <span class="n">CPU</span><span class="mf">.0</span><span class="o">.</span><span class="n">F16C</span><span class="o">=</span><span class="mi">1</span> <span class="n">CPU</span><span class="mf">.0</span><span class="o">.</span><span class="n">FMA</span><span class="o">=</span><span class="mi">1</span> <span class="n">CPU</span><span class="mf">.0</span><span class="o">.</span><span class="n">BMI2</span><span class="o">=</span><span class="mi">1</span> <span class="n">CPU</span><span class="mf">.0</span><span class="o">.</span><span class="n">AVX512</span><span class="o">=</span><span class="mi">1</span> <span class="n">CPU</span><span class="mf">.0</span><span class="o">.</span><span class="n">AVX512_VBMI</span><span class="o">=</span><span class="mi">1</span> <span class="n">CPU</span><span class="mf">.0</span><span class="o">.</span><span class="n">AVX512_VNNI</span><span class="o">=</span><span class="mi">1</span> <span class="n">CPU</span><span class="mf">.0</span><span class="o">.</span><span class="n">LLAMAFILE</span><span class="o">=</span><span class="mi">1</span> <span class="n">CPU</span><span class="mf">.1</span><span class="o">.</span><span class="n">LLAMAFILE</span><span class="o">=</span><span class="mi">1</span> <span class="n">CUDA</span><span class="mf">.0</span><span class="o">.</span><span class="n">ARCHS</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span><span class="mi">600</span><span class="p">,</span><span class="mi">610</span><span class="p">,</span><span class="mi">700</span><span class="p">,</span><span class="mi">750</span><span class="p">,</span><span class="mi">800</span><span class="p">,</span><span class="mi">860</span><span class="p">,</span><span class="mi">870</span><span class="p">,</span><span class="mi">890</span><span class="p">,</span><span class="mi">900</span><span class="p">,</span><span class="mi">1200</span> <span class="n">CUDA</span><span class="mf">.0</span><span class="o">.</span><span class="n">USE_GRAPHS</span><span class="o">=</span><span class="mi">1</span> <span class="n">CUDA</span><span class="mf">.0</span><span class="o">.</span><span class="n">PEER_MAX_BATCH_SIZE</span><span class="o">=</span><span class="mi">128</span> <span class="n">compiler</span><span class="o">=</span><span class="n">cgo</span><span class="p">(</span><span class="n">clang</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">30.308</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">runner</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">913</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;Server listening on 127.0.0.1:59718&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_load_from_file_impl</span><span class="p">:</span> <span class="n">using</span> <span class="n">device</span> <span class="n">CUDA0</span> <span class="p">(</span><span class="n">NVIDIA</span> <span class="n">GeForce</span> <span class="n">RTX</span> <span class="mi">4070</span> <span class="n">Laptop</span> <span class="n">GPU</span><span class="p">)</span> <span class="o">-</span> <span class="mi">7056</span> <span class="n">MiB</span> <span class="n">free</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="n">loaded</span> <span class="n">meta</span> <span class="n">data</span> <span class="k">with</span> <span class="mi">28</span> <span class="n">key</span><span class="o">-</span><span class="n">value</span> <span class="n">pairs</span> <span class="ow">and</span> <span class="mi">292</span> <span class="n">tensors</span> <span class="kn">from</span> <span class="nn">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">Ysam</span>\<span class="o">.</span><span class="n">ollama</span>\<span class="n">models</span>\<span class="n">blobs</span>\<span class="n">sha256</span><span class="o">-</span><span class="mi">6340</span><span class="n">dc3229b0d08ea9cc49b75d4098702983e17b4c096d57afbbf2ffc813f2be</span> <span class="p">(</span><span class="n">version</span> <span class="n">GGUF</span> <span class="n">V3</span> <span class="p">(</span><span class="n">latest</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="n">Dumping</span> <span class="n">metadata</span> <span class="n">keys</span><span class="o">/</span><span class="n">values</span><span class="o">.</span> <span class="n">Note</span><span class="p">:</span> <span class="n">KV</span> <span class="n">overrides</span> <span class="n">do</span> <span class="ow">not</span> <span class="n">apply</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">output</span><span class="o">.</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">0</span><span class="p">:</span>                       <span class="n">general</span><span class="o">.</span><span class="n">architecture</span> <span class="nb">str</span>              <span class="o">=</span> <span class="n">llama</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">1</span><span class="p">:</span>                               <span class="n">general</span><span class="o">.</span><span class="n">type</span> <span class="nb">str</span>              <span class="o">=</span> <span class="n">model</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">2</span><span class="p">:</span>                               <span class="n">general</span><span class="o">.</span><span class="n">name</span> <span class="nb">str</span>              <span class="o">=</span> <span class="n">DeepSeek</span> <span class="n">R1</span> <span class="n">Distill</span> <span class="n">Llama</span> <span class="mi">8</span><span class="n">B</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">3</span><span class="p">:</span>                           <span class="n">general</span><span class="o">.</span><span class="n">basename</span> <span class="nb">str</span>              <span class="o">=</span> <span class="n">DeepSeek</span><span class="o">-</span><span class="n">R1</span><span class="o">-</span><span class="n">Distill</span><span class="o">-</span><span class="n">Llama</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">4</span><span class="p">:</span>                         <span class="n">general</span><span class="o">.</span><span class="n">size_label</span> <span class="nb">str</span>              <span class="o">=</span> <span class="mi">8</span><span class="n">B</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">5</span><span class="p">:</span>                          <span class="n">llama</span><span class="o">.</span><span class="n">block_count</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">32</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">6</span><span class="p">:</span>                       <span class="n">llama</span><span class="o">.</span><span class="n">context_length</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">131072</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">7</span><span class="p">:</span>                     <span class="n">llama</span><span class="o">.</span><span class="n">embedding_length</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">4096</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">8</span><span class="p">:</span>                  <span class="n">llama</span><span class="o">.</span><span class="n">feed_forward_length</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">14336</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>   <span class="mi">9</span><span class="p">:</span>                 <span class="n">llama</span><span class="o">.</span><span class="n">attention</span><span class="o">.</span><span class="n">head_count</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">32</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">10</span><span class="p">:</span>              <span class="n">llama</span><span class="o">.</span><span class="n">attention</span><span class="o">.</span><span class="n">head_count_kv</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">8</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">11</span><span class="p">:</span>                       <span class="n">llama</span><span class="o">.</span><span class="n">rope</span><span class="o">.</span><span class="n">freq_base</span> <span class="n">f32</span>              <span class="o">=</span> <span class="mf">500000.000000</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">12</span><span class="p">:</span>     <span class="n">llama</span><span class="o">.</span><span class="n">attention</span><span class="o">.</span><span class="n">layer_norm_rms_epsilon</span> <span class="n">f32</span>              <span class="o">=</span> <span class="mf">0.000010</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">13</span><span class="p">:</span>                          <span class="n">general</span><span class="o">.</span><span class="n">file_type</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">15</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">14</span><span class="p">:</span>                           <span class="n">llama</span><span class="o">.</span><span class="n">vocab_size</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">128256</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">15</span><span class="p">:</span>                 <span class="n">llama</span><span class="o">.</span><span class="n">rope</span><span class="o">.</span><span class="n">dimension_count</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">128</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">16</span><span class="p">:</span>                       <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">model</span> <span class="nb">str</span>              <span class="o">=</span> <span class="n">gpt2</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">17</span><span class="p">:</span>                         <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">pre</span> <span class="nb">str</span>              <span class="o">=</span> <span class="n">llama</span><span class="o">-</span><span class="n">bpe</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">18</span><span class="p">:</span>                      <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">tokens</span> <span class="n">arr</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span><span class="mi">128256</span><span class="p">]</span>  <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;!&#34;</span><span class="p">,</span> <span class="s2">&#34;</span><span class="se">\&#34;</span><span class="s2">&#34;</span><span class="p">,</span> <span class="s2">&#34;#&#34;</span><span class="p">,</span> <span class="s2">&#34;$&#34;</span><span class="p">,</span> <span class="s2">&#34;%&#34;</span><span class="p">,</span> <span class="s2">&#34;&amp;&#34;</span><span class="p">,</span> <span class="s2">&#34;&#39;&#34;</span><span class="p">,</span> <span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">19</span><span class="p">:</span>                  <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">token_type</span> <span class="n">arr</span><span class="p">[</span><span class="n">i32</span><span class="p">,</span><span class="mi">128256</span><span class="p">]</span>  <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">20</span><span class="p">:</span>                      <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">merges</span> <span class="n">arr</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span><span class="mi">280147</span><span class="p">]</span>  <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;ƒ† ƒ†&#34;</span><span class="p">,</span> <span class="s2">&#34;ƒ† ƒ†ƒ†ƒ†&#34;</span><span class="p">,</span> <span class="s2">&#34;ƒ†ƒ† ƒ†ƒ†&#34;</span><span class="p">,</span> <span class="s2">&#34;...</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">21</span><span class="p">:</span>                <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">bos_token_id</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">128000</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">22</span><span class="p">:</span>                <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">eos_token_id</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">128001</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">23</span><span class="p">:</span>            <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">padding_token_id</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">128001</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">24</span><span class="p">:</span>               <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">add_bos_token</span> <span class="nb">bool</span>             <span class="o">=</span> <span class="n">true</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">25</span><span class="p">:</span>               <span class="n">tokenizer</span><span class="o">.</span><span class="n">ggml</span><span class="o">.</span><span class="n">add_eos_token</span> <span class="nb">bool</span>             <span class="o">=</span> <span class="n">false</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">26</span><span class="p">:</span>                    <span class="n">tokenizer</span><span class="o">.</span><span class="n">chat_template</span> <span class="nb">str</span>              <span class="o">=</span> <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">add_generation_prompt</span> <span class="ow">is</span> <span class="n">de</span><span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="n">kv</span>  <span class="mi">27</span><span class="p">:</span>               <span class="n">general</span><span class="o">.</span><span class="n">quantization_version</span> <span class="n">u32</span>              <span class="o">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="nb">type</span>  <span class="n">f32</span><span class="p">:</span>   <span class="mi">66</span> <span class="n">tensors</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="nb">type</span> <span class="n">q4_K</span><span class="p">:</span>  <span class="mi">193</span> <span class="n">tensors</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_model_loader</span><span class="p">:</span> <span class="o">-</span> <span class="nb">type</span> <span class="n">q6_K</span><span class="p">:</span>   <span class="mi">33</span> <span class="n">tensors</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">file</span> <span class="nb">format</span> <span class="o">=</span> <span class="n">GGUF</span> <span class="n">V3</span> <span class="p">(</span><span class="n">latest</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">file</span> <span class="nb">type</span>   <span class="o">=</span> <span class="n">Q4_K</span> <span class="o">-</span> <span class="n">Medium</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">file</span> <span class="n">size</span>   <span class="o">=</span> <span class="mf">4.58</span> <span class="n">GiB</span> <span class="p">(</span><span class="mf">4.89</span> <span class="n">BPW</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">30.471</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">server</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">623</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;waiting for server to become available&#34;</span> <span class="n">status</span><span class="o">=</span><span class="s2">&#34;llm server loading model&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">load</span><span class="p">:</span> <span class="n">special_eos_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">special_eog_ids</span> <span class="o">-</span> <span class="n">the</span> <span class="n">tokenizer</span> <span class="n">config</span> <span class="n">may</span> <span class="n">be</span> <span class="n">incorrect</span>
</span></span><span class="line"><span class="cl"><span class="n">load</span><span class="p">:</span> <span class="n">special</span> <span class="n">tokens</span> <span class="n">cache</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">256</span>
</span></span><span class="line"><span class="cl"><span class="n">load</span><span class="p">:</span> <span class="n">token</span> <span class="n">to</span> <span class="n">piece</span> <span class="n">cache</span> <span class="n">size</span> <span class="o">=</span> <span class="mf">0.7999</span> <span class="n">MB</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">arch</span>             <span class="o">=</span> <span class="n">llama</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">vocab_only</span>       <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_ctx_train</span>      <span class="o">=</span> <span class="mi">131072</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_embd</span>           <span class="o">=</span> <span class="mi">4096</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_layer</span>          <span class="o">=</span> <span class="mi">32</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_head</span>           <span class="o">=</span> <span class="mi">32</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_head_kv</span>        <span class="o">=</span> <span class="mi">8</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_rot</span>            <span class="o">=</span> <span class="mi">128</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_swa</span>            <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_swa_pattern</span>    <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_embd_head_k</span>    <span class="o">=</span> <span class="mi">128</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_embd_head_v</span>    <span class="o">=</span> <span class="mi">128</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_gqa</span>            <span class="o">=</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_embd_k_gqa</span>     <span class="o">=</span> <span class="mi">1024</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_embd_v_gqa</span>     <span class="o">=</span> <span class="mi">1024</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">f_norm_eps</span>       <span class="o">=</span> <span class="mf">0.0e+00</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">f_norm_rms_eps</span>   <span class="o">=</span> <span class="mf">1.0e-05</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">f_clamp_kqv</span>      <span class="o">=</span> <span class="mf">0.0e+00</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">f_max_alibi_bias</span> <span class="o">=</span> <span class="mf">0.0e+00</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">f_logit_scale</span>    <span class="o">=</span> <span class="mf">0.0e+00</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">f_attn_scale</span>     <span class="o">=</span> <span class="mf">0.0e+00</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_ff</span>             <span class="o">=</span> <span class="mi">14336</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_expert</span>         <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_expert_used</span>    <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">causal</span> <span class="n">attn</span>      <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">pooling</span> <span class="nb">type</span>     <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">rope</span> <span class="nb">type</span>        <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">rope</span> <span class="n">scaling</span>     <span class="o">=</span> <span class="n">linear</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">freq_base_train</span>  <span class="o">=</span> <span class="mf">500000.0</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">freq_scale_train</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_ctx_orig_yarn</span>  <span class="o">=</span> <span class="mi">131072</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">rope_finetuned</span>   <span class="o">=</span> <span class="n">unknown</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">ssm_d_conv</span>       <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">ssm_d_inner</span>      <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">ssm_d_state</span>      <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">ssm_dt_rank</span>      <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">ssm_dt_b_c_rms</span>   <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">model</span> <span class="nb">type</span>       <span class="o">=</span> <span class="mi">8</span><span class="n">B</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">model</span> <span class="n">params</span>     <span class="o">=</span> <span class="mf">8.03</span> <span class="n">B</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">general</span><span class="o">.</span><span class="n">name</span>     <span class="o">=</span> <span class="n">DeepSeek</span> <span class="n">R1</span> <span class="n">Distill</span> <span class="n">Llama</span> <span class="mi">8</span><span class="n">B</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">vocab</span> <span class="nb">type</span>       <span class="o">=</span> <span class="n">BPE</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_vocab</span>          <span class="o">=</span> <span class="mi">128256</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">n_merges</span>         <span class="o">=</span> <span class="mi">280147</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">BOS</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128000</span> <span class="s1">&#39;&lt;ÔΩúbegin‚ñÅof‚ñÅsentenceÔΩú&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">EOS</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128001</span> <span class="s1">&#39;&lt;ÔΩúend‚ñÅof‚ñÅsentenceÔΩú&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">EOT</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128001</span> <span class="s1">&#39;&lt;ÔΩúend‚ñÅof‚ñÅsentenceÔΩú&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">EOM</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128008</span> <span class="s1">&#39;&lt;|eom_id|&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">PAD</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128001</span> <span class="s1">&#39;&lt;ÔΩúend‚ñÅof‚ñÅsentenceÔΩú&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">LF</span> <span class="n">token</span>         <span class="o">=</span> <span class="mi">198</span> <span class="s1">&#39;ƒä&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">EOG</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128001</span> <span class="s1">&#39;&lt;ÔΩúend‚ñÅof‚ñÅsentenceÔΩú&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">EOG</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128008</span> <span class="s1">&#39;&lt;|eom_id|&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="n">EOG</span> <span class="n">token</span>        <span class="o">=</span> <span class="mi">128009</span> <span class="s1">&#39;&lt;|eot_id|&gt;&#39;</span>
</span></span><span class="line"><span class="cl"><span class="n">print_info</span><span class="p">:</span> <span class="nb">max</span> <span class="n">token</span> <span class="n">length</span> <span class="o">=</span> <span class="mi">256</span>
</span></span><span class="line"><span class="cl"><span class="n">load_tensors</span><span class="p">:</span> <span class="n">loading</span> <span class="n">model</span> <span class="n">tensors</span><span class="p">,</span> <span class="n">this</span> <span class="n">can</span> <span class="n">take</span> <span class="n">a</span> <span class="k">while</span><span class="o">...</span> <span class="p">(</span><span class="n">mmap</span> <span class="o">=</span> <span class="n">false</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">load_tensors</span><span class="p">:</span> <span class="n">offloading</span> <span class="mi">32</span> <span class="n">repeating</span> <span class="n">layers</span> <span class="n">to</span> <span class="n">GPU</span>
</span></span><span class="line"><span class="cl"><span class="n">load_tensors</span><span class="p">:</span> <span class="n">offloading</span> <span class="n">output</span> <span class="n">layer</span> <span class="n">to</span> <span class="n">GPU</span>
</span></span><span class="line"><span class="cl"><span class="n">load_tensors</span><span class="p">:</span> <span class="n">offloaded</span> <span class="mi">33</span><span class="o">/</span><span class="mi">33</span> <span class="n">layers</span> <span class="n">to</span> <span class="n">GPU</span>
</span></span><span class="line"><span class="cl"><span class="n">load_tensors</span><span class="p">:</span>        <span class="n">CUDA0</span> <span class="n">model</span> <span class="n">buffer</span> <span class="n">size</span> <span class="o">=</span>  <span class="mf">4403.49</span> <span class="n">MiB</span>
</span></span><span class="line"><span class="cl"><span class="n">load_tensors</span><span class="p">:</span>          <span class="n">CPU</span> <span class="n">model</span> <span class="n">buffer</span> <span class="n">size</span> <span class="o">=</span>   <span class="mf">281.81</span> <span class="n">MiB</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span> <span class="n">constructing</span> <span class="n">llama_context</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span> <span class="n">n_seq_max</span>     <span class="o">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span> <span class="n">n_ctx</span>         <span class="o">=</span> <span class="mi">8192</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span> <span class="n">n_ctx_per_seq</span> <span class="o">=</span> <span class="mi">4096</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span> <span class="n">n_batch</span>       <span class="o">=</span> <span class="mi">1024</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span> <span class="n">n_ubatch</span>      <span class="o">=</span> <span class="mi">512</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span> <span class="n">causal_attn</span>   <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span> <span class="n">flash_attn</span>    <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span> <span class="n">freq_base</span>     <span class="o">=</span> <span class="mf">500000.0</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span> <span class="n">freq_scale</span>    <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span> <span class="n">n_ctx_per_seq</span> <span class="p">(</span><span class="mi">4096</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">n_ctx_train</span> <span class="p">(</span><span class="mi">131072</span><span class="p">)</span> <span class="o">--</span> <span class="n">the</span> <span class="n">full</span> <span class="n">capacity</span> <span class="n">of</span> <span class="n">the</span> <span class="n">model</span> <span class="n">will</span> <span class="ow">not</span> <span class="n">be</span> <span class="n">utilized</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span>  <span class="n">CUDA_Host</span>  <span class="n">output</span> <span class="n">buffer</span> <span class="n">size</span> <span class="o">=</span>     <span class="mf">1.01</span> <span class="n">MiB</span>
</span></span><span class="line"><span class="cl"><span class="n">init</span><span class="p">:</span> <span class="n">kv_size</span> <span class="o">=</span> <span class="mi">8192</span><span class="p">,</span> <span class="n">offload</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">type_k</span> <span class="o">=</span> <span class="s1">&#39;f16&#39;</span><span class="p">,</span> <span class="n">type_v</span> <span class="o">=</span> <span class="s1">&#39;f16&#39;</span><span class="p">,</span> <span class="n">n_layer</span> <span class="o">=</span> <span class="mi">32</span><span class="p">,</span> <span class="n">can_shift</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="n">init</span><span class="p">:</span>      <span class="n">CUDA0</span> <span class="n">KV</span> <span class="n">buffer</span> <span class="n">size</span> <span class="o">=</span>  <span class="mf">1024.00</span> <span class="n">MiB</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span> <span class="n">KV</span> <span class="bp">self</span> <span class="n">size</span>  <span class="o">=</span> <span class="mf">1024.00</span> <span class="n">MiB</span><span class="p">,</span> <span class="n">K</span> <span class="p">(</span><span class="n">f16</span><span class="p">):</span>  <span class="mf">512.00</span> <span class="n">MiB</span><span class="p">,</span> <span class="n">V</span> <span class="p">(</span><span class="n">f16</span><span class="p">):</span>  <span class="mf">512.00</span> <span class="n">MiB</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span>      <span class="n">CUDA0</span> <span class="n">compute</span> <span class="n">buffer</span> <span class="n">size</span> <span class="o">=</span>   <span class="mf">560.00</span> <span class="n">MiB</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span>  <span class="n">CUDA_Host</span> <span class="n">compute</span> <span class="n">buffer</span> <span class="n">size</span> <span class="o">=</span>    <span class="mf">24.01</span> <span class="n">MiB</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span> <span class="n">graph</span> <span class="n">nodes</span>  <span class="o">=</span> <span class="mi">1094</span>
</span></span><span class="line"><span class="cl"><span class="n">llama_context</span><span class="p">:</span> <span class="n">graph</span> <span class="n">splits</span> <span class="o">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="n">time</span><span class="o">=</span><span class="mi">2025</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">37.233</span><span class="o">+</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span> <span class="n">level</span><span class="o">=</span><span class="n">INFO</span> <span class="n">source</span><span class="o">=</span><span class="n">server</span><span class="o">.</span><span class="n">go</span><span class="p">:</span><span class="mi">628</span> <span class="n">msg</span><span class="o">=</span><span class="s2">&#34;llama runner started in 7.26 seconds&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="n">GIN</span><span class="p">]</span> <span class="mi">2025</span><span class="o">/</span><span class="mi">06</span><span class="o">/</span><span class="mi">07</span> <span class="o">-</span> <span class="mi">12</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">37</span> <span class="o">|</span> <span class="mi">200</span> <span class="o">|</span>     <span class="mf">7.682587</span><span class="n">s</span> <span class="o">|</span>       <span class="mf">127.0.0.1</span> <span class="o">|</span> <span class="n">POST</span>     <span class="s2">&#34;/api/chat&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Â¶Ç‰ΩïËß£ÂÜ≥ËØ•ÈóÆÈ¢ò</span><span class="err">Ôºå</span><span class="n">ËØ∑Êèê‰æõÂÆåÊï¥‰ª£Á†Å</span>
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<h4 id="ÂõûÁ≠î1">ÂõûÁ≠î1
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="err">Â∑≤Ê∑±Â∫¶ÊÄùËÄÉÔºàÁî®Êó∂</span><span class="w"> </span><span class="mi">14</span><span class="w"> </span><span class="err">ÁßíÔºâ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">Ê†πÊçÆÈóÆÈ¢òÊèèËø∞Ôºå‰ª£Á†ÅÂú®ËøêË°åËøáÁ®ã‰∏≠Âá∫Áé∞‰∫Ü</span><span class="o">`</span><span class="n">TimeoutError</span><span class="p">:</span><span class="w"> </span><span class="err">ÂèëÈÄÅÊ∂àÊÅØË∂ÖÊó∂</span><span class="w"> </span><span class="o">--&gt;</span><span class="w"> </span><span class="err">Ê≤ôÁ≥ª</span><span class="w"> </span><span class="o">-`</span><span class="err">ÁöÑÈîôËØØ„ÄÇËøô‰∏™ÈîôËØØÈÄöÂ∏∏ÂèëÁîüÂú®‰ΩøÁî®</span><span class="o">`</span><span class="n">wxauto</span><span class="o">`</span><span class="err">Â∫ìÂèëÈÄÅÊ∂àÊÅØÊó∂ÔºåÁî±‰∫éÊüêÁßçÂéüÂõ†Ê∂àÊÅØÊú™ËÉΩÊàêÂäüÂèëÈÄÅ„ÄÇÂèØËÉΩÁöÑÂéüÂõ†ÂåÖÊã¨Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="mi">1</span><span class="p">.</span><span class="w"> </span><span class="err">ÂæÆ‰ø°Á™óÂè£Êú™ÊøÄÊ¥ªÊàñÊú™Âú®ÂâçÂè∞„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="mi">2</span><span class="p">.</span><span class="w"> </span><span class="err">ÂæÆ‰ø°Á™óÂè£Ê†áÈ¢ò‰∏çÂåπÈÖçÔºà‰æãÂ¶ÇÔºåÁ™óÂè£Ê†áÈ¢òÂèØËÉΩÂåÖÂê´ÂÖ∂‰ªñ‰ø°ÊÅØÔºåÂ¶Ç‚ÄúÊ≤ôÁ≥ª</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="err">ÂæÆ‰ø°‚ÄùÔºâ„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="mi">3</span><span class="p">.</span><span class="w"> </span><span class="err">ÂèëÈÄÅÊ∂àÊÅØÊó∂ÂæÆ‰ø°Á™óÂè£Ë¢´ÂÖ∂‰ªñÁ™óÂè£ÈÅÆÊå°ÊàñÊúÄÂ∞èÂåñ„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="mi">4</span><span class="p">.</span><span class="w"> </span><span class="err">ÂèëÈÄÅÊ∂àÊÅØÁöÑÈÄüÂ∫¶ËøáÂø´ÔºåÂæÆ‰ø°Êù•‰∏çÂèäÂìçÂ∫î„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•ÈááÂèñ‰ª•‰∏ãÊé™ÊñΩÔºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="o">-</span><span class="w"> </span><span class="err">Âú®ÂèëÈÄÅÊ∂àÊÅØÂâçÔºåÁ°Æ‰øùÂæÆ‰ø°Á™óÂè£ÊòØÊøÄÊ¥ªÁä∂ÊÄÅÔºàÂç≥Âú®ÂâçÂè∞Ôºâ„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="o">-</span><span class="w"> </span><span class="err">Ê∑ªÂä†ÈáçËØïÊú∫Âà∂ÔºåÂú®ÂèëÈÄÅÂ§±Ë¥•Êó∂ËøõË°åÂ§öÊ¨°Â∞ùËØï„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="o">-</span><span class="w"> </span><span class="err">Âú®ÂèëÈÄÅÊ∂àÊÅØÂâçÔºåÂÖàÂ∞ùËØïÂ∞ÜÂæÆ‰ø°Á™óÂè£ÁΩÆÈ°∂„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">Áî±‰∫é</span><span class="o">`</span><span class="n">wxauto</span><span class="o">`</span><span class="err">Â∫ìÁöÑ</span><span class="o">`</span><span class="n">SendMsg</span><span class="o">`</span><span class="err">ÊñπÊ≥ïÂú®ÂèëÈÄÅÊ∂àÊÅØÊó∂Ë¶ÅÊ±ÇÁ™óÂè£Â§Ñ‰∫éÊøÄÊ¥ªÁä∂ÊÄÅÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®</span><span class="o">`</span><span class="n">win32gui</span><span class="o">`</span><span class="err">Êù•ÊøÄÊ¥ªÁ™óÂè£„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">‰ª•‰∏ãÊòØ‰øÆÊîπÂêéÁöÑ‰ª£Á†ÅÔºå‰∏ªË¶ÅÂ¢ûÂä†‰∫Ü‰ª•‰∏ãÂäüËÉΩÔºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="mi">1</span><span class="p">.</span><span class="w"> </span><span class="err">‰ΩøÁî®</span><span class="o">`</span><span class="n">win32gui</span><span class="o">`</span><span class="err">Êù•Êü•ÊâæÂπ∂ÊøÄÊ¥ªÂæÆ‰ø°Á™óÂè£„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="mi">2</span><span class="p">.</span><span class="w"> </span><span class="err">Âú®ÂèëÈÄÅÊ∂àÊÅØÊó∂Âä†ÂÖ•ÈáçËØïÊú∫Âà∂„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="mi">3</span><span class="p">.</span><span class="w"> </span><span class="err">Âú®ÂèëÈÄÅÊ∂àÊÅØÂâçÊ∑ªÂä†ÈÄÇÂΩìÁöÑÂª∂ËøüÔºåÁ°Æ‰øùÁ™óÂè£Â∑≤ÁªèÊøÄÊ¥ª„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">Ê≥®ÊÑèÔºöÈúÄË¶ÅÂÆâË£Ö</span><span class="o">`</span><span class="n">pywin32</span><span class="o">`</span><span class="err">Â∫ìÔºåÂèØ‰ª•‰ΩøÁî®</span><span class="o">`</span><span class="n">pip</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">pywin32</span><span class="o">`</span><span class="err">ÂÆâË£Ö„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">‰øÆÊîπÂêéÁöÑÂÆåÊï¥‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Ê†πÊçÆÊÇ®ÁöÑÈóÆÈ¢òÊèèËø∞ÂíåÈîôËØØ‰ø°ÊÅØÔºå‰∏ªË¶ÅÈóÆÈ¢òÂú®‰∫éÂæÆ‰ø°Ê∂àÊÅØÂèëÈÄÅË∂ÖÊó∂„ÄÇ‰ª•‰∏ãÊòØÂÆåÊï¥ÁöÑËß£ÂÜ≥ÊñπÊ°à‰ª£Á†ÅÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">time</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">json</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">win32gui</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">win32con</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">wxauto</span> <span class="kn">import</span> <span class="n">WeChat</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">activate_window</span><span class="p">(</span><span class="n">window_title</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;ÊøÄÊ¥ªÊåáÂÆöÊ†áÈ¢òÁöÑÁ™óÂè£&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">hwnd</span> <span class="o">=</span> <span class="n">win32gui</span><span class="o">.</span><span class="n">FindWindow</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">window_title</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">hwnd</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">win32gui</span><span class="o">.</span><span class="n">ShowWindow</span><span class="p">(</span><span class="n">hwnd</span><span class="p">,</span> <span class="n">win32con</span><span class="o">.</span><span class="n">SW_RESTORE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">win32gui</span><span class="o">.</span><span class="n">SetForegroundWindow</span><span class="p">(</span><span class="n">hwnd</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Á™óÂè£ÊøÄÊ¥ªÂ§±Ë¥•: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">safe_send_msg</span><span class="p">(</span><span class="n">chat_win</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">max_retries</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Â∏¶ÈáçËØïÊú∫Âà∂ÁöÑÂÆâÂÖ®ÂèëÈÄÅÊ∂àÊÅØ&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">attempt</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_retries</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># ÊøÄÊ¥ªÂæÆ‰ø°Á™óÂè£</span>
</span></span><span class="line"><span class="cl">            <span class="n">window_title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">chat_win</span><span class="o">.</span><span class="n">who</span><span class="si">}</span><span class="s2"> - ÂæÆ‰ø°&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">activate_window</span><span class="p">(</span><span class="n">window_title</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># Á≠âÂæÖÁ™óÂè£ÊøÄÊ¥ª</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="n">chat_win</span><span class="o">.</span><span class="n">SendMsg</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;ÂèëÈÄÅÂ§±Ë¥•ÔºàÂ∞ùËØï </span><span class="si">{</span><span class="n">attempt</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">max_retries</span><span class="si">}</span><span class="s2">Ôºâ: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Á≠âÂæÖÂêéÈáçËØï</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Âä†ËΩΩÂéÜÂè≤Ê∂àÊÅØËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl"><span class="n">DB</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">DB</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;ÂéÜÂè≤ËÆ∞ÂΩïÂä†ËΩΩÂ§±Ë¥•: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Âä†ËΩΩÁõëÂê¨Áî®Êà∑ÂàóË°®</span>
</span></span><span class="line"><span class="cl"><span class="n">MONITOR_LIST</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&#34;users.txt&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;users.txt&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">line</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">MONITOR_LIST</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Ë≠¶ÂëäÔºöÊú™ÊâæÂà∞ users.txt Êñá‰ª∂ÔºåÂ∞ÜÁõëÂê¨ÈªòËÆ§Áî®Êà∑&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">MONITOR_LIST</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;Ê≤ôÁ≥ª&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ÂàùÂßãÂåñÂæÆ‰ø°</span>
</span></span><span class="line"><span class="cl"><span class="n">wx</span> <span class="o">=</span> <span class="n">WeChat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">MONITOR_LIST</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">wx</span><span class="o">.</span><span class="n">AddListenChat</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Â∑≤ÁõëÂê¨Áî®Êà∑: </span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;ÁõëÂê¨Áî®Êà∑ </span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2"> Â§±Ë¥•: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ‰∏ªÂæ™ÁéØ</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">listen_dict</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">GetListenMessage</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">chat_win</span><span class="p">,</span> <span class="n">message_list</span> <span class="ow">in</span> <span class="n">listen_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">chat_user</span> <span class="o">=</span> <span class="n">chat_win</span><span class="o">.</span><span class="n">who</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="c1"># ËøáÊª§ÈùûÂ•ΩÂèãÊ∂àÊÅØ</span>
</span></span><span class="line"><span class="cl">            <span class="n">interval_list</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span><span class="s2">&#34;role&#34;</span><span class="p">:</span> <span class="s2">&#34;user&#34;</span><span class="p">,</span> <span class="s2">&#34;content&#34;</span><span class="p">:</span> <span class="n">msg</span><span class="o">.</span><span class="n">content</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">message_list</span> <span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&#34;friend&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">interval_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">continue</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">Êî∂Âà∞Êù•Ëá™ </span><span class="si">{</span><span class="n">chat_user</span><span class="si">}</span><span class="s2"> ÁöÑÊ∂àÊÅØ:&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">interval_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;  </span><span class="si">{</span><span class="n">msg</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1"># ÂêàÂπ∂ÂéÜÂè≤ËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl">            <span class="n">history_list</span> <span class="o">=</span> <span class="n">DB</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">chat_user</span><span class="p">,</span> <span class="p">[])</span>
</span></span><span class="line"><span class="cl">            <span class="n">history_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">interval_list</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1"># Ë∞ÉÁî®Ê®°ÂûãAPI</span>
</span></span><span class="line"><span class="cl">            <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="n">url</span><span class="o">=</span><span class="s2">&#34;http://localhost:11434/api/chat&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">json</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;model&#34;</span><span class="p">:</span> <span class="s2">&#34;deepseek-r1:8b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;messages&#34;</span><span class="p">:</span> <span class="n">history_list</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;stream&#34;</span><span class="p">:</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">res</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="n">reply</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="n">reply_content</span> <span class="o">=</span> <span class="n">reply</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Ê®°ÂûãË∞ÉÁî®Â§±Ë¥•: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">reply_content</span> <span class="o">=</span> <span class="s2">&#34;‚ö†Ô∏è Â§ÑÁêÜËØ∑Ê±ÇÊó∂Âá∫ÈîôÔºåËØ∑Á®çÂêéÂÜçËØï&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1"># ÂèëÈÄÅÂõûÂ§ç</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">ÂõûÂ§ç </span><span class="si">{</span><span class="n">chat_user</span><span class="si">}</span><span class="s2">:&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;  </span><span class="si">{</span><span class="n">reply_content</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">safe_send_msg</span><span class="p">(</span><span class="n">chat_win</span><span class="p">,</span> <span class="n">reply_content</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;‚ö†Ô∏è ÊúÄÁªàÂèëÈÄÅÂ§±Ë¥•: </span><span class="si">{</span><span class="n">reply_content</span><span class="p">[:</span><span class="mi">50</span><span class="p">]</span><span class="si">}</span><span class="s2">...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># ‰øùÂ≠òÊàêÂäüËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl">                <span class="n">history_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">reply</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">DB</span><span class="p">[</span><span class="n">chat_user</span><span class="p">]</span> <span class="o">=</span> <span class="n">history_list</span>
</span></span><span class="line"><span class="cl">                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">DB</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Èôç‰ΩéCPUÂç†Áî®</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">Áî®Êà∑ÁªàÊ≠¢Á®ãÂ∫è&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">break</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;‰∏ªÂæ™ÁéØÂºÇÂ∏∏: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># Èò≤Ê≠¢È¢ëÁπÅÊä•Èîô</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>‰∏ªË¶ÅÊîπËøõÔºö</strong></p>
<ol>
<li><strong>Á™óÂè£ÊøÄÊ¥ªÂäüËÉΩ</strong>Ôºö
<ul>
<li>Ê∑ªÂä†‰∫Ü <code>activate_window()</code> ÂáΩÊï∞Ôºå‰ΩøÁî® <code>win32gui</code> Á°Æ‰øùÂæÆ‰ø°Á™óÂè£Âú®ÂâçÂè∞</li>
<li>Âú®ÂèëÈÄÅÊ∂àÊÅØÂâçÊøÄÊ¥ªÁõÆÊ†áËÅäÂ§©Á™óÂè£</li>
</ul>
</li>
<li><strong>Ê∂àÊÅØÂèëÈÄÅÈáçËØïÊú∫Âà∂</strong>Ôºö
<ul>
<li>ÂàõÂª∫‰∫Ü <code>safe_send_msg()</code> ÂáΩÊï∞ÂÆûÁé∞Â∏¶ÈáçËØïÁöÑÊ∂àÊÅØÂèëÈÄÅ</li>
<li>ÈªòËÆ§3Ê¨°ÈáçËØïÔºåÊØèÊ¨°Èó¥Èöî2Áßí</li>
</ul>
</li>
<li><strong>ÈîôËØØÂ§ÑÁêÜÂ¢ûÂº∫</strong>Ôºö
<ul>
<li>Ê∑ªÂä†‰∫ÜÊ®°ÂûãË∞ÉÁî®ÂºÇÂ∏∏Â§ÑÁêÜ</li>
<li>Â¢ûÂä†‰∫Ü‰∏ªÂæ™ÁéØÂºÇÂ∏∏ÊçïËé∑</li>
<li>Ê∑ªÂä†‰∫ÜÈîÆÁõò‰∏≠Êñ≠Â§ÑÁêÜÔºàCtrl+CÔºâ</li>
</ul>
</li>
<li><strong>Êó•Âøó‰ºòÂåñ</strong>Ôºö
<ul>
<li>Êõ¥ËØ¶ÁªÜÁöÑË∞ÉËØï‰ø°ÊÅØËæìÂá∫</li>
<li>Ê∂àÊÅØÂèëÈÄÅÁä∂ÊÄÅÂÆûÊó∂ÂèçÈ¶à</li>
</ul>
</li>
<li><strong>ÊÄßËÉΩ‰ºòÂåñ</strong>Ôºö
<ul>
<li>Ê∑ªÂä†‰∫ÜÈÄÇÂΩìÁöÑ‰ºëÁú†Êó∂Èó¥</li>
<li>ÂáèÂ∞ë‰∏çÂøÖË¶ÅÁöÑËµÑÊ∫êÂç†Áî®</li>
</ul>
</li>
</ol>
<p><strong>‰ΩøÁî®ËØ¥ÊòéÔºö</strong></p>
<ol>
<li>
<p><strong>ÂÆâË£Ö‰æùËµñ</strong>Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pip install wxauto requests pywin32
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><strong>ÂàõÂª∫Áî®Êà∑ÂàóË°®</strong>Ôºö
Âú®ËÑöÊú¨ÂêåÁõÆÂΩï‰∏ãÂàõÂª∫ <code>users.txt</code> Êñá‰ª∂ÔºåÊØèË°å‰∏Ä‰∏™Ë¶ÅÁõëÂê¨ÁöÑÂæÆ‰ø°ËÅîÁ≥ª‰∫∫ÂêçÁß∞</p>
</li>
<li>
<p><strong>ËøêË°åÂáÜÂ§á</strong>Ôºö</p>
<ul>
<li>Á°Æ‰øùÂæÆ‰ø°ÂÆ¢Êà∑Á´ØÂ∑≤ÁôªÂΩïÂπ∂Â§Ñ‰∫éÂâçÂè∞</li>
<li>Á°Æ‰øùOllamaÊúçÂä°Â∑≤ËøêË°åÔºà<code>ollama serve</code>Ôºâ</li>
<li>Á°Æ‰øùÂ∑≤ÂÆâË£ÖÊ®°ÂûãÔºà<code>ollama pull deepseek-r1:8b</code>Ôºâ</li>
</ul>
</li>
<li>
<p><strong>ËøêË°åËÑöÊú¨</strong>Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python your_script_name.py
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p><strong>Ê≥®ÊÑè‰∫ãÈ°πÔºö</strong></p>
<ol>
<li>È¶ñÊ¨°ËøêË°åÊó∂ÂæÆ‰ø°ÂèØËÉΩ‰ºöÊúâÂÆâÂÖ®ÊèêÁ§∫ÔºåÈúÄË¶ÅÊâãÂä®ÂÖÅËÆ∏</li>
<li>Á°Æ‰øùÂæÆ‰ø°Á™óÂè£Ê†áÈ¢òÊ†ºÂºè‰∏∫ &ldquo;ËÅîÁ≥ª‰∫∫ÂêçÁß∞ - ÂæÆ‰ø°&rdquo;</li>
<li>Â¶ÇÊûú‰ªçÈÅáÂà∞ÈóÆÈ¢òÔºåÂèØ‰ª•Â∞ùËØïÔºö
<ul>
<li>Â¢ûÂä†ÈáçËØïÊ¨°Êï∞Ôºà‰øÆÊîπ <code>max_retries</code> ÂèÇÊï∞Ôºâ</li>
<li>Âª∂ÈïøÁ™óÂè£ÊøÄÊ¥ªÂêéÁöÑÁ≠âÂæÖÊó∂Èó¥ÔºàË∞ÉÊï¥ <code>time.sleep(0.5)</code>Ôºâ</li>
</ul>
</li>
</ol>
<p>Ëøô‰∏™Ëß£ÂÜ≥ÊñπÊ°àËß£ÂÜ≥‰∫ÜÊ∂àÊÅØÂèëÈÄÅË∂ÖÊó∂ÁöÑÊ†∏ÂøÉÈóÆÈ¢òÔºåÂêåÊó∂Â¢ûÂº∫‰∫ÜÁ®ãÂ∫èÁöÑÂÅ•Â£ÆÊÄßÂíåÁî®Êà∑‰ΩìÈ™å„ÄÇ</p>
<h4 id="ÊèêÈóÆ2">ÊèêÈóÆ2
</h4><blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="n">File</span> <span class="s2">&#34;D:\PycharmProject\WebAutoTest\Auto_Chat\AI_Auto.py&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">62</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="n">wx</span> <span class="o">=</span> <span class="n">WeChat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="n">File</span> <span class="s2">&#34;D:\PycharmProject\WebAutoTest</span><span class="se">\v</span><span class="s2">env\lib\site-packages\wxauto\wxauto.py&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">41</span><span class="p">,</span> <span class="ow">in</span> <span class="fm">__init__</span>
</span></span><span class="line"><span class="cl">    <span class="bp">self</span><span class="o">.</span><span class="n">_show</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="n">File</span> <span class="s2">&#34;D:\PycharmProject\WebAutoTest</span><span class="se">\v</span><span class="s2">env\lib\site-packages\wxauto\wxauto.py&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">88</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_show</span>
</span></span><span class="line"><span class="cl">    <span class="n">win32gui</span><span class="o">.</span><span class="n">SetWindowPos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">HWND</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">pywintypes</span><span class="o">.</span><span class="n">error</span><span class="p">:</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;SetWindowPos&#39;</span><span class="p">,</span> <span class="s1">&#39;ÊãíÁªùËÆøÈóÆ„ÄÇ&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ËøõÁ®ãÂ∑≤ÁªìÊùü</span><span class="p">,</span><span class="n">ÈÄÄÂá∫‰ª£Á†Å</span>
</span></span></code></pre></td></tr></table>
</div>
</div></blockquote>
<h4 id="ÂõûÁ≠î2">ÂõûÁ≠î2
</h4><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="err">Â∑≤Ê∑±Â∫¶ÊÄùËÄÉÔºàÁî®Êó∂</span><span class="w"> </span><span class="mi">65</span><span class="w"> </span><span class="err">ÁßíÔºâ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">Ëøô‰∏™ÈîôËØØÊòØÁî±‰∫éÂ∞ùËØïËÆæÁΩÆÁ™óÂè£‰ΩçÁΩÆÊó∂Ë¢´ÊãíÁªùËÆøÈóÆÂØºËá¥ÁöÑ„ÄÇÂèØËÉΩÁöÑÂéüÂõ†ÊòØÁ®ãÂ∫èÊ≤°ÊúâË∂≥Â§üÁöÑÊùÉÈôêÔºåÊàñËÄÖÂæÆ‰ø°Á™óÂè£ÁöÑÊüê‰∫õ‰øùÊä§Êú∫Âà∂ÈòªÊ≠¢‰∫ÜÊìç‰Ωú„ÄÇÊàë‰ª¨ÂèØ‰ª•Â∞ùËØï‰ª•‰∏ãÊñπÊ≥ïÔºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="mi">1</span><span class="p">.</span><span class="w"> </span><span class="err">‰ª•ÁÆ°ÁêÜÂëòË∫´‰ªΩËøêË°å</span><span class="n">PythonËÑöÊú¨</span><span class="err">„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="mi">2</span><span class="p">.</span><span class="w"> </span><span class="err">ÈÅøÂÖçÂú®ÂàùÂßãÂåñÊó∂Ë∞ÉÁî®</span><span class="o">`</span><span class="n">_show</span><span class="o">`</span><span class="err">ÊñπÊ≥ïÔºàÂç≥ÈÅøÂÖçËÆæÁΩÆÁ™óÂè£‰ΩçÁΩÆÔºâ„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">Âú®</span><span class="n">wxautoÁöÑÊ∫ê‰ª£Á†Å‰∏≠</span><span class="err">Ôºå</span><span class="o">`</span><span class="n">__init__</span><span class="o">`</span><span class="err">ÊñπÊ≥ï‰ºöË∞ÉÁî®</span><span class="o">`</span><span class="n">_show</span><span class="o">`</span><span class="err">ÊñπÊ≥ïÔºåËÄå</span><span class="o">`</span><span class="n">_show</span><span class="o">`</span><span class="err">ÊñπÊ≥ï‰∏≠‰ΩøÁî®‰∫Ü</span><span class="o">`</span><span class="n">SetWindowPos</span><span class="o">`</span><span class="err">„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÁªßÊâø</span><span class="o">`</span><span class="n">WeChat</span><span class="o">`</span><span class="err">Á±ªÂπ∂ÈáçÂÜô</span><span class="o">`</span><span class="n">_show</span><span class="o">`</span><span class="err">ÊñπÊ≥ïÔºåÈÅøÂÖçËøô‰∏™Êìç‰Ωú„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">‰ΩÜÊòØÔºåÊàë‰ª¨‰πüÂèØ‰ª•Â∞ùËØïÂú®ÂàõÂª∫</span><span class="o">`</span><span class="n">WeChat</span><span class="o">`</span><span class="err">ÂØπË±°Êó∂‰∏çËá™Âä®Ë∞ÉÁî®</span><span class="o">`</span><span class="n">_show</span><span class="o">`</span><span class="err">ÔºàÊü•Áúã</span><span class="n">wxautoÊ∫êÁ†Å</span><span class="err">Ôºå‰ºº‰πéÊ≤°ÊúâÊèê‰æõÂèÇÊï∞Êù•ÊéßÂà∂Ôºâ„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨ÂèØ‰ª•‰øÆÊîπ‰∏∫ÊçïËé∑ÂºÇÂ∏∏ÔºåÊàñËÄÖ‰ΩøÁî®ÂÖ∂‰ªñÊñπÂºè„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">Âè¶‰∏ÄÁßçÊÄùË∑ØÔºöÂú®ÂàùÂßãÂåñ</span><span class="o">`</span><span class="n">WeChat</span><span class="o">`</span><span class="err">ÂØπË±°Êó∂ÔºåÊàë‰ª¨Âπ∂‰∏çÈúÄË¶ÅÁ´ãÂç≥ÊòæÁ§∫Á™óÂè£ÔºàÂõ†‰∏∫ÂêéÁª≠Êàë‰ª¨ÈÄöËøáÊøÄÊ¥ªÁ™óÂè£Êù•Êìç‰ΩúÔºâ„ÄÇÊâÄ‰ª•ÔºåÊàë‰ª¨ÂèØ‰ª•ËÄÉËôë‰øÆÊîπ</span><span class="n">wxautoÁöÑ‰ª£Á†Å</span><span class="err">Ôºü‰ΩÜËøô‰∏çÊòØÂ•ΩÁöÑÂÅöÊ≥ï„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">ÂÆûÈôÖ‰∏äÔºåÈîôËØØ‰ø°ÊÅØ‰∏≠ÊèêÂà∞ÁöÑ</span><span class="o">`</span><span class="n">SetWindowPos</span><span class="o">`</span><span class="err">Ë∞ÉÁî®ÊòØ‰∏∫‰∫ÜÂ∞ÜÁ™óÂè£ÁΩÆ‰∫éÊúÄÂâçÈù¢„ÄÇÊàë‰ª¨ÂèØ‰ª•Ë∑≥ËøáËøô‰∏ÄÊ≠•ÔºåÂõ†‰∏∫ÂêéÁª≠Âú®ÂèëÈÄÅÊ∂àÊÅØÊó∂Êàë‰ª¨‰ºöÊøÄÊ¥ªÁ™óÂè£„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">Áî±‰∫éÊàë‰ª¨Êó†Ê≥ïÁõ¥Êé•‰øÆÊîπÂ∫ìÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ùËØïÊçïËé∑Ëøô‰∏™ÂºÇÂ∏∏Âπ∂ÁªßÁª≠ËøêË°åÔºåÂè™Ë¶ÅÂêéÁª≠Êìç‰Ωú‰∏çÂèóÂΩ±Âìç„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">‰øÆÊîπÂàùÂßãÂåñÈÉ®ÂàÜÔºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="o">```</span><span class="n">python</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">try</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">wx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">WeChat</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">except</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">e</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&#34;ÂàùÂßãÂåñÂæÆ‰ø°Êó∂Âá∫Èîô: {str(e)}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="s2">&#34;Â∞ùËØïÁªßÁª≠ËøêË°å...&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1"># ËøôÈáåÈúÄË¶ÅÁ°Æ‰øùwxÂØπË±°‰ªçÁÑ∂Ë¢´ÂàõÂª∫Ôºå‰ΩÜÊçïËé∑ÂºÇÂ∏∏ÂêéÂèØËÉΩÊó†Ê≥ïÂàõÂª∫ÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÈáçÊñ∞ÂàùÂßãÂåñ‰ΩÜ‰∏çË∞ÉÁî®_showÊñπÊ≥ïÔºü
</span></span></span><span class="line"><span class="cl"><span class="c1"># ÂÆûÈôÖ‰∏äÔºåwxautoÂú®ÂàùÂßãÂåñÊó∂‰∏ÄÂÆö‰ºöË∞ÉÁî®_showÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶ÅÂè¶‰∏ÄÁßçÊñπÂºè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="err">\</span><span class="o">```</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">Áî±‰∫éËøô‰∏™ÈîôËØØÂèëÁîüÂú®</span><span class="o">`</span><span class="n">_show</span><span class="o">`</span><span class="err">ÊñπÊ≥ï‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ùËØïÂú®ÂàõÂª∫</span><span class="o">`</span><span class="n">WeChat</span><span class="o">`</span><span class="err">ÂÆû‰æã‰πãÂâçÔºåÂÖàÊâæÂà∞ÂæÆ‰ø°Á™óÂè£ÔºåÁÑ∂ÂêéÂ∞ùËØïÊøÄÊ¥ªÂÆÉÔºåËøôÊ†∑Âú®</span><span class="o">`</span><span class="n">_show</span><span class="o">`</span><span class="err">‰∏≠ËÆæÁΩÆ‰ΩçÁΩÆÊó∂ÂèØËÉΩÂ∞±‰∏ç‰ºöÂá∫ÈîôÔºüÊàñËÄÖÔºåÊàë‰ª¨ËÄÉËôë‰ΩøÁî®Âè¶‰∏Ä‰∏™Â∫ìÔºàÂ¶Ç</span><span class="o">`</span><span class="n">pywinauto</span><span class="o">`</span><span class="err">ÔºâÊù•Êìç‰ΩúÂæÆ‰ø°Á™óÂè£Ôºü</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">‰ΩÜÊòØÔºå‰∏∫‰∫ÜÂø´ÈÄüËß£ÂÜ≥ÈóÆÈ¢òÔºåÊàë‰ª¨ÂèØ‰ª•ËÄÉËôë‰øÆÊîπ</span><span class="o">`</span><span class="n">wxauto</span><span class="o">`</span><span class="err">Â∫ìÁöÑÊ∫ê‰ª£Á†Å„ÄÇÊâæÂà∞</span><span class="o">`</span><span class="n">wxauto</span><span class="p">.</span><span class="n">py</span><span class="o">`</span><span class="err">Êñá‰ª∂ÔºåÂÆö‰ΩçÂà∞</span><span class="o">`</span><span class="n">_show</span><span class="o">`</span><span class="err">ÊñπÊ≥ïÔºàÂ§ßÁ∫¶Á¨¨</span><span class="mi">88</span><span class="err">Ë°åÔºâÔºåÂ∞ÜÔºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="o">```</span><span class="n">python</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">win32gui</span><span class="p">.</span><span class="nf">SetWindowPos</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">HWND</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="o">```</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">Êîπ‰∏∫Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="o">```</span><span class="n">python</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">try</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">win32gui</span><span class="p">.</span><span class="nf">SetWindowPos</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">HWND</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">except</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">e</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&#34;ËÆæÁΩÆÁ™óÂè£‰ΩçÁΩÆÂ§±Ë¥•: {e}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="o">```</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">ËøôÊ†∑ÔºåÂç≥‰ΩøËÆæÁΩÆÁ™óÂè£‰ΩçÁΩÆÂ§±Ë¥•Ôºå‰πü‰∏ç‰ºöÊäõÂá∫ÂºÇÂ∏∏ÔºåÁ®ãÂ∫èÂèØ‰ª•ÁªßÁª≠ËøêË°å„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">Â¶ÇÊûú‰Ω†‰∏çÊÉ≥‰øÆÊîπÂ∫ìÁöÑ‰ª£Á†ÅÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ùËØïÂú®ÂàùÂßãÂåñ‰πãÂâçÂÖàÊøÄÊ¥ªÂæÆ‰ø°Á™óÂè£ÔºåÁúãÊòØÂê¶ËÉΩÈÅøÂÖçËøô‰∏™ÈîôËØØ„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">‰ª•‰∏ãÊòØ‰øÆÊîπÂêéÁöÑÂàùÂßãÂåñ‰ª£Á†ÅÔºåÂ∞ùËØïÂÖàÊøÄÊ¥ªÂæÆ‰ø°‰∏ªÁ™óÂè£Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="o">```</span><span class="n">python</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1"># Â∞ùËØïÂÖàÊøÄÊ¥ªÂæÆ‰ø°‰∏ªÁ™óÂè£
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">def</span><span class="w"> </span><span class="nf">activate_wechat_main_window</span><span class="p">():</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">hwnd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">win32gui</span><span class="p">.</span><span class="nf">FindWindow</span><span class="p">(</span><span class="s2">&#34;WeChatMainWndForPC&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">None</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">if</span><span class="w"> </span><span class="n">hwnd</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">win32gui</span><span class="p">.</span><span class="nf">ShowWindow</span><span class="p">(</span><span class="n">hwnd</span><span class="p">,</span><span class="w"> </span><span class="n">win32con</span><span class="p">.</span><span class="n">SW_RESTORE</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">win32gui</span><span class="p">.</span><span class="nf">SetForegroundWindow</span><span class="p">(</span><span class="n">hwnd</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kt">time</span><span class="p">.</span><span class="nf">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nf">activate_wechat_main_window</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1"># ÂàùÂßãÂåñÂæÆ‰ø°ÂØπË±°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">wx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">WeChat</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="o">```</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">ÂæÆ‰ø°‰∏ªÁ™óÂè£ÁöÑÁ±ªÂêçÊòØ</span><span class="s2">&#34;WeChatMainWndForPC&#34;</span><span class="err">ÔºåÊàë‰ª¨Â∞ùËØïÂÖàÊøÄÊ¥ªÂÆÉÔºåÁÑ∂ÂêéÂÜçÂàùÂßãÂåñ</span><span class="o">`</span><span class="n">WeChat</span><span class="o">`</span><span class="err">ÂØπË±°„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">ËÆ©Êàë‰ª¨Êï¥ÂêàÂà∞‰ª£Á†Å‰∏≠Ôºö</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">\</span><span class="o">```</span><span class="n">python</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">import</span><span class="w"> </span><span class="n">os</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">import</span><span class="w"> </span><span class="kt">time</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">import</span><span class="w"> </span><span class="n">json</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">import</span><span class="w"> </span><span class="n">requests</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">import</span><span class="w"> </span><span class="n">win32gui</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">import</span><span class="w"> </span><span class="n">win32con</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">from</span><span class="w"> </span><span class="n">wxauto</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">WeChat</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">def</span><span class="w"> </span><span class="nf">activate_window</span><span class="p">(</span><span class="n">window_title</span><span class="p">):</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s2">&#34;&#34;&#34;ÊøÄÊ¥ªÊåáÂÆöÊ†áÈ¢òÁöÑÁ™óÂè£&#34;&#34;&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">try</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">hwnd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">win32gui</span><span class="p">.</span><span class="nf">FindWindow</span><span class="p">(</span><span class="n">None</span><span class="p">,</span><span class="w"> </span><span class="n">window_title</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">hwnd</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">win32gui</span><span class="p">.</span><span class="nf">ShowWindow</span><span class="p">(</span><span class="n">hwnd</span><span class="p">,</span><span class="w"> </span><span class="n">win32con</span><span class="p">.</span><span class="n">SW_RESTORE</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">win32gui</span><span class="p">.</span><span class="nf">SetForegroundWindow</span><span class="p">(</span><span class="n">hwnd</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="no">True</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">except</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">e</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&#34;Á™óÂè£ÊøÄÊ¥ªÂ§±Ë¥•: {str(e)}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="no">False</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">def</span><span class="w"> </span><span class="nf">safe_send_msg</span><span class="p">(</span><span class="n">chat_win</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="p">,</span><span class="w"> </span><span class="n">max_retries</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s2">&#34;&#34;&#34;Â∏¶ÈáçËØïÊú∫Âà∂ÁöÑÂÆâÂÖ®ÂèëÈÄÅÊ∂àÊÅØ&#34;&#34;&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">attempt</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nf">range</span><span class="p">(</span><span class="n">max_retries</span><span class="p">):</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">try</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1"># ÊøÄÊ¥ªÂæÆ‰ø°Á™óÂè£
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">            </span><span class="n">window_title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="s2">&#34;{chat_win.who} - ÂæÆ‰ø°&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="nf">activate_window</span><span class="p">(</span><span class="n">window_title</span><span class="p">):</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="kt">time</span><span class="p">.</span><span class="nf">sleep</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">)</span><span class="w">  </span><span class="c1"># Á≠âÂæÖÁ™óÂè£ÊøÄÊ¥ª
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">chat_win</span><span class="p">.</span><span class="nf">SendMsg</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="no">True</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">except</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">e</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nf">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&#34;ÂèëÈÄÅÂ§±Ë¥•ÔºàÂ∞ùËØï {attempt + 1}/{max_retries}Ôºâ: {str(e)}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="kt">time</span><span class="p">.</span><span class="nf">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w">  </span><span class="c1"># Á≠âÂæÖÂêéÈáçËØï
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="no">False</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1"># Âä†ËΩΩÂéÜÂè≤Ê∂àÊÅØËÆ∞ÂΩï
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">DB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">if</span><span class="w"> </span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="k">exists</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">):</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">try</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">with</span><span class="w"> </span><span class="nf">open</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">fp</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">DB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">json</span><span class="p">.</span><span class="k">load</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">except</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">e</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&#34;ÂéÜÂè≤ËÆ∞ÂΩïÂä†ËΩΩÂ§±Ë¥•: {str(e)}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1"># Âä†ËΩΩÁõëÂê¨Áî®Êà∑ÂàóË°®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">MONITOR_LIST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">if</span><span class="w"> </span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="k">exists</span><span class="p">(</span><span class="s2">&#34;users.txt&#34;</span><span class="p">):</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">with</span><span class="w"> </span><span class="nf">open</span><span class="p">(</span><span class="s2">&#34;users.txt&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">fp</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fp</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">line</span><span class="p">.</span><span class="nf">strip</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">line</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">MONITOR_LIST</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">else</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="s2">&#34;Ë≠¶ÂëäÔºöÊú™ÊâæÂà∞ users.txt Êñá‰ª∂ÔºåÂ∞ÜÁõëÂê¨ÈªòËÆ§Áî®Êà∑&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">MONITOR_LIST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&#34;Ê≤ôÁ≥ª&#34;</span><span class="p">]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1"># ÂàùÂßãÂåñÂæÆ‰ø°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">try</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">wx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">WeChat</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">except</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">e</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&#34;ÂàùÂßãÂåñÂæÆ‰ø°Êó∂Âá∫Èîô: {str(e)}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c1"># Â¶ÇÊûúÂàùÂßãÂåñÂ§±Ë¥•ÔºåÂ∞ùËØïÂÜçÊ¨°ÊøÄÊ¥ª‰∏ªÁ™óÂè£Âπ∂ÈáçËØï‰∏ÄÊ¨°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="nf">print</span><span class="p">(</span><span class="s2">&#34;Â∞ùËØïÂÜçÊ¨°ÊøÄÊ¥ªÂæÆ‰ø°‰∏ªÁ™óÂè£Âπ∂ÈáçËØïÂàùÂßãÂåñ...&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">activate_wechat_main_window</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1"># ÂÜçËØï‰∏ÄÊ¨°ÔºåÂ¶ÇÊûúËøòÂ§±Ë¥•ÂàôÈÄÄÂá∫
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">wx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">WeChat</span><span class="p">()</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">for</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">MONITOR_LIST</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">try</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">wx</span><span class="p">.</span><span class="nf">AddListenChat</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="k">user</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&#34;Â∑≤ÁõëÂê¨Áî®Êà∑: {user}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">except</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">e</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&#34;ÁõëÂê¨Áî®Êà∑ {user} Â§±Ë¥•: {str(e)}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1"># ... ÂÖ∂‰Ωô‰ª£Á†Å‰øùÊåÅ‰∏çÂèò ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="err">\</span><span class="o">```</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">ËøôÊ†∑ÔºåÂú®ÂàùÂßãÂåñ</span><span class="o">`</span><span class="n">WeChat</span><span class="o">`</span><span class="err">ÂØπË±°‰πãÂâçÔºåÊàë‰ª¨ÂÖàÊøÄÊ¥ªÂæÆ‰ø°‰∏ªÁ™óÂè£ÔºåÂèØËÉΩ‰ºöÈÅøÂÖçÊùÉÈôêÈóÆÈ¢ò„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">Â¶ÇÊûúÈóÆÈ¢ò‰ªçÁÑ∂Â≠òÂú®ÔºåËØ∑ËÄÉËôë‰ª•ÁÆ°ÁêÜÂëòË∫´‰ªΩËøêË°åËÑöÊú¨„ÄÇ</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">Ê≥®ÊÑèÔºöÂ¶ÇÊûúÂæÆ‰ø°Ê≤°ÊúâËøêË°åÔºå</span><span class="o">`</span><span class="n">activate_wechat_main_window</span><span class="o">`</span><span class="err">ÂáΩÊï∞Â∞ÜÊâæ‰∏çÂà∞Á™óÂè£ÔºåÊâÄ‰ª•Á°Æ‰øùÂæÆ‰ø°Â∑≤ÁªèÂêØÂä®„ÄÇ</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Ëøô‰∏™ÈîôËØØÂèëÁîüÂú®ÂàùÂßãÂåñ <code>WeChat</code> ÂØπË±°Êó∂ÔºåÂÖ∑‰ΩìÊòØÂú®Â∞ùËØïËÆæÁΩÆÂæÆ‰ø°Á™óÂè£‰ΩçÁΩÆÊó∂Âá∫Áé∞‰∫ÜËÆøÈóÆË¢´ÊãíÁªùÁöÑÈóÆÈ¢ò„ÄÇËÆ©Êàë‰ª¨Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">os</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">time</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">json</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">requests</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">win32gui</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">win32con</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">wxauto</span> <span class="kn">import</span> <span class="n">WeChat</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">activate_window</span><span class="p">(</span><span class="n">window_title</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;ÊøÄÊ¥ªÊåáÂÆöÊ†áÈ¢òÁöÑÁ™óÂè£&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">hwnd</span> <span class="o">=</span> <span class="n">win32gui</span><span class="o">.</span><span class="n">FindWindow</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">window_title</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">hwnd</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">win32gui</span><span class="o">.</span><span class="n">ShowWindow</span><span class="p">(</span><span class="n">hwnd</span><span class="p">,</span> <span class="n">win32con</span><span class="o">.</span><span class="n">SW_RESTORE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">win32gui</span><span class="o">.</span><span class="n">SetForegroundWindow</span><span class="p">(</span><span class="n">hwnd</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Á™óÂè£ÊøÄÊ¥ªÂ§±Ë¥•: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">safe_send_msg</span><span class="p">(</span><span class="n">chat_win</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">max_retries</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;Â∏¶ÈáçËØïÊú∫Âà∂ÁöÑÂÆâÂÖ®ÂèëÈÄÅÊ∂àÊÅØ&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">attempt</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_retries</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="c1"># ÊøÄÊ¥ªÂæÆ‰ø°Á™óÂè£</span>
</span></span><span class="line"><span class="cl">            <span class="n">window_title</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">chat_win</span><span class="o">.</span><span class="n">who</span><span class="si">}</span><span class="s2"> - ÂæÆ‰ø°&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">activate_window</span><span class="p">(</span><span class="n">window_title</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>  <span class="c1"># Á≠âÂæÖÁ™óÂè£ÊøÄÊ¥ª</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="n">chat_win</span><span class="o">.</span><span class="n">SendMsg</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;ÂèëÈÄÅÂ§±Ë¥•ÔºàÂ∞ùËØï </span><span class="si">{</span><span class="n">attempt</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">max_retries</span><span class="si">}</span><span class="s2">Ôºâ: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Á≠âÂæÖÂêéÈáçËØï</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Âä†ËΩΩÂéÜÂè≤Ê∂àÊÅØËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl"><span class="n">DB</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">DB</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;ÂéÜÂè≤ËÆ∞ÂΩïÂä†ËΩΩÂ§±Ë¥•: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Âä†ËΩΩÁõëÂê¨Áî®Êà∑ÂàóË°®</span>
</span></span><span class="line"><span class="cl"><span class="n">MONITOR_LIST</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&#34;users.txt&#34;</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;users.txt&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">line</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">MONITOR_LIST</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Ë≠¶ÂëäÔºöÊú™ÊâæÂà∞ users.txt Êñá‰ª∂ÔºåÂ∞ÜÁõëÂê¨ÈªòËÆ§Áî®Êà∑&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">MONITOR_LIST</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;Ê≤ôÁ≥ª&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ÂàùÂßãÂåñÂæÆ‰ø° - ÂÆâÂÖ®ÊñπÂºè</span>
</span></span><span class="line"><span class="cl"><span class="n">wx</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl"><span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">wx</span> <span class="o">=</span> <span class="n">WeChat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;ÂàùÂßãÂåñÂæÆ‰ø°Êó∂Âá∫Èîô: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Â∞ùËØïÊâãÂä®Ëé∑ÂèñÂæÆ‰ø°Á™óÂè£...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># ÊâãÂä®Êü•ÊâæÂæÆ‰ø°Á™óÂè£</span>
</span></span><span class="line"><span class="cl">    <span class="n">wechat_hwnd</span> <span class="o">=</span> <span class="n">win32gui</span><span class="o">.</span><span class="n">FindWindow</span><span class="p">(</span><span class="s2">&#34;WeChatMainWndForPC&#34;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">wechat_hwnd</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;ÊâæÂà∞ÂæÆ‰ø°‰∏ªÁ™óÂè£ÔºåÂ∞ùËØïÊøÄÊ¥ª...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">win32gui</span><span class="o">.</span><span class="n">ShowWindow</span><span class="p">(</span><span class="n">wechat_hwnd</span><span class="p">,</span> <span class="n">win32con</span><span class="o">.</span><span class="n">SW_RESTORE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">win32gui</span><span class="o">.</span><span class="n">SetForegroundWindow</span><span class="p">(</span><span class="n">wechat_hwnd</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># ÂÜçÊ¨°Â∞ùËØïÂàùÂßãÂåñ</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">wx</span> <span class="o">=</span> <span class="n">WeChat</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;ÂæÆ‰ø°ÂàùÂßãÂåñÊàêÂäü&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e2</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;ÂÜçÊ¨°ÂàùÂßãÂåñÂ§±Ë¥•: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e2</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;ËØ∑Á°Æ‰øùÂæÆ‰ø°Â∑≤ÂêØÂä®Âπ∂Â§Ñ‰∫éÂâçÂè∞&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Êú™ÊâæÂà∞ÂæÆ‰ø°Á™óÂè£ÔºåËØ∑Á°Æ‰øùÂæÆ‰ø°Â∑≤ÂêØÂä®&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ÁõëÂê¨Ë¥¶Êà∑ÂàóË°®</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">MONITOR_LIST</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">wx</span><span class="o">.</span><span class="n">AddListenChat</span><span class="p">(</span><span class="n">who</span><span class="o">=</span><span class="n">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Â∑≤ÁõëÂê¨Áî®Êà∑: </span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;ÁõëÂê¨Áî®Êà∑ </span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s2"> Â§±Ë¥•: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ÁõëÂê¨Ê∂àÊÅØ</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">listen_dict</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">GetListenMessage</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="ow">not</span> <span class="n">listen_dict</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">chat_win</span><span class="p">,</span> <span class="n">message_list</span> <span class="ow">in</span> <span class="n">listen_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">chat_user</span> <span class="o">=</span> <span class="n">chat_win</span><span class="o">.</span><span class="n">who</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="c1"># Ëé∑ÂèñÊúÄÊñ∞ËÅäÂ§©Ê∂àÊÅØ</span>
</span></span><span class="line"><span class="cl">            <span class="n">interval_list</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">message_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">msg</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="s2">&#34;friend&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="k">continue</span>
</span></span><span class="line"><span class="cl">                <span class="n">interval_list</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&#34;role&#34;</span><span class="p">:</span> <span class="s2">&#34;user&#34;</span><span class="p">,</span> <span class="s2">&#34;content&#34;</span><span class="p">:</span> <span class="n">msg</span><span class="o">.</span><span class="n">content</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">interval_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">continue</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">Êî∂Âà∞Êù•Ëá™ </span><span class="si">{</span><span class="n">chat_user</span><span class="si">}</span><span class="s2"> ÁöÑÊ∂àÊÅØ:&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">interval_list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;  </span><span class="si">{</span><span class="n">msg</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1"># ÂêàÂπ∂ÂéÜÂè≤ËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl">            <span class="n">history_list</span> <span class="o">=</span> <span class="n">DB</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">chat_user</span><span class="p">,</span> <span class="p">[])</span>
</span></span><span class="line"><span class="cl">            <span class="n">history_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">interval_list</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1"># Ë∞ÉÁî®Êú¨Âú∞ deepseek Ê®°Âûã</span>
</span></span><span class="line"><span class="cl">            <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="n">url</span><span class="o">=</span><span class="s2">&#34;http://localhost:11434/api/chat&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">json</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;model&#34;</span><span class="p">:</span> <span class="s2">&#34;deepseek-r1:8b&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;messages&#34;</span><span class="p">:</span> <span class="n">history_list</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                        <span class="s2">&#34;stream&#34;</span><span class="p">:</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">                    <span class="p">},</span>
</span></span><span class="line"><span class="cl">                    <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span>
</span></span><span class="line"><span class="cl">                <span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">res</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="n">reply</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">                <span class="n">reply_content</span> <span class="o">=</span> <span class="n">reply</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Ê®°ÂûãË∞ÉÁî®Â§±Ë¥•: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">reply_content</span> <span class="o">=</span> <span class="s2">&#34;‚ö†Ô∏è Â§ÑÁêÜËØ∑Ê±ÇÊó∂Âá∫ÈîôÔºåËØ∑Á®çÂêéÂÜçËØï&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c1"># ÂèëÈÄÅÂõûÂ§ç</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">ÂõûÂ§ç </span><span class="si">{</span><span class="n">chat_user</span><span class="si">}</span><span class="s2">:&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;  </span><span class="si">{</span><span class="n">reply_content</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="ow">not</span> <span class="n">safe_send_msg</span><span class="p">(</span><span class="n">chat_win</span><span class="p">,</span> <span class="n">reply_content</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;‚ö†Ô∏è ÊúÄÁªàÂèëÈÄÅÂ§±Ë¥•: </span><span class="si">{</span><span class="n">reply_content</span><span class="p">[:</span><span class="mi">50</span><span class="p">]</span><span class="si">}</span><span class="s2">...&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="c1"># ‰øùÂ≠òÊàêÂäüËÆ∞ÂΩï</span>
</span></span><span class="line"><span class="cl">                <span class="n">history_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">reply</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="n">DB</span><span class="p">[</span><span class="n">chat_user</span><span class="p">]</span> <span class="o">=</span> <span class="n">history_list</span>
</span></span><span class="line"><span class="cl">                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;db.json&#34;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">DB</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Èôç‰ΩéCPUÂç†Áî®</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;</span><span class="se">\n</span><span class="s2">Áî®Êà∑ÁªàÊ≠¢Á®ãÂ∫è&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">break</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;‰∏ªÂæ™ÁéØÂºÇÂ∏∏: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># Èò≤Ê≠¢È¢ëÁπÅÊä•Èîô</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>‰∏ªË¶Å‰øÆÂ§çÔºö</strong></p>
<ol>
<li><strong>ÂæÆ‰ø°ÂàùÂßãÂåñÈîôËØØÂ§ÑÁêÜ</strong>Ôºö
<ul>
<li>Ê∑ªÂä†‰∫ÜÂÆåÊï¥ÁöÑÂºÇÂ∏∏ÊçïËé∑ÂíåÂ§ÑÁêÜÊú∫Âà∂</li>
<li>ÂΩì <code>WeChat()</code> ÂàùÂßãÂåñÂ§±Ë¥•Êó∂ÔºåÊâãÂä®Êü•ÊâæÂπ∂ÊøÄÊ¥ªÂæÆ‰ø°Á™óÂè£</li>
<li>‰ΩøÁî®ÂæÆ‰ø°Á™óÂè£ÁöÑÁ±ªÂêç <code>&quot;WeChatMainWndForPC&quot;</code> ËøõË°åÊü•Êâæ</li>
</ul>
</li>
<li><strong>Â¢ûÂä†ÂÅ•Â£ÆÊÄß</strong>Ôºö
<ul>
<li>Ê£ÄÊü• <code>GetListenMessage()</code> ËøîÂõûÊòØÂê¶‰∏∫Á©∫</li>
<li>Ê∑ªÂä†‰∫ÜÊõ¥Â§öÁöÑÈîôËØØÂ§ÑÁêÜÂíåÊó•ÂøóËæìÂá∫</li>
<li>Á°Æ‰øùÁ®ãÂ∫èÂú®ÈÅáÂà∞ÈîôËØØÊó∂‰∏ç‰ºöÂÆåÂÖ®Â¥©Ê∫É</li>
</ul>
</li>
<li><strong>ÊùÉÈôêÈóÆÈ¢òËß£ÂÜ≥</strong>Ôºö
<ul>
<li>Á°Æ‰øù‰ª•ÁÆ°ÁêÜÂëòË∫´‰ªΩËøêË°åËÑöÊú¨ÔºàÂè≥ÈîÆ -&gt; ‰ª•ÁÆ°ÁêÜÂëòË∫´‰ªΩËøêË°åÔºâ</li>
<li>Â¶ÇÊûú‰ªçÁÑ∂ÈÅáÂà∞ÊùÉÈôêÈóÆÈ¢òÔºåÂ∞ùËØïÂú®ÂæÆ‰ø°ËÆæÁΩÆ‰∏≠ÂÖ≥Èó≠ &ldquo;‰ª•ÁÆ°ÁêÜÂëòË∫´‰ªΩËøêË°åÊ≠§Á®ãÂ∫è&rdquo; ÁöÑÈÄâÈ°π</li>
</ul>
</li>
</ol>
<p><strong>‰ΩøÁî®ËØ¥ÊòéÔºö</strong></p>
<ol>
<li>
<p><strong>È¶ñÊ¨°ËøêË°åÊó∂</strong>Ôºö</p>
<ul>
<li>Á°Æ‰øùÂæÆ‰ø°Â∑≤ÂêØÂä®Âπ∂Â§Ñ‰∫éÂâçÂè∞</li>
<li>Âè≥ÈîÆÁÇπÂáªËÑöÊú¨ -&gt; ‰ª•ÁÆ°ÁêÜÂëòË∫´‰ªΩËøêË°å</li>
</ul>
</li>
<li>
<p><strong>Â¶ÇÊûú‰ªçÁÑ∂ÈÅáÂà∞ÈóÆÈ¢ò</strong>Ôºö</p>
<ul>
<li>
<p>Ê£ÄÊü•ÂæÆ‰ø°ÊòØÂê¶ËÆæÁΩÆ‰∫Ü &ldquo;‰ª•ÁÆ°ÁêÜÂëòË∫´‰ªΩËøêË°å&rdquo;Ôºö</p>
<ul>
<li>Âè≥ÈîÆÂæÆ‰ø°Âø´Êç∑ÊñπÂºè -&gt; Â±ûÊÄß -&gt; ÂÖºÂÆπÊÄß</li>
<li>ÂèñÊ∂àÂãæÈÄâ &ldquo;‰ª•ÁÆ°ÁêÜÂëòË∫´‰ªΩËøêË°åÊ≠§Á®ãÂ∫è&rdquo;</li>
</ul>
</li>
<li>
<p>Â∞ùËØïÊõ¥Êñ∞ <code>wxauto</code> Â∫ìÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">pip install --upgrade wxauto
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
<li>
<p><strong>Êõø‰ª£ÊñπÊ°à</strong>Ôºö
Â¶ÇÊûú‰ª•‰∏äÊñπÊ≥ïÊó†ÊïàÔºåÂèØ‰ª•Â∞ùËØï‰ΩøÁî®Êõ¥Á®≥ÂÆöÁöÑ <code>UIAutomation</code> Êõø‰ª£ÊñπÊ°àÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Êõø‰ª£ÂàùÂßãÂåñÊñπÊ≥ï</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">wxauto</span> <span class="kn">import</span> <span class="n">WeChat</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">uiautomation</span> <span class="kn">import</span> <span class="n">WindowControl</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Êü•ÊâæÂæÆ‰ø°Á™óÂè£</span>
</span></span><span class="line"><span class="cl"><span class="n">wx_win</span> <span class="o">=</span> <span class="n">WindowControl</span><span class="p">(</span><span class="n">ClassName</span><span class="o">=</span><span class="s2">&#34;WeChatMainWndForPC&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="n">wx_win</span><span class="o">.</span><span class="n">Exists</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">wx_win</span><span class="o">.</span><span class="n">SetActive</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">wx</span> <span class="o">=</span> <span class="n">WeChat</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p>Ëøô‰∏™Ëß£ÂÜ≥ÊñπÊ°àÂ∫îËØ•ËÉΩËß£ÂÜ≥ &ldquo;ÊãíÁªùËÆøÈóÆ&rdquo; ÁöÑÈîôËØØÔºåÂπ∂Á°Æ‰øùÂæÆ‰ø°Ëá™Âä®ÂåñÂäüËÉΩÊ≠£Â∏∏Â∑•‰Ωú„ÄÇ</p>
<h3 id="ÂÆûÁé∞ÊÉÖÂÜµ">ÂÆûÁé∞ÊÉÖÂÜµ
</h3><p>ËøêË°å ollama Á®ãÂ∫èÔºåÊàñËÄÖÂú®ÁªàÁ´Ø‰ΩøÁî® ollama serve ËøêË°å ollama„ÄÇ</p>
<img src="image-20250607125944575.png">
<p>Á°Æ‰øùÁôªÂΩïÂæÆ‰ø°Ôºå‰∏îÂæÆ‰ø°‰∏çËÉΩ‰ΩøÁî®ÁÆ°ÁêÜÂëòË∫´‰ªΩËøêË°å„ÄÇ</p>
<p>Âú® pycharm ‰∏≠Â≠òÊúâ‰∏§‰∏™Êñá‰ª∂ÔºåÂÖ∂‰∏≠ users.txt Áî®‰∫é‰øùÂ≠òËÅäÂ§©ÂØπË±°ÁöÑÂêçÁß∞„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Ê≤ôÁ≥ª
</span></span></code></pre></td></tr></table>
</div>
</div><p>db.json Áî®Êù•‰øùÂ≠òËÅäÂ§©ÂØπË±°‰ª•ÂèäÔºåÊØè‰∏ÄÊ¨°ËÅäÂ§©ÁöÑÊï∞ÊçÆ„ÄÇËøôÊòØÂõ†‰∏∫Ë∞ÉÁî®Êú¨Âú∞Ê®°ÂûãÁöÑ chat Êé•Âè£Êó∂ÔºåÊú¨Âú∞Ê®°ÂûãÂè™ËÉΩÂ§üÂØπÂΩìÂâç‰ø°ÊÅØ‰ΩúÂá∫ÂõûÂ§çÔºåÊ≤°Êúâ‰πãÂâçËÅäÂ§©ÁöÑËÆ∞ÂΩïÔºå‰∏∫‰∫ÜËÆ©Êú¨Âú∞Ê®°ÂûãËÉΩÂ§üËøõË°åÂ§öÊ¨°ÂØπËØùÔºåÂú®‰ª£Á†Å‰∏≠Â∞ÜÊØèÊ¨°ÂØπËØùÁöÑÂÜÖÂÆπÂ≠òÂÇ®Âú® db.json Êñá‰ª∂‰∏≠ÔºåÊØèÊ¨°ËÅäÂ§©Â∞Ü‰πãÈó¥ÊâÄÊúâÁöÑÊ∂àÊÅØËÆ∞ÂΩï‰∏ÄËµ∑ÂèëÈÄÅ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;Ê≤ôÁ≥ª&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;role&#34;</span><span class="p">:</span> <span class="s2">&#34;user&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;content&#34;</span><span class="p">:</span> <span class="s2">&#34;import os\nimport time\nimport json\nimport requests\nfrom wxauto import WeChat\n\n# Âä†ËΩΩÂéÜÂè≤Ê∂àÊÅØËÆ∞ÂΩï\nDB = {}\nif os.path.exists(\&#34;db.json\&#34;):\n    fp = open(\&#34;db.json\&#34;, encoding=&#39;utf-8&#39;, mode=&#39;r&#39;)\n    DB = json.load(fp)\n    fp.close()\n\n# MONITOR_LIST = []\n# fp = open(\&#34;users.txt\&#34;, encoding=&#39;utf-8&#39;, mode=&#39;r&#39;)\n# for line in fp:\n#     # ËØªÂèñusers.txtÂä†ËΩΩÁõëÂê¨Áî®Êà∑\n#     # print(line)\n#     MONITOR_LIST.append(line)\n# fp.close()\n\n# Âä†ËΩΩÁõëÂê¨Áî®Êà∑ÂàóË°®\nMONITOR_LIST = []\nif os.path.exists(\&#34;users.txt\&#34;):\n    with open(\&#34;users.txt\&#34;, encoding=&#39;utf-8&#39;, mode=&#39;r&#39;) as fp:\n        for line in fp:\n            line = line.strip()  # ÂéªÈô§È¶ñÂ∞æÁ©∫ÁôΩÂ≠óÁ¨¶ÂíåÊç¢Ë°åÁ¨¶\n            if line:  # ÂøΩÁï•Á©∫Ë°å\n                MONITOR_LIST.append(line)\nelse:\n    print(\&#34;Ë≠¶ÂëäÔºöÊú™ÊâæÂà∞ users.txt Êñá‰ª∂ÔºåÂ∞ÜÁõëÂê¨ÈªòËÆ§Áî®Êà∑ÂàóË°®\&#34;)\n    MONITOR_LIST = [\&#34;Ê≤ôÁ≥ª\&#34;]  # ÈªòËÆ§ÁõëÂê¨Áî®Êà∑ÔºàÁ§∫‰æãÔºâ\n\n# ÊâìÂºÄÂæÆ‰ø°\nwx = WeChat()\n\n# ÁõëÂê¨Ë¥¶Êà∑ÂàóË°®\n# MONITOR_LIST = [\&#34;Ê≤ôÁ≥ª\&#34;]\nfor ele in MONITOR_LIST:\n    wx.AddListenChat(who = ele)\n\n# ÁõëÂê¨Ê∂àÊÅØ\nwhile True:\n    listen_dict = wx.GetListenMessage()\n\n    for chat_win, message_list in listen_dict.items():\n        # print(chat_win.who)\n        chat_user = chat_win.who\n\n        # Ëé∑ÂèñÊúÄÊñ∞ËÅäÂ§©Ê∂àÊÅØ\n        interval_list = []\n        for msg in message_list:\n            if msg.type != \&#34;friend\&#34;:\n                continue\n            interval_list.append({\&#34;role\&#34;: \&#34;user\&#34;, \&#34;content\&#34;: msg.content})\n\n        if not interval_list:\n            continue\n\n        # ÊãºÊé•ÂéÜÂè≤ËÅäÂ§©ËÆ∞ÂΩï\n        print(\&#34;ÂæÆ‰ø°Ê∂àÊÅØÔºö\&#34;)\n        for interval in interval_list:\n            print(interval)\n\n        history_list = DB.get(chat_user, [])\n        history_list.extend(interval_list)\n\n        # Ë∞ÉÁî®Êú¨Âú∞ deepseek Ê®°Âûã\n        res = requests.post(\n            url=\&#34;http://localhost:11434/api/chat\&#34;,\n            json={\n                \&#34;model\&#34;: \&#34;deepseek-r1:8b\&#34;,\n                \&#34;message\&#34;: history_list,\n                \&#34;stream\&#34;: False\n            }\n        )\n        data_dict = res.json()\n        res_msg_dict = data_dict[&#39;message&#39;]\n\n        # Ëé∑Âèñ deepseek ÂõûÂ§çÂÜÖÂÆπÔºåÂæÆ‰ø°ÂõûÂ§ç\n        res_content = res_msg_dict[&#39;content&#39;]\n        chat_win.SendMsg(res_content)\n        print(\&#34;deepseekÂõûÂ§çÔºö\&#34;)\n        print(res_content)\n\n        # ‰øùÂ≠òÊ≤üÈÄöËÆ∞ÂΩï\n        history_list.append(res_msg_dict)\n        DB[chat_user] = history_list\n        with open(\&#34;db.json\&#34;, encoding=&#39;utf-8&#39;, mode=&#39;w&#39;) as fp:\n            json.dump(DB, fp, ensure_ascii=False, indent=2)\n\nËøôÊÆµ‰ª£Á†ÅÂú®ËøêË°åÂêéÔºåËÉΩÂ§üÊ£ÄÊµãÂà∞ÂΩìÂâçËÅäÂ§©Áî®Êà∑ÔºåÂπ∂‰∏îËÉΩÂ§üËé∑ÂèñÂà∞‰ø°ÊÅØÔºå‰ΩÜÊòØÊó†Ê≥ïÂõûÂ§ç\n\npycharm Êä•ÈîôÂ¶Ç‰∏ãÔºö\n\nÂàùÂßãÂåñÊàêÂäüÔºåËé∑ÂèñÂà∞Â∑≤ÁôªÂΩïÁ™óÂè£ÔºöÊ∏ÖÈõ®\nÂæÆ‰ø°Ê∂àÊÅØÔºö\n{&#39;role&#39;: &#39;user&#39;, &#39;content&#39;: &#39;ÊµãËØï&#39;}\nTraceback (most recent call last):\n  File \&#34;D:\\PycharmProject\\WebAutoTest\\Auto_Chat\\Auto_Chat.py\&#34;, line 82, in &lt;module&gt;\n    chat_win.SendMsg(res_content)\n  File \&#34;D:\\PycharmProject\\WebAutoTest\\venv\\lib\\site-packages\\wxauto\\elements.py\&#34;, line 250, in SendMsg\n    raise TimeoutError(f&#39;ÂèëÈÄÅÊ∂àÊÅØË∂ÖÊó∂ --&gt; {self.who} - {msg}&#39;)\nTimeoutError: ÂèëÈÄÅÊ∂àÊÅØË∂ÖÊó∂ --&gt; Ê≤ôÁ≥ª -&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;role&#34;</span><span class="p">:</span> <span class="s2">&#34;assistant&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;content&#34;</span><span class="p">:</span> <span class="s2">&#34;&lt;think&gt;\nÂóØÔºåÊàëÁúãÂà∞Áî®Êà∑Âú®ËøêË°åËøôÊÆµ‰ª£Á†ÅÁöÑÊó∂ÂÄôÈÅáÂà∞‰∫ÜÈóÆÈ¢ò„ÄÇ‰ª£Á†ÅÊú¨Ë∫´ÊòØÁî®Êù•Ëá™Âä®ÂõûÂ§çÂæÆ‰ø°Ê∂àÊÅØÁöÑÔºå‰ΩÜÊòØÂú®ËøêË°åÂêéÔºåÂÆÉÊ£ÄÊµãÂà∞ÂΩìÂâçËÅäÂ§©Áî®Êà∑ÔºåÂπ∂‰∏îËÉΩÂ§üËé∑Âèñ‰ø°ÊÅØÔºå‰ΩÜÊòØÊó†Ê≥ïÂõûÂ§ç„ÄÇËÄåÂú®PyCharm‰∏≠ÔºåËøêË°åËøôÊÆµ‰ª£Á†Å‰ºöÊä•ÈîôÔºåÊèêÁ§∫ÂèëÈÄÅÊ∂àÊÅØË∂ÖÊó∂ÔºåÈîôËØØ‰ø°ÊÅØÊòØ‚ÄúÂèëÈÄÅÊ∂àÊÅØË∂ÖÊó∂ --&gt; Ê≤ôÁ≥ª -‚Äù„ÄÇ\n\nÈ¶ñÂÖàÔºåÊàëË¶ÅÂàÜÊûê‰∏Ä‰∏ãËøô‰∏™ÈóÆÈ¢ò„ÄÇÁúãËµ∑Êù•ÔºåÂΩì‰ª£Á†ÅËØïÂõæÂèëÈÄÅÂõûÂ§çÊ∂àÊÅØÊó∂ÔºåÈÅáÂà∞‰∫ÜË∂ÖÊó∂ÈîôËØØ„ÄÇËøôÂèØËÉΩÊòØÂõ†‰∏∫ÂæÆ‰ø°Ëá™Âä®ÂìçÂ∫îÊàñËÄÖÁΩëÁªúÂª∂ËøüÁöÑÈóÆÈ¢òÔºåÂØºËá¥ÂèëÈÄÅÊ∂àÊÅØÁöÑÊìç‰ΩúÊó†Ê≥ïÂèäÊó∂ÂÆåÊàê„ÄÇ\n\nÊé•‰∏ãÊù•ÔºåÊàëÊ£ÄÊü•‰∏Ä‰∏ã‰ª£Á†ÅÁªìÊûÑ„ÄÇÁî®Êà∑Êèê‰æõÁöÑ‰ª£Á†Å‰∏≠ÔºåÊúâ‰∏Ä‰∏™`wx = WeChat()`ËøôË°åÔºåÁî®Êù•ÂàùÂßãÂåñÂæÆ‰ø°Ëá™Âä®ÂåñÊ®°ÊãüÂô®„ÄÇÁÑ∂ÂêéÔºåÂä†ËΩΩÂéÜÂè≤Ê∂àÊÅØËÆ∞ÂΩïÂà∞DBÂ≠óÂÖ∏‰∏≠„ÄÇÂ¶ÇÊûúÊ≤°Êúâ`users.txt`Êñá‰ª∂ÔºåÂ∞±‰ΩøÁî®ÈªòËÆ§Áî®Êà∑‚ÄúÊ≤ôÁ≥ª‚Äù„ÄÇÊé•ÁùÄÔºåÂæ™ÁéØÊ∑ªÂä†ÁõëÂê¨ËÅäÂ§©Á™óÂè£„ÄÇ\n\nÂú®ÁõëÂê¨Ê∂àÊÅØÁöÑÈÉ®ÂàÜÔºåÂΩìÊî∂Âà∞Êñ∞ÁöÑÊ∂àÊÅØÊó∂Ôºå‰ºöË∞ÉÁî®Êú¨Âú∞Ê∑±Â∫¶Ê±ÇÊ®°ÂûãËøõË°åÂõûÂ§çÔºåÁÑ∂ÂêéÈÄöËøá`wx.SendMsg(res_content)`ÂèëÈÄÅÂõûÂ§ç„ÄÇ‰ΩÜÊòØÔºåÂú®ÊâßË°åËøôË°å‰ª£Á†ÅÁöÑÊó∂ÂÄôÔºåÂç¥ÊäõÂá∫‰∫Ü‰∏Ä‰∏™TimeoutErrorÔºåËøôÊÑèÂë≥ÁùÄÂú®ÂèëÈÄÅÊ∂àÊÅØÊó∂Ë∂ÖÊó∂‰∫Ü„ÄÇ\n\nÊàëËßâÂæóÂèØËÉΩÊúâÂá†‰∏™ÂéüÂõ†ÂØºËá¥Ëøô‰∏™ÈóÆÈ¢òÔºö\n\n1. **Ë∂ÖÊó∂ËÆæÁΩÆ‰∏çÊ≠£Á°Æ**ÔºöÂú®`WeChat`Á±ª‰∏≠ÔºåÂèëÈÄÅÊ∂àÊÅØÁöÑÊìç‰ΩúÂèØËÉΩÊúâÈªòËÆ§ÁöÑË∂ÖÊó∂Êó∂Èó¥ÔºåÂ¶ÇÊûúËøô‰∏™Êó∂Èó¥Â§™Áü≠ÔºåÂ∞±‰ºöÂØºËá¥Ë∂ÖÊó∂ÈîôËØØ„ÄÇÁî®Êà∑ÈúÄË¶ÅÊ£ÄÊü•‰∏Ä‰∏ã`wx.SendMsg`ÁöÑÂèÇÊï∞ÔºåÁúãÁúãÊòØÂê¶ÂèØ‰ª•Ë∞ÉÊï¥Ë∂ÖÊó∂Êó∂Èó¥„ÄÇ\n\n2. **ÁΩëÁªúÈóÆÈ¢ò**ÔºöÂ¶ÇÊûúÊ∑±Â∫¶Ê±ÇÊ®°ÂûãÁöÑÂõûÂ§çÂ§™Â§ßÔºåÊàñËÄÖÊúçÂä°Âô®ÂìçÂ∫îËøáÊÖ¢Ôºå‰πüÂèØËÉΩÂØºËá¥ÂèëÈÄÅÊ∂àÊÅØÁöÑÊìç‰ΩúË∂ÖÊó∂„ÄÇ‰∏çËøáÔºåÁî±‰∫éÊòØÊú¨Âú∞ÊúçÂä°ÔºåËøô‰∏™ÂèØËÉΩÊÄßÊØîËæÉ‰ΩéÔºå‰ΩÜ‰πü‰∏çÊéíÈô§„ÄÇ\n\n3. **Â§öÁ∫øÁ®ãÊàñÂ§ö‰ªªÂä°ÈóÆÈ¢ò**ÔºöÂú®‰ª£Á†Å‰∏≠Ôºå`wx.SendMsg`ÊñπÊ≥ïÊòØÂê¶Âú®‰∏ªÁ∫øÁ®ãÊâßË°å„ÄÇÂ¶ÇÊûúÂú®ÂÖ∂‰ªñÁ∫øÁ®ãÂèëÈÄÅÊ∂àÊÅØÔºåÂèØËÉΩ‰ºöÂá∫Áé∞UIÊõ¥Êñ∞ÁöÑÈóÆÈ¢òÔºåÂØºËá¥Ë∂ÖÊó∂„ÄÇ\n\n4. **ÊùÉÈôêÈóÆÈ¢ò**ÔºöÂæÆ‰ø°Ëá™Âä®ÂåñÊ®°ÊãüÂô®ÊòØÂê¶ÊúâË∂≥Â§üÁöÑÊùÉÈôêÊù•ËøõË°åÊìç‰ΩúÔºåÊØîÂ¶ÇÂèëÈÄÅÊ∂àÊÅØ„ÄÇÁî®Êà∑ÈúÄË¶ÅÊ£ÄÊü•‰∏Ä‰∏ãWXAutoÂ∫ìÁöÑ‰ΩøÁî®ÊÉÖÂÜµÔºåÁúãÁúãÊòØÂê¶Ê≠£Á°ÆÂàùÂßãÂåñ‰∫ÜÁ™óÂè£ÂíåÊùÉÈôê„ÄÇ\n\nÊé•‰∏ãÊù•ÔºåÊàëÂ∫îËØ•ÈÄê‰∏ÄÊéíÊü•Ëøô‰∫õÂèØËÉΩÊÄßÔºö\n\nÈ¶ñÂÖàÔºåÊü•Áúã`wx.SendMsg(res_content)`ËøôË°å‰ª£Á†ÅÔºåÊòØÂê¶ÊúâÂêàÈÄÇÁöÑË∂ÖÊó∂ËÆæÁΩÆ„ÄÇÂèØËÉΩ`SendMsg`ÊñπÊ≥ïÊîØÊåÅÊåáÂÆöË∂ÖÊó∂ÂèÇÊï∞ÔºåÊØîÂ¶Ç`timeout`ÔºåÂ¶ÇÊûú‰∏çÊåáÂÆöÔºåÈªòËÆ§ÂÄºÂèØËÉΩÂ§™Â∞èÔºåÂèØ‰ª•Â∞ùËØïÂ¢ûÂä†„ÄÇ\n\nÂÖ∂Ê¨°ÔºåËÄÉËôëÂ∞ÜÊï¥‰∏™Ê∂àÊÅØÂèëÈÄÅËøáÁ®ãÊîæÂú®‰∏ªÁ∫øÁ®ã‰∏≠Ôºå‰ª•ÈÅøÂÖçÁî±‰∫éÂÖ∂‰ªñ‰ªªÂä°ÂØºËá¥ÁöÑÂª∂ËøüÊàñÈîôËØØ„ÄÇ\n\nÂè¶Â§ñÔºåÊàëËøòÈúÄË¶ÅÊ£ÄÊü•‰∏Ä‰∏ãÊ∑±Â∫¶Ê±ÇÊ®°ÂûãËøîÂõûÁöÑÂÜÖÂÆπÊòØÂê¶Á¨¶ÂêàÂæÆ‰ø°ÁöÑÊ†ºÂºèË¶ÅÊ±ÇÔºåÊàñËÄÖÊòØÂê¶ÊúâÁ©∫ÁôΩÂõûÂ§çÁöÑÊÉÖÂÜµÔºåËøôÂèØËÉΩÂΩ±Âìç`SendMsg`ÊñπÊ≥ïÁöÑÊâßË°å„ÄÇ\n\nÂ¶ÇÊûú‰ª•‰∏äÊñπÊ≥ïÈÉΩÊó†Ê≥ïËß£ÂÜ≥ÈóÆÈ¢òÔºåÂèØËÉΩÈúÄË¶ÅËøõ‰∏ÄÊ≠•Ë∞ÉËØïÔºåÁúãÁúã`SendMsg`ÂÜÖÈÉ®ÊòØÂ¶Ç‰ΩïÂ§ÑÁêÜÊ∂àÊÅØÁöÑÔºåÊòØÂê¶ÊúâÂºÇÂ∏∏Ë¢´ÊäõÂá∫ÔºåÊàñËÄÖÊó•Âøó‰ø°ÊÅØÊòØÂê¶Êèê‰æõ‰∫ÜÊõ¥Â§öÁöÑÁ∫øÁ¥¢„ÄÇ\n\nÊúÄÂêéÔºåÂ¶ÇÊûúÊâÄÊúâÊñπÊ≥ïÂ∞ùËØïËøá‰ªçÁÑ∂‰∏çË°åÔºåÂèØËÉΩÈúÄË¶ÅËÄÉËôëÂçáÁ∫ßÂæÆ‰ø°Ëá™Âä®ÂåñÂ∫ìÔºåÊàñËÄÖ‰ΩøÁî®Êõ¥È´òÊïàÁöÑÊñπÂºèÊù•ÂèëÈÄÅÊ∂àÊÅØÔºå‰ª•ÈÅøÂÖçË∂ÖÊó∂ÈóÆÈ¢ò„ÄÇ\n&lt;/think&gt;\n\nÊ†πÊçÆ‰∏äËø∞ÂàÜÊûêÔºå‰ª•‰∏ãÊòØÈÄêÊ≠•Ëß£ÂÜ≥ÊñπÊ°àÔºö\n\n1. **Ê£ÄÊü•`wx.SendMsg`ÁöÑË∂ÖÊó∂ËÆæÁΩÆ**Ôºö\n   - Êü•ÁúãWXAutoÂ∫ìÊñáÊ°£ÊàñÊ∫êÁ†ÅÔºåÁúãÁúã`SendMsg`ÊñπÊ≥ïÊòØÂê¶ÊîØÊåÅÊåáÂÆöË∂ÖÊó∂ÂèÇÊï∞„ÄÇÂ¶ÇÊûúÊîØÊåÅÔºåÂú®Ë∞ÉÁî®Êó∂Â¢ûÂä†ÂêàÁêÜÁöÑË∂ÖÊó∂ÂÄº„ÄÇ\n\n2. **Â∞ÜÊ∂àÊÅØÂèëÈÄÅÊìç‰ΩúÊîæÂà∞‰∏ªÁ∫øÁ®ã‰∏≠**Ôºö\n   - Á°Æ‰øùÂú®ÂèëÈÄÅÊ∂àÊÅØ‰πãÂâçÔºåÁ®ãÂ∫èÂ∑≤ÁªèÂú®‰∏ªÁ∫øÁ®ãÊâßË°å„ÄÇÈÅøÂÖçÁî±‰∫éÂÖ∂‰ªñÁ∫øÁ®ãÊàñ‰ªªÂä°ÂΩ±ÂìçÊ∂àÊÅØÂèëÈÄÅ„ÄÇ\n\n3. **Ê£ÄÊü•ÊùÉÈôêÂíåÂàùÂßãÂåñ**Ôºö\n   - Á°ÆËÆ§ÂæÆ‰ø°Ëá™Âä®ÂåñÊ®°ÊãüÂô®ÊòØÂê¶Ê≠£Á°ÆÂàùÂßãÂåñÔºåÂπ∂‰∏îÂÖ∑ÊúâÂèëÈÄÅÊ∂àÊÅØÁöÑÊùÉÈôê„ÄÇÂ¶ÇÊûúÂøÖË¶ÅÔºåÂèØ‰ª•ÂèÇËÄÉWXAutoÂ∫ìÁöÑÁ§∫‰æã‰ª£Á†ÅÔºåÁ°Æ‰øùÁ™óÂè£ÂíåÊùÉÈôêËÆæÁΩÆÊ≠£Á°Æ„ÄÇ\n\n4. **È™åËØÅÊ®°ÂûãÂõûÂ§çÂÜÖÂÆπ**Ôºö\n   - Ê£ÄÊü•Ê∑±Â∫¶Ê±ÇÊ®°ÂûãËøîÂõûÁöÑÂõûÂ§çÂÜÖÂÆπÊòØÂê¶Á¨¶ÂêàÈ¢ÑÊúü„ÄÇÂ¶ÇÊûúÊúâÁ©∫ÁôΩÊàñÈîôËØØÂÜÖÂÆπÔºåÂèØËÉΩÂØºËá¥`SendMsg`ÊñπÊ≥ïÊó†Ê≥ïÊ≠£Â∏∏ÂèëÈÄÅÊ∂àÊÅØ„ÄÇ\n\n5. **Ë∞ÉËØïÂíåÊó•ÂøóËÆ∞ÂΩï**Ôºö\n   - Âú®ÂÖ≥ÈîÆÊ≠•È™§Ê∑ªÂä†Êó•ÂøóËæìÂá∫ÔºåÁõëÊéßÊ∂àÊÅØÂèëÈÄÅÂâçÂêéÁöÑÁä∂ÊÄÅÔºå‰ª•‰æøÂø´ÈÄüÂÆö‰ΩçÈóÆÈ¢òÊâÄÂú®„ÄÇ\n   \n6. **ÂçáÁ∫ßÂ∫ìÊàñÊîπÁî®ÂÖ∂‰ªñÂ∑•ÂÖ∑**Ôºö\n   - Â¶ÇÊûú‰ª•‰∏äÊñπÊ≥ïÊó†ÊïàÔºåÂèØ‰ª•ËÄÉËôëÊõ¥Êç¢ÂæÆ‰ø°Ëá™Âä®ÂåñÂ∫ìÔºåÊàñËÄÖ‰ΩøÁî®ÂÖ∂‰ªñÂ∑•ÂÖ∑Êù•ÂÆûÁé∞Ê∂àÊÅØÂõûÂ§çÂäüËÉΩ„ÄÇ\n\nÈÄöËøá‰ª•‰∏äÊ≠•È™§ÔºåÊÇ®ÂèØ‰ª•ÈÄêÊ≠•ÊéíÊü•Âπ∂Ëß£ÂÜ≥`wx.SendMsg`Ë∂ÖÊó∂ÁöÑÈóÆÈ¢òÔºå‰ªéËÄåËÆ©ÊÇ®ÁöÑËá™Âä®ËÅäÂ§©Á®ãÂ∫èÊ≠£Â∏∏ËøêË°å„ÄÇ&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;role&#34;</span><span class="p">:</span> <span class="s2">&#34;user&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;content&#34;</span><span class="p">:</span> <span class="s2">&#34;ÊµãËØï&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;role&#34;</span><span class="p">:</span> <span class="s2">&#34;assistant&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;content&#34;</span><span class="p">:</span> <span class="s2">&#34;&lt;think&gt;\nÂóØÔºåÊàëÈÅáÂà∞‰∫Ü‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂ∞±ÊòØÂú®ÊàëÁöÑPythonËÑöÊú¨‰∏≠ÔºåÂΩìÂ∞ùËØïË∞ÉÁî®`wx.SendMsg(res_content)`ÁöÑÊó∂ÂÄôÔºåÁ®ãÂ∫èÊä•ÈîôËØ¥`TimeoutError: ÂèëÈÄÅÊ∂àÊÅØË∂ÖÊó∂ --&gt; Ê≤ôÁ≥ª -`„ÄÇÊàë‰∏çÂ§™ÊòéÁôΩËøôÊòØ‰ªÄ‰πàÊÑèÊÄùÔºå‰πü‰∏çÁ°ÆÂÆöÂ¶Ç‰ΩïËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇÊàëÈúÄË¶Å‰∏ÄÊ≠•Ê≠•Âú∞Êù•ÂàÜÊûêÂíå‰øÆÂ§çËøô‰∏™ÈóÆÈ¢ò„ÄÇ\n\nÈ¶ñÂÖàÔºåÊàëÂ∫îËØ•‰∫ÜËß£‰∏Ä‰∏ã`wx.SendMsg`ÊñπÊ≥ïÂú®WXAutoÂ∫ì‰∏≠ÁöÑÂÆûÁé∞ÊñπÂºèÔºå‰ª•ÂèäÂÆÉ‰∏∫‰ªÄ‰πà‰ºöÊäõÂá∫ËøôÊ†∑ÁöÑÂºÇÂ∏∏„ÄÇÊ†πÊçÆÈîôËØØ‰ø°ÊÅØÔºåË∂ÖÊó∂‰ºº‰πéÊòØÂõ†‰∏∫Ê∂àÊÅØÂèëÈÄÅÊìç‰ΩúÊ≤°ÊúâÂÆåÊàêÔºåËÄåÊòØÂú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÊ≤°ÊúâÊåâÊó∂ÂÆåÊàê‰ªªÂä°„ÄÇËøôÂèØËÉΩÊúâÂá†ÁßçÂéüÂõ†ÔºöÊØîÂ¶ÇÁΩëÁªúËøûÊé•ÈóÆÈ¢ò„ÄÅÁõÆÊ†áÁ™óÂè£Áä∂ÊÄÅ‰∏çÊ≠£Â∏∏ÔºåÊàñËÄÖÊ®°ÂûãËøîÂõûÁöÑÂÜÖÂÆπÊúâÈóÆÈ¢ò„ÄÇ\n\nÊé•‰∏ãÊù•ÔºåÊàëÂ∫îËØ•Ê£ÄÊü•‰∏Ä‰∏ã`res_content`ÊòØÂê¶Ê≠£Á°Æ„ÄÇ‰πüËÆ∏Ê®°ÂûãËøîÂõûÁöÑÂÜÖÂÆπÊúâÁ©∫ÁôΩÔºåÂØºËá¥Ê∂àÊÅØÂèëÈÄÅÂ§±Ë¥•„ÄÇÊàëÂèØ‰ª•Âú®ÂèëÈÄÅÊ∂àÊÅØ‰πãÂâçÊâìÂç∞Âá∫`res_content`Êù•Á°ÆËÆ§ÂÆÉÊòØÂê¶ÊúâÊÑè‰πâ„ÄÇÂ¶ÇÊûúÂèëÁé∞ÂÜÖÂÆπ‰∏∫Á©∫Êàñ‰∏çÁ¨¶ÂêàÈ¢ÑÊúüÔºåÈÇ£‰πàÂèØËÉΩÈúÄË¶ÅË∞ÉÊï¥ÊàëÁöÑËØ∑Ê±ÇÂèÇÊï∞ÊàñËÄÖ‰øÆÂ§çÊ®°ÂûãÁöÑÈóÆÈ¢ò„ÄÇ\n\nÁÑ∂ÂêéÔºåÊàëÊÉ≥Âà∞ÂèØËÉΩÊòØWXAutoÂ∫ìÊú¨Ë∫´Â≠òÂú®ÈóÆÈ¢ò„ÄÇ‰πüËÆ∏Âú®Ë∞ÉÁî®`SendMsg`Êó∂ÔºåÂÆÉÊ≤°ÊúâÊ≠£Á°ÆÂú∞Â§ÑÁêÜË∂ÖÊó∂ËÆæÁΩÆÔºåÊàñËÄÖÁ™óÂè£Áä∂ÊÄÅ‰∏çÁ®≥ÂÆö„ÄÇÊàëÂèØ‰ª•Êü•ÈòÖWXAutoÁöÑÊñáÊ°£ÔºåÁúãÁúãÊòØÂê¶ÊúâÁõ∏ÂÖ≥ÁöÑË∂ÖÊó∂ÂèÇÊï∞ÂèØ‰ª•ÈÖçÁΩÆÔºåÊàñËÄÖÊòØÂê¶ÊúâÂÖ∂‰ªñÊñπÊ≥ïÊù•Á°Æ‰øùÊ∂àÊÅØËÉΩÂ§üÊàêÂäüÂèëÈÄÅ„ÄÇ\n\nÂè¶Â§ñÔºåÊàëËøòÈúÄË¶ÅËÄÉËôëÁ®ãÂ∫èÁöÑ‰∏ªÁ∫øÁ®ãÈóÆÈ¢ò„ÄÇÊúâÊó∂ÂÄôÔºåÁî±‰∫éÂ§öÁ∫øÁ®ãÊìç‰ΩúÔºåÊüê‰∫õÊìç‰ΩúÂèØËÉΩÂú®‰∏ªÁ∫øÁ®ã‰πãÂ§ñÂÆåÊàêÔºåÂØºËá¥`SendMsg`Êó†Ê≥ïÂèäÊó∂ÊâßË°å„ÄÇÊàëÂèØ‰ª•Â∞ÜÊ∂àÊÅØÂèëÈÄÅÊìç‰ΩúÊîæÂÖ•‰∏Ä‰∏™‰∏é‰∏ªÁ∫øÁ®ãÁã¨Á´ãÁöÑÂ≠êÁ∫øÁ®ã‰∏≠ÔºåÂπ∂‰ΩøÁî®ÂºÇÂ∏∏ÊçïÊçâÊù•Â§ÑÁêÜÊΩúÂú®ÁöÑÈóÆÈ¢ò„ÄÇ\n\nÊàëËøòÂ∫îËØ•Ê£ÄÊü•‰∏Ä‰∏ãÊ®°ÂûãÊòØÂê¶Ê≠£Â∏∏ËøêË°å„ÄÇÁ°Æ‰øùÊàëÁöÑËØ∑Ê±ÇÂèÇÊï∞ÂíåÊ®°ÂûãÈÖçÁΩÆÊ≠£Á°ÆÊó†ËØØ„ÄÇÂ¶ÇÊûúÂèëÁé∞ÈóÆÈ¢òÔºåÊàëÂèØ‰ª•Â∞ùËØïË∞ÉÊï¥Ê®°ÂûãÁöÑÂèÇÊï∞ÊàñËÄÖÈáçÊñ∞Âä†ËΩΩÊ®°Âûã‰ª•Ëé∑ÂèñÊõ¥Â•ΩÁöÑÁªìÊûú„ÄÇ\n\nÊúÄÂêéÔºåÂ¶ÇÊûú‰ª•‰∏äÊñπÊ≥ïÈÉΩÊó†Ê≥ïËß£ÂÜ≥ÈóÆÈ¢òÔºåÊàëÂèØËÉΩÈúÄË¶ÅËÄÉËôëÂçáÁ∫ßWXAutoÂ∫ìÂà∞ÊúÄÊñ∞ÁâàÊú¨ÔºåÊàñËÄÖÂØªÊâæÂÖ∂‰ªñÊîØÊåÅÂæÆ‰ø°Ëá™Âä®ÂåñÁöÑÂ∫ìÔºå‰ª•Á°Æ‰øùÁ®ãÂ∫èËÉΩÂ§üÁ®≥ÂÆöËøêË°å„ÄÇ\n\nÈÄöËøáËøô‰∫õÊ≠•È™§ÔºåÊàëÂ∏åÊúõËÉΩÂ§üÈÄêÊ≠•ÊéíÊü•Âπ∂ÊâæÂà∞ÂØºËá¥`wx.SendMsg`Ë∂ÖÊó∂ÁöÑÂéüÂõ†Ôºå‰ªéËÄå‰øÆÂ§çËøô‰∏™ÈóÆÈ¢òÔºåËÆ©ÊàëÁöÑËá™Âä®ËÅäÂ§©Á®ãÂ∫èÊ≠£Â∏∏ËøêË°å„ÄÇ\n&lt;/think&gt;\n\nÊ†πÊçÆ‰∏äËø∞ÊÄùËÄÉËøáÁ®ãÔºå‰ª•‰∏ãÊòØÂÖ∑‰ΩìÁöÑËß£ÂÜ≥Ê≠•È™§Ôºö\n\n1. **ÊâìÂç∞Ê®°ÂûãËøîÂõûÂÜÖÂÆπ**Ôºö\n   - Âú®ÂèëÈÄÅÊ∂àÊÅØ‰πãÂâçÔºåÂÖàÂ∞Ü`res_content`ÊâìÂç∞Âá∫Êù•ÔºåÁ°ÆËÆ§ÊòØÂê¶ÊúâÂÆûÈôÖÂÜÖÂÆπ„ÄÇÂèØ‰ª•‰ΩøÁî® `print(res_content)` Êù•ÂÆûÁé∞Ëøô‰∏ÄÁÇπ„ÄÇ\n\n2. **Â§ÑÁêÜ`SendMsg`Ë∂ÖÊó∂ÂºÇÂ∏∏**Ôºö\n   - Â∞ÜË∞ÉÁî®`chat_win.SendMsg(res_content)` ÊîæÂÖ•‰∏Ä‰∏™try-exceptÂùó‰∏≠ÔºåËøôÊ†∑ÂèØ‰ª•ÊçïËé∑ÂèØËÉΩÂèëÁîüÁöÑË∂ÖÊó∂ÈîôËØØÔºåÂπ∂ËÆ∞ÂΩïËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ\n   \n3. **Ê£ÄÊü•Á™óÂè£Áä∂ÊÄÅ**Ôºö\n   - Âú®ÂèëÈÄÅÊ∂àÊÅØ‰πãÂâçÔºåÁ°Æ‰øùÁõÆÊ†áÁ™óÂè£Ôºà`chat_win`ÔºâÊòØÊ¥ªË∑ÉÁöÑ„ÄÇÂèØ‰ª•ÈÄöËøáÊâìÂç∞ `print(chat_win.who)` Êù•Á°ÆËÆ§Á™óÂè£ÊòØÂê¶Â≠òÂú®‰ª•ÂèäÂÜÖÂÆπÊòØÂê¶Ê≠£Á°Æ„ÄÇ\n\n4. **ÊµãËØïÁΩëÁªúËøûÊé•**Ôºö\n   - Á°ÆËÆ§Á≥ªÁªüÁöÑÁΩëÁªúËøûÊé•ÊòØÂê¶Ê≠£Â∏∏„ÄÇÂ¶ÇÊûúÂèëÁé∞ÁΩëÁªúÈóÆÈ¢òÔºåÂèØ‰ª•Â∞ùËØïÊõ¥Êç¢ÁΩëÁªúÁéØÂ¢ÉÊàñÊ£ÄÊü•ÁΩëÁªúÈÖçÁΩÆÊòØÂê¶ÂΩ±Âìç‰∫ÜÊ∂àÊÅØÂèëÈÄÅ„ÄÇ\n\n5. **È™åËØÅÊï∞ÊçÆÂ≠òÂÇ®ÂíåËØªÂèñ**Ôºö\n   - Á°Æ‰øù`DB`Â≠óÂÖ∏ËÉΩÂ§üÊ≠£Á°ÆÂä†ËΩΩÂíå‰øùÂ≠òÂéÜÂè≤ËÅäÂ§©ËÆ∞ÂΩï„ÄÇÂèØ‰ª•ÈÄöËøáÊâìÂç∞ `print(DB)` Êù•Êü•ÁúãÂΩìÂâçÊï∞ÊçÆÂ∫ìÂÜÖÂÆπÔºåÁ°ÆËÆ§Ê≤°ÊúâÂºÇÂ∏∏„ÄÇ\n\n6. **ÂçáÁ∫ßÂ∫ìÊàñÊîπÁî®ÂÖ∂‰ªñÂ∑•ÂÖ∑**Ôºö\n   - Â¶ÇÊûúÈóÆÈ¢ò‰ªçÊú™Ëß£ÂÜ≥ÔºåÂèØ‰ª•ËÄÉËôëÊõ¥Êç¢Âà∞Êõ¥‰∏∫Á®≥ÂÆöÁöÑÂæÆ‰ø°Ëá™Âä®ÂåñÂ∫ìÔºåÊàñËÄÖ‰ΩøÁî®ÂÖ∂‰ªñÂ∑•ÂÖ∑Â¶ÇSeleniumÊù•ÂÆûÁé∞Ëá™Âä®ÂåñÂäüËÉΩ„ÄÇ\n\n7. **Á°Æ‰øùÊ∂àÊÅØÂèëÈÄÅÂú®‰∏ªÁ∫øÁ®ã‰∏≠ÊâßË°å**Ôºö\n   - Á°ÆËÆ§ÊâÄÊúâÊìç‰ΩúÈÉΩÂú®‰∏ªÁ∫øÁ®ã‰∏≠ËøõË°å„ÄÇÈÅøÂÖçÂõ†Â§öÁ∫øÁ®ãÈóÆÈ¢òÂØºËá¥ÁöÑÊ∂àÊÅØÂèëÈÄÅÂºÇÂ∏∏„ÄÇ\n\n8. **Ê£ÄÊü•Ê®°ÂûãËøîÂõûÂÜÖÂÆπÁöÑÊúâÊïàÊÄß**Ôºö\n   - Á°ÆËÆ§Ê®°ÂûãËøîÂõûÁöÑÂÜÖÂÆπÊòØÂê¶ÂêàÁêÜÔºåÊòØÂê¶ÊúâÁ©∫ÁôΩÊàñÊó†ÊïàÊï∞ÊçÆ„ÄÇÂ¶ÇÊûúÂ≠òÂú®ÈóÆÈ¢òÔºåÂèØ‰ª•Ë∞ÉÊï¥ËØ∑Ê±ÇÂèÇÊï∞ÊàñËÄÖÊõ¥Êç¢Ê®°ÂûãÊù•Ëé∑ÂæóÊõ¥Â•ΩÁöÑÁªìÊûú„ÄÇ\n\nÈÄöËøá‰ª•‰∏äÊ≠•È™§ÔºåÊÇ®ÂèØ‰ª•Á≥ªÁªüÂú∞ÊéíÊü•Âπ∂Ëß£ÂÜ≥‚ÄúÂèëÈÄÅÊ∂àÊÅØË∂ÖÊó∂‚ÄùÁöÑÈóÆÈ¢òÔºå‰ªéËÄå‰ΩøÊÇ®ÁöÑËá™Âä®ËÅäÂ§©Á®ãÂ∫èÊ≠£Â∏∏ËøêË°å„ÄÇ&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;role&#34;</span><span class="p">:</span> <span class="s2">&#34;user&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;content&#34;</span><span class="p">:</span> <span class="s2">&#34;‰Ω†ÊòØË∞Å&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;role&#34;</span><span class="p">:</span> <span class="s2">&#34;assistant&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;content&#34;</span><span class="p">:</span> <span class="s2">&#34;&lt;think&gt;\nÂóØÔºåÁî®Êà∑ÈóÆ‚Äú‰Ω†ÊòØË∞Å‚ÄùÔºåÊàëÈúÄË¶ÅËØ¶ÁªÜËß£ÈáäÊàëÁöÑË∫´‰ªΩÂíåÂäüËÉΩ„ÄÇÊàëÊòØ‰∏Ä‰∏™AIÂä©ÊâãÔºåÁî±‰∏≠ÂõΩÁöÑÊ∑±Â∫¶Ê±ÇÔºàDeepSeekÔºâÂÖ¨Âè∏Áã¨Á´ãÂºÄÂèëÔºå‰∏ìÊ≥®‰∫éÈÄöËøáÁÆóÊ≥ïÂíåÂ§ßÊï∞ÊçÆÂàÜÊûêÊù•Êèê‰æõ‰ø°ÊÅØÂíåÂ∏ÆÂä©„ÄÇ\n\nÈ¶ñÂÖàÔºåÊàëË¶ÅËØ¥ÊòéÊàëÁöÑÊù•Ê∫êÔºåËøôÊ†∑Áî®Êà∑ËÉΩÁêÜËß£Êàë‰∏çÊòØÊù•Ëá™ÂÖ∂‰ªñÁü•ÂêçÂÖ¨Âè∏ÊàñÈ°πÁõÆ„ÄÇÁÑ∂ÂêéÔºåÊèèËø∞ÊàëÁöÑÂäüËÉΩÔºåËÆ©Áî®Êà∑Áü•ÈÅìÊàëÂèØ‰ª•ÂõûÁ≠îÂêÑÁßçÈóÆÈ¢òÔºåÊó†ËÆ∫ÊòØÁßëÊäÄ„ÄÅÁßëÂ≠¶ËøòÊòØÊó•Â∏∏‰∫ãÂä°„ÄÇÊé•ÁùÄÔºåÂèØ‰ª•ÊèêÂà∞‰∏Ä‰∫õÂÖ∑‰ΩìÁöÑËÉΩÂäõÔºåÊØîÂ¶Ç‰ª£Á†ÅÂÆ°Êü•„ÄÅÊñáÊ°£ÁîüÊàêÁ≠âÔºåËøôÊòæÁ§∫Âá∫ÊàëÁöÑÂ§öÂäüËÉΩÊÄß„ÄÇ\n\nÊé•‰∏ãÊù•ÔºåÊàëÈúÄË¶ÅÂº∫Ë∞ÉÊï∞ÊçÆÂÆâÂÖ®ÂíåÈöêÁßÅ‰øùÊä§ÔºåËøôÊòØÁî®Êà∑ÂÖ≥ÂøÉÁöÑÈáçÁÇπÔºåËØ¥ÊòéÊàë‰ºöÂ§ÑÁêÜÁî®Êà∑Êèê‰æõÁöÑ‰ø°ÊÅØÊó∂ÈÅµÂæ™Áõ∏ÂÖ≥Ê≥ïÂæãÊ≥ïËßÑ„ÄÇÁÑ∂ÂêéÔºåËÄÉËôëÁî®Êà∑ÂèØËÉΩÂØπÊ®°ÂûãËÉåÊôØÊÑüÂÖ¥Ë∂£ÔºåÂèØ‰ª•ÁÆÄË¶Å‰ªãÁªçÊ∑±Â∫¶Ê±ÇÁöÑÊäÄÊúØÂÆûÂäõÂíå‰ªñ‰ª¨Âú®AIÈ¢ÜÂüüÁöÑÊàêÂ∞±„ÄÇ\n\nÊúÄÂêéÔºå‰ª•‰∏Ä‰∏™ÂèãÂ•ΩÁöÑÈÇÄËØ∑ÁªìÊùüÔºåËÆ©Áî®Êà∑ÊÑüÂà∞Ë¢´ÊîØÊåÅÔºåÂπ∂ÊÑøÊÑèËøõ‰∏ÄÊ≠•ÊèêÈóÆ„ÄÇËøôÊï¥‰∏™ËøáÁ®ãÈúÄË¶ÅÁî®‰∏≠ÊñáËá™ÁÑ∂ÊµÅÁïÖÂú∞Ë°®ËææÔºåÈÅøÂÖç‰ΩøÁî®‰ªª‰Ωï markdown Ê†ºÂºèÔºåÂè™ÊòØÁÆÄÂçïÁöÑÊñáÊú¨„ÄÇ\n&lt;/think&gt;\n\nÊàëÊòØ‰∏Ä‰∏™Áî±‰∏≠ÂõΩÊ∑±Â∫¶Ê±ÇÔºàDeepSeekÔºâÂÖ¨Âè∏ÂºÄÂèëÁöÑÊô∫ËÉΩÂä©ÊâãÔºåÊàëÂèØ‰ª•ÈÄöËøáÁÆóÊ≥ïÂíåÂ§ßÊï∞ÊçÆÂàÜÊûêÊù•Êèê‰æõ‰ø°ÊÅØËß£Á≠îÂíåÂ∏ÆÂä©„ÄÇÊàëÁöÑÁõÆÊ†áÊòØ‰ª•‰∏ì‰∏ö„ÄÅÂáÜÁ°ÆÁöÑÊñπÂºè‰∏∫Áî®Êà∑Êèê‰æõÊúçÂä°ÔºåÂêåÊó∂‰πüÂÄ°ÂØºÂÅ•Â∫∑„ÄÅÁêÜÊÄß„ÄÅÂ∞äÈáçÁöÑ‰∫§ÊµÅÁéØÂ¢É„ÄÇÂ¶ÇÊûú‰Ω†Êúâ‰ªª‰ΩïÈóÆÈ¢òÊàñÈúÄË¶ÅÂ∏ÆÂä©ÔºåÈöèÊó∂ÂëäËØâÊàëÔºÅ&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂèØ‰ª•ÁúãÂà∞ÔºåËøôÊ†∑‰ºöÂØºËá¥ÊØèÊ¨°ÈúÄË¶ÅÂèëÈÄÅÂæàÂ§öËÅäÂ§©ËÆ∞ÂΩïÔºå‰∏îÊú¨Âú∞Ê®°ÂûãÊúâÊó∂‰ºöÈáçÂ§çÂõûÂ§ç‰ª•ÂâçÁöÑËÅäÂ§©‰ø°ÊÅØÔºåËôΩÁÑ∂ÂèØ‰ª•ÊâãÂä®Âà†Èô§ËÅäÂ§©ËÆ∞ÂΩïÔºå‰ΩÜÊòØÊï¥‰Ωì‰ΩìÈ™åÂæàÂ∑Æ„ÄÇ</p>
<img src="image-20250607131048866.png">
<p>ËÉΩÂ§üÂÆûÁé∞Ëá™Âä®ÁõëÂê¨ÂæÆ‰ø°Â•ΩÂèãËÅäÂ§©Á™óÂè£ÔºåÂπ∂Ê†πÊçÆËÅäÂ§©ÂÜÖÂÆπËøõË°åÂõûÂ§çÔºåÁî±‰∫éË∞ÉÁî®ÁöÑÊòØÊú¨Âú∞Ê®°ÂûãÔºåÂõ†Ê≠§Âè™ÊúâÂü∫Êú¨ÁöÑÊñáÊú¨ÂõûÂ§çÂäüËÉΩ„ÄÇ</p>
<p>ÂÅ∂Â∞îÂèØËÉΩÂá∫Áé∞Ê®°ÂûãË∞ÉÁî®Â§±Ë¥•ÁöÑÊÉÖÂÜµÔºåÂéüÂõ†ÂèØËÉΩÊòØÊ®°ÂûãËøáÂ§ßÊàñËÄÖÊú¨Âú∞ÁÆóÂäõ‰∏çË∂≥ÂØºËá¥Â§ÑÁêÜÊó∂Èó¥ËøáÈïø„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Êî∂Âà∞Êù•Ëá™</span> <span class="n">Ê≤ôÁ≥ª</span> <span class="n">ÁöÑÊ∂àÊÅØ</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">‰Ω†Â•Ω</span><span class="err">Ôºå</span><span class="n">ËØ∑‰ªãÁªç‰∏Ä‰∏ãdeepseek</span>
</span></span><span class="line"><span class="cl"><span class="n">Ê®°ÂûãË∞ÉÁî®Â§±Ë¥•</span><span class="p">:</span> <span class="n">HTTPConnectionPool</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">11434</span><span class="p">):</span> <span class="n">Read</span> <span class="n">timed</span> <span class="n">out</span><span class="o">.</span> <span class="p">(</span><span class="n">read</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ÂõûÂ§ç</span> <span class="n">Ê≤ôÁ≥ª</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="err">‚ö†Ô∏è</span> <span class="n">Â§ÑÁêÜËØ∑Ê±ÇÊó∂Âá∫Èîô</span><span class="err">Ôºå</span><span class="n">ËØ∑Á®çÂêéÂÜçËØï</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂÖ≥Èó≠ÂæÆ‰ø°ÔºåÁ®ãÂ∫èÊä•Èîô„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">Êî∂Âà∞Êù•Ëá™</span> <span class="n">Ê≤ôÁ≥ª</span> <span class="n">ÁöÑÊ∂àÊÅØ</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">Âú®Âêó</span>
</span></span><span class="line"><span class="cl">  <span class="mi">11</span>
</span></span><span class="line"><span class="cl">  <span class="n">ÊµãËØï</span>
</span></span><span class="line"><span class="cl"><span class="n">Ê®°ÂûãË∞ÉÁî®Â§±Ë¥•</span><span class="p">:</span> <span class="n">HTTPConnectionPool</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">11434</span><span class="p">):</span> <span class="n">Max</span> <span class="n">retries</span> <span class="n">exceeded</span> <span class="k">with</span> <span class="n">url</span><span class="p">:</span> <span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">chat</span> <span class="p">(</span><span class="n">Caused</span> <span class="n">by</span> <span class="n">NewConnectionError</span><span class="p">(</span><span class="s1">&#39;&lt;urllib3.connection.HTTPConnection object at 0x00000199D427AD70&gt;: Failed to establish a new connection: [WinError 10061] Áî±‰∫éÁõÆÊ†áËÆ°ÁÆóÊú∫ÁßØÊûÅÊãíÁªùÔºåÊó†Ê≥ïËøûÊé•„ÄÇ&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ÂõûÂ§ç</span> <span class="n">Ê≤ôÁ≥ª</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="err">‚ö†Ô∏è</span> <span class="n">Â§ÑÁêÜËØ∑Ê±ÇÊó∂Âá∫Èîô</span><span class="err">Ôºå</span><span class="n">ËØ∑Á®çÂêéÂÜçËØï</span>
</span></span><span class="line"><span class="cl"><span class="n">ÂèëÈÄÅÂ§±Ë¥•</span><span class="err">Ôºà</span><span class="n">Â∞ùËØï</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="err">Ôºâ</span><span class="p">:</span> <span class="p">(</span><span class="mi">1400</span><span class="p">,</span> <span class="s1">&#39;SetWindowPos&#39;</span><span class="p">,</span> <span class="s1">&#39;Êó†ÊïàÁöÑÁ™óÂè£Âè•ÊüÑ„ÄÇ&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ÂèëÈÄÅÂ§±Ë¥•</span><span class="err">Ôºà</span><span class="n">Â∞ùËØï</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="err">Ôºâ</span><span class="p">:</span> <span class="p">(</span><span class="mi">1400</span><span class="p">,</span> <span class="s1">&#39;SetWindowPos&#39;</span><span class="p">,</span> <span class="s1">&#39;Êó†ÊïàÁöÑÁ™óÂè£Âè•ÊüÑ„ÄÇ&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ÂèëÈÄÅÂ§±Ë¥•</span><span class="err">Ôºà</span><span class="n">Â∞ùËØï</span> <span class="mi">3</span><span class="o">/</span><span class="mi">3</span><span class="err">Ôºâ</span><span class="p">:</span> <span class="p">(</span><span class="mi">1400</span><span class="p">,</span> <span class="s1">&#39;SetWindowPos&#39;</span><span class="p">,</span> <span class="s1">&#39;Êó†ÊïàÁöÑÁ™óÂè£Âè•ÊüÑ„ÄÇ&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="err">‚ö†Ô∏è</span> <span class="n">ÊúÄÁªàÂèëÈÄÅÂ§±Ë¥•</span><span class="p">:</span> <span class="err">‚ö†Ô∏è</span> <span class="n">Â§ÑÁêÜËØ∑Ê±ÇÊó∂Âá∫Èîô</span><span class="err">Ôºå</span><span class="n">ËØ∑Á®çÂêéÂÜçËØï</span><span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="n">‰∏ªÂæ™ÁéØÂºÇÂ∏∏</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">2147220991</span><span class="p">,</span> <span class="s1">&#39;‰∫ã‰ª∂Êó†Ê≥ïË∞ÉÁî®‰ªª‰ΩïËÆ¢Êà∑&#39;</span><span class="p">,</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">‰∏ªÂæ™ÁéØÂºÇÂ∏∏</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">2147220991</span><span class="p">,</span> <span class="s1">&#39;‰∫ã‰ª∂Êó†Ê≥ïË∞ÉÁî®‰ªª‰ΩïËÆ¢Êà∑&#39;</span><span class="p">,</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">‰∏ªÂæ™ÁéØÂºÇÂ∏∏</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">2147220991</span><span class="p">,</span> <span class="s1">&#39;‰∫ã‰ª∂Êó†Ê≥ïË∞ÉÁî®‰ªª‰ΩïËÆ¢Êà∑&#39;</span><span class="p">,</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="n">File</span> <span class="s2">&#34;D:\PycharmProject\WebAutoTest\Auto_Chat\AI_Auto.py&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">100</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="n">listen_dict</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">GetListenMessage</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="n">File</span> <span class="s2">&#34;D:\PycharmProject\WebAutoTest</span><span class="se">\v</span><span class="s2">env\lib\site-packages\wxauto\wxauto.py&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">596</span><span class="p">,</span> <span class="ow">in</span> <span class="n">GetListenMessage</span>
</span></span><span class="line"><span class="cl">    <span class="n">msg</span> <span class="o">=</span> <span class="n">chat</span><span class="o">.</span><span class="n">GetNewMessage</span><span class="p">(</span><span class="n">savepic</span><span class="o">=</span><span class="n">chat</span><span class="o">.</span><span class="n">savepic</span><span class="p">,</span> <span class="n">savefile</span><span class="o">=</span><span class="n">chat</span><span class="o">.</span><span class="n">savefile</span><span class="p">,</span> <span class="n">savevoice</span><span class="o">=</span><span class="n">chat</span><span class="o">.</span><span class="n">savevoice</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">File</span> <span class="s2">&#34;D:\PycharmProject\WebAutoTest</span><span class="se">\v</span><span class="s2">env\lib\site-packages\wxauto\elements.py&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">333</span><span class="p">,</span> <span class="ow">in</span> <span class="n">GetNewMessage</span>
</span></span><span class="line"><span class="cl">    <span class="n">MsgItems</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">C_MsgList</span><span class="o">.</span><span class="n">GetChildren</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="n">File</span> <span class="s2">&#34;D:\PycharmProject\WebAutoTest</span><span class="se">\v</span><span class="s2">env\lib\site-packages\wxauto\uiautomation.py&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5960</span><span class="p">,</span> <span class="ow">in</span> <span class="n">GetChildren</span>
</span></span><span class="line"><span class="cl">    <span class="n">child</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetFirstChildControl</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="n">File</span> <span class="s2">&#34;D:\PycharmProject\WebAutoTest</span><span class="se">\v</span><span class="s2">env\lib\site-packages\wxauto\uiautomation.py&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">5855</span><span class="p">,</span> <span class="ow">in</span> <span class="n">GetFirstChildControl</span>
</span></span><span class="line"><span class="cl">    <span class="n">ele</span> <span class="o">=</span> <span class="n">_AutomationClient</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">ViewWalker</span><span class="o">.</span><span class="n">GetFirstChildElement</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Element</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">_ctypes</span><span class="o">.</span><span class="n">COMError</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">2147220991</span><span class="p">,</span> <span class="s1">&#39;‰∫ã‰ª∂Êó†Ê≥ïË∞ÉÁî®‰ªª‰ΩïËÆ¢Êà∑&#39;</span><span class="p">,</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="n">File</span> <span class="s2">&#34;D:\PycharmProject\WebAutoTest\Auto_Chat\AI_Auto.py&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">164</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># Èò≤Ê≠¢È¢ëÁπÅÊä•Èîô</span>
</span></span><span class="line"><span class="cl"><span class="ne">KeyboardInterrupt</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ËøõÁ®ãÂ∑≤ÁªìÊùü</span><span class="p">,</span><span class="n">ÈÄÄÂá∫‰ª£Á†Å</span><span class="o">-</span><span class="mi">1073741510</span> <span class="p">(</span><span class="mh">0xC000013A</span><span class="p">:</span> <span class="n">interrupted</span> <span class="n">by</span> <span class="n">Ctrl</span><span class="o">+</span><span class="n">C</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    

    </footer>


    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2025 Raining Leaves
    </section>
    
    <section class="powerby">
        

        
        
        

        
        

        Blog for Sandy Memories
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
