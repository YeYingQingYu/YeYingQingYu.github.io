<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="接口测试技术 接口测试概念 接口一般又称为 API ，全称为 Application Programming Interface，人们无时不刻不在使用 Interfaces，例如乘坐电梯里面的按钮是一个 Interface，开车的油门也是 Interface，计算机操作系统也有很多的接口。\n">
<title>第四章 接口测试</title>

<link rel='canonical' href='https://YeYingQingYu.github.io/p/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="第四章 接口测试">
<meta property='og:description' content="接口测试技术 接口测试概念 接口一般又称为 API ，全称为 Application Programming Interface，人们无时不刻不在使用 Interfaces，例如乘坐电梯里面的按钮是一个 Interface，开车的油门也是 Interface，计算机操作系统也有很多的接口。\n">
<meta property='og:url' content='https://YeYingQingYu.github.io/p/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/'>
<meta property='og:site_name' content='Sandy Memories丨沙系'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2024-09-13T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2024-09-13T00:00:00&#43;00:00'/><meta property='og:image' content='https://YeYingQingYu.github.io/p/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/86aae82b21d34acb81f164634b54504e.webp' />
<meta name="twitter:title" content="第四章 接口测试">
<meta name="twitter:description" content="接口测试技术 接口测试概念 接口一般又称为 API ，全称为 Application Programming Interface，人们无时不刻不在使用 Interfaces，例如乘坐电梯里面的按钮是一个 Interface，开车的油门也是 Interface，计算机操作系统也有很多的接口。\n"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://YeYingQingYu.github.io/p/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/86aae82b21d34acb81f164634b54504e.webp' />
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="切换菜单">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu_bfea9a570b4a88e6.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">🍥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Sandy Memories丨沙系</a></h1>
            <h2 class="site-description">Fall in the dark</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://space.bilibili.com/1865091'
                        target="_blank"
                        title="bilibili"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1747070557794" class="icon" viewBox="0 0 1129 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2634" width="26.4609375" height="24" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M234.908525 9.656195a80.468288 80.468288 0 0 1 68.398044 0 167.374038 167.374038 0 0 1 41.84351 30.577949l160.936576 140.819503H621.156306L782.092881 40.234144a168.983404 168.983404 0 0 1 41.84351-30.577949 80.468288 80.468288 0 0 1 107.022823 66.788678 80.468288 80.468288 0 0 1-17.703024 53.913753 449.817728 449.817728 0 0 1-35.406046 32.187315 232.553351 232.553351 0 0 1-22.531121 18.507706h100.58536a170.59277 170.59277 0 0 1 118.288383 53.10907A171.397453 171.397453 0 0 1 1128.106519 352.4511v462.692655a325.896565 325.896565 0 0 1-4.023415 70.00741 178.639599 178.639599 0 0 1-80.468288 112.655603 173.006819 173.006819 0 0 1-92.53853 25.749852H212.377404a341.18554 341.18554 0 0 1-72.421459-4.023415 177.834916 177.834916 0 0 1-111.046237-80.468287A172.202136 172.202136 0 0 1 1.550491 846.526387V388.66183A360.497929 360.497929 0 0 1 1.550491 321.873151a177.030233 177.030233 0 0 1 160.936575-143.233552h105.413457c-16.89834-12.070243-31.382632-26.554535-46.671607-39.429461a80.468288 80.468288 0 0 1-25.749852-65.983996A80.468288 80.468288 0 0 1 234.908525 9.656195M216.400819 321.873151a80.468288 80.468288 0 0 0-63.569948 57.937167 108.632188 108.632188 0 0 0 0 30.577949v380.615001a80.468288 80.468288 0 0 0 55.523119 80.468288 106.21814 106.21814 0 0 0 34.601364 5.63278h654.207179a80.468288 80.468288 0 0 0 76.444873-47.47629 112.655603 112.655603 0 0 0 8.046829-53.10907v-354.060465a135.186723 135.186723 0 0 0 0-38.624779 80.468288 80.468288 0 0 0-52.304387-54.718435 129.553943 129.553943 0 0 0-49.890338-7.242146H254.220914a268.764081 268.764081 0 0 0-37.820095 0z m0 0" fill="#20B0E3" p-id="2635"></path><path d="M348.368811 447.40368a80.468288 80.468288 0 0 1 55.523118 18.507706 80.468288 80.468288 0 0 1 28.163901 59.546533v80.468287a80.468288 80.468288 0 0 1-16.093658 51.499705 80.468288 80.468288 0 0 1-131.967992-9.656195 104.608774 104.608774 0 0 1-10.460877-54.718436v-80.468287a80.468288 80.468288 0 0 1 70.00741-67.593362z m416.021047 0a80.468288 80.468288 0 0 1 86.101068 75.64019v80.468288a94.147897 94.147897 0 0 1-12.070243 53.10907 80.468288 80.468288 0 0 1-132.772675 0 95.757262 95.757262 0 0 1-12.874926-57.132485v-80.468287a80.468288 80.468288 0 0 1 70.00741-70.812093z m0 0" fill="#20B0E3" p-id="2636"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/YeYingQingYu'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1747070606533" class="icon" viewBox="0 0 1049 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3658" width="24.5859375" height="24" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M524.979332 0C234.676191 0 0 234.676191 0 524.979332c0 232.068678 150.366597 428.501342 358.967656 498.035028 26.075132 5.215026 35.636014-11.299224 35.636014-25.205961 0-12.168395-0.869171-53.888607-0.869171-97.347161-146.020741 31.290159-176.441729-62.580318-176.441729-62.580318-23.467619-60.841976-58.234462-76.487055-58.234463-76.487055-47.804409-32.15933 3.476684-32.15933 3.476685-32.15933 53.019436 3.476684 80.83291 53.888607 80.83291 53.888607 46.935238 79.963739 122.553122 57.365291 152.97411 43.458554 4.345855-33.897672 18.252593-57.365291 33.028501-70.402857-116.468925-12.168395-239.022047-57.365291-239.022047-259.012982 0-57.365291 20.860106-104.300529 53.888607-140.805715-5.215026-13.037566-23.467619-66.926173 5.215027-139.067372 0 0 44.327725-13.906737 144.282399 53.888607 41.720212-11.299224 86.917108-17.383422 131.244833-17.383422s89.524621 6.084198 131.244833 17.383422C756.178839 203.386032 800.506564 217.29277 800.506564 217.29277c28.682646 72.1412 10.430053 126.029806 5.215026 139.067372 33.897672 36.505185 53.888607 83.440424 53.888607 140.805715 0 201.64769-122.553122 245.975415-239.891218 259.012982 19.121764 16.514251 35.636014 47.804409 35.636015 97.347161 0 70.402857-0.869171 126.898978-0.869172 144.282399 0 13.906737 9.560882 30.420988 35.636015 25.205961 208.601059-69.533686 358.967656-265.96635 358.967655-498.035028C1049.958663 234.676191 814.413301 0 524.979332 0z" fill="#191717" p-id="3659"></path><path d="M199.040177 753.571326c-0.869171 2.607513-5.215026 3.476684-8.691711 1.738342s-6.084198-5.215026-4.345855-7.82254c0.869171-2.607513 5.215026-3.476684 8.691711-1.738342s5.215026 5.215026 4.345855 7.82254z m-6.953369-4.345856M219.900283 777.038945c-2.607513 2.607513-7.82254 0.869171-10.430053-2.607514-3.476684-3.476684-4.345855-8.691711-1.738342-11.299224 2.607513-2.607513 6.953369-0.869171 10.430053 2.607514 3.476684 4.345855 4.345855 9.560882 1.738342 11.299224z m-5.215026-5.215027M240.760389 807.459932c-3.476684 2.607513-8.691711 0-11.299224-4.345855-3.476684-4.345855-3.476684-10.430053 0-12.168395 3.476684-2.607513 8.691711 0 11.299224 4.345855 3.476684 4.345855 3.476684 9.560882 0 12.168395z m0 0M269.443034 837.011749c-2.607513 3.476684-8.691711 2.607513-13.906737-1.738342-4.345855-4.345855-6.084198-10.430053-2.607513-13.037566 2.607513-3.476684 8.691711-2.607513 13.906737 1.738342 4.345855 3.476684 5.215026 9.560882 2.607513 13.037566z m0 0M308.555733 853.526c-0.869171 4.345855-6.953369 6.084198-13.037566 4.345855-6.084198-1.738342-9.560882-6.953369-8.691711-10.430053 0.869171-4.345855 6.953369-6.084198 13.037566-4.345855 6.084198 1.738342 9.560882 6.084198 8.691711 10.430053z m0 0M351.145116 857.002684c0 4.345855-5.215026 7.82254-11.299224 7.82254-6.084198 0-11.299224-3.476684-11.299224-7.82254s5.215026-7.82254 11.299224-7.82254c6.084198 0 11.299224 3.476684 11.299224 7.82254z m0 0M391.126986 850.049315c0.869171 4.345855-3.476684 8.691711-9.560882 9.560882-6.084198 0.869171-11.299224-1.738342-12.168395-6.084197-0.869171-4.345855 3.476684-8.691711 9.560881-9.560882 6.084198-0.869171 11.299224 1.738342 12.168396 6.084197z m0 0" fill="#191717" p-id="3660"></path></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>主页</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>关于</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>归档</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>搜索</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>友情链接</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                <span></span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">
                    
                        <li id="i18n-switch">  
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                            <select name="language" title="language" onchange="window.location.href = this.selectedOptions[0].value">
                                
                                    <option value="https://YeYingQingYu.github.io/zh-hk/" >繁體中文</option>
                                
                                    <option value="https://YeYingQingYu.github.io/" selected>简体中文</option>
                                
                            </select>
                        </li>
                    
                

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>暗色模式</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">目录</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#接口测试技术">接口测试技术</a>
      <ol>
        <li><a href="#接口测试概念">接口测试概念</a></li>
        <li><a href="#通过工具实现接口测试">通过工具实现接口测试</a></li>
        <li><a href="#通过代码实现接口测试">通过代码实现接口测试</a></li>
      </ol>
    </li>
    <li><a href="#接口类型">接口类型</a>
      <ol>
        <li><a href="#http-接口">HTTP 接口</a></li>
        <li><a href="#web-service-接口">Web Service 接口</a></li>
        <li><a href="#rpc-接口">RPC 接口</a></li>
        <li><a href="#rmi-接口">RMI 接口</a></li>
        <li><a href="#restful-接口">RESTful 接口</a></li>
      </ol>
    </li>
    <li><a href="#网络基础-tcpip">网络基础 TCP/IP</a>
      <ol>
        <li><a href="#tcp-三次握手">TCP 三次握手</a></li>
        <li><a href="#tcp-四次挥手">TCP 四次挥手</a></li>
        <li><a href="#负责域名解析的-dns-服务">负责域名解析的 DNS 服务</a></li>
      </ol>
    </li>
    <li><a href="#http-协议">HTTP 协议</a>
      <ol>
        <li><a href="#统一资源定位符">统一资源定位符</a></li>
        <li><a href="#http-请求">HTTP 请求</a></li>
        <li><a href="#http-响应">HTTP 响应</a></li>
        <li><a href="#使用开发者工具进行抓包">使用开发者工具进行抓包</a></li>
      </ol>
    </li>
    <li><a href="#postman-入门">Postman 入门</a>
      <ol>
        <li><a href="#安装-postman">安装 Postman</a></li>
        <li><a href="#发送第一个-http-请求">发送第一个 HTTP 请求</a></li>
      </ol>
    </li>
    <li><a href="#postman-的基本使用">Postman 的基本使用</a>
      <ol>
        <li><a href="#postman-断言">Postman 断言</a>
          <ol>
            <li><a href="#响应状态码断言">响应状态码断言</a></li>
            <li><a href="#包含指定字符串断言">包含指定字符串断言</a></li>
            <li><a href="#json-数据断言">JSON 数据断言</a></li>
          </ol>
        </li>
        <li><a href="#postman-关联">Postman 关联</a></li>
        <li><a href="#postman-参数化">Postman 参数化</a></li>
        <li><a href="#postman-生成测试报告">Postman 生成测试报告</a></li>
      </ol>
    </li>
    <li><a href="#api-接口服务系统">API 接口服务系统</a>
      <ol>
        <li><a href="#启动系统">启动系统</a></li>
        <li><a href="#构建-http-请求">构建 HTTP 请求</a></li>
      </ol>
    </li>
    <li><a href="#系统接口文档">系统接口文档</a>
      <ol>
        <li><a href="#登录系统">登录系统</a></li>
        <li><a href="#列出客户">列出客户</a></li>
        <li><a href="#添加一个客户">添加一个客户</a></li>
        <li><a href="#修改客户信息">修改客户信息</a></li>
        <li><a href="#删除客户信息">删除客户信息</a></li>
        <li><a href="#列出药品">列出药品</a></li>
        <li><a href="#添加一个药品">添加一个药品</a></li>
        <li><a href="#修改药品信息">修改药品信息</a></li>
        <li><a href="#删除药品信息">删除药品信息</a></li>
        <li><a href="#列出订单">列出订单</a></li>
      </ol>
    </li>
    <li><a href="#案例练习">案例练习</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/">
                <img src="/p/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/86aae82b21d34acb81f164634b54504e_hu_778f76ee1fb68c66.webp"
                        srcset="/p/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/86aae82b21d34acb81f164634b54504e_hu_778f76ee1fb68c66.webp 800w, /p/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/86aae82b21d34acb81f164634b54504e_hu_d9b59ea3426735e.webp 1600w"
                        width="800" 
                        height="532" 
                        loading="lazy"
                        alt="Featured image of post 第四章 接口测试" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/class_software_testing/" >
                Class_software_testing
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/">第四章 接口测试</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Sep 13, 2024</time>
            </div>
        

        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="接口测试技术">接口测试技术
</h2><h3 id="接口测试概念">接口测试概念
</h3><p>接口一般又称为  <strong>API</strong> ，全称为 Application Programming Interface，人们无时不刻不在使用 Interfaces，例如乘坐电梯里面的按钮是一个 Interface，开车的油门也是 Interface，计算机操作系统也有很多的接口。</p>
<p>接口测试是指 <strong>系统或组件之间进行信息交互的通道</strong> 。在软件开发的过程中，随着项目需求越来越多，软件的功能会越来越复杂，接口也会不断增多，为了确保软件系统中的接口能够正常进行 <strong>信息交互和传输数据</strong> ，就需要开展接口测试。</p>
<p>接口测试是对系统组件间接口进行的测试，其原理是模拟客户端向服务端发送请求，服务器接收到请求后进行相应的业务处理，并向客户端返回响应数据。</p>
<p>测试人员在进行接口测试时，需要关注软件系统中被测接口之间<strong>数据的传递、交换和控制管理</strong>过程，以及接口与接口之间是否存在<strong>逻辑依赖</strong>关系，并检测服务器向客户端返回的相应数据是否符合预期结果。</p>
<h3 id="通过工具实现接口测试">通过工具实现接口测试
</h3><p>常用的接口测试工具有 Postman、JMeter 等。</p>
<p>JMeter 是 Apache 基于 Java 开发的一款免费开源工具，它支持多个协议，具有丰富的第三方插件，不仅可以进行性能测试，而且可以进行接口测试。</p>
<p>Postman 是一款简单易操作的接口测试工具，支持批量运行、保存历史记录，容易学习。</p>
<h3 id="通过代码实现接口测试">通过代码实现接口测试
</h3><p>测试人员使用 Java、Python 等语言编写代码也可以实现接口测试，在使用 Java 语言编写接口测试的代码时，通常需要结合 HttpClient 技术；在使用 Python 语言编写接口测试的代码时，通常需要结合 Request 框架。</p>
<p>虽然通过代码实现接口测试能够让测试人员与开发人员使用相同的技术栈，更好地对接测试流程，但是这种方式要求测试人员具备一定的编程能力，难度较大。</p>
<h2 id="接口类型">接口类型
</h2><h3 id="http-接口">HTTP 接口
</h3><p>HTTP 协议是建立在 TCP 协议基础之上的，当浏览器需要从服务器获取网页数据的时候，会发出一次 HTTP 请求。HTTP 会通过 TCP 建立起一个到服务器的连接通道，当获取本次请求需要的数据后，HTTP 会立即将 TCP 连接断开，这个过程是很短的。所以 HTTP 连接是一种短连接，是一种无状态的连接。</p>
<h3 id="web-service-接口">Web Service 接口
</h3><p>Web Service 是一种跨编程语言和跨操作系统平台的远程调用技术。Web Service 使用了最初设计用于人机交流的基于 HTTP 的 Web 技术，用于系统间以 XML 进行通讯。</p>
<p>Web Service 有以下特征：</p>
<p>可以用于互联网或局域网、使用标准 XML 消息系统、跨编程语言跨操作系统、通过 XML 语法自描述、可以通过简单的查找机制发现。</p>
<h3 id="rpc-接口">RPC 接口
</h3><p>RPC（Remote Procedure Calls，远程过程调用）是一种协议，程序可以使用这种协议向网络中的另一台计算机上的程序请求服务。由于使用 RPC 的程序不必了解支持通信的网络协议的情况，因此 RPC 提高了程序的互操作性。</p>
<p>在 RPC 中，发出请求的程序是客户程序，提供服务的程序是服务器。RPC 是一项广泛用于支持分布式应用程序的技术，主要目的是为组件提供一种相互通信的方式，是这些组件之间能够相互发出请求并传递这些请求的结果。</p>
<h3 id="rmi-接口">RMI 接口
</h3><p>&hellip;</p>
<h3 id="restful-接口">RESTful 接口
</h3><p>&hellip;</p>
<h2 id="网络基础-tcpip">网络基础 TCP/IP
</h2><p>计算机与网络设备要相互通信，双方就必须基于相同的方法。比如如何探测到通信目标、由哪一边先发起通信、使用哪种语言进行通信、怎样结束通信、不同的硬件与操作系统之间怎么通信等，所有的这一切都需要一种规则，这种规则被称为 <strong>协议</strong> （protocol）。</p>
<img src="v2-0f772297d2e5069743cdadb19da055d7_r.jpg">
<p>像这样把与互联网相关联的协议集合起来总称 TCP/IP 协议族，其最重要的一点是分层。TCP/IP 协议族按层次分为 <strong>应用层、传输层、网络层、数据链路层</strong> 。</p>
<ol>
<li>
<p>应用层</p>
<p>应用层决定了向用户提供应用服务时通信的活动。TCP/IP 协议族内预存了各类通用的应用服务，比如FTP（File Transfer Protocol，文件传输协议）、DNS（Domain Name System，域名系统）、HTTP 协议。</p>
</li>
<li>
<p>传输层</p>
<p>传输层对上层应用层，提供处于网络连接中的两台计算机之间的数据传输。在传输层有两个性质不同的协议：TCP（Transmission Control Protocol，<a class="link" href="https://zhida.zhihu.com/search?content_id=236035097&amp;content_type=Article&amp;match_order=1&amp;q=%e4%bc%a0%e8%be%93%e6%8e%a7%e5%88%b6%e5%8d%8f%e8%ae%ae&amp;zhida_source=entity"  target="_blank" rel="noopener"
    >传输控制协议</a>）和 UDP（User Data Protocol，<a class="link" href="https://zhida.zhihu.com/search?content_id=236035097&amp;content_type=Article&amp;match_order=1&amp;q=%e7%94%a8%e6%88%b7%e6%95%b0%e6%8d%ae%e6%8a%a5%e5%8d%8f%e8%ae%ae&amp;zhida_source=entity"  target="_blank" rel="noopener"
    >用户数据报协议</a>）。</p>
</li>
<li>
<p>网络层</p>
<p>网络层用来处理在网络上流动的数据包。数据包是网络传输的最小数据单位，该层规定了通过怎样的路径（传输路线）到达对方计算机，并把数据包传送给对方。与对方计算机之间通过多台计算机或网络设备进行传输时，网络层所起的作用就是在众多的选项内选择一条传输路线。</p>
</li>
<li>
<p>数据链路层</p>
<p>用来处理连接网络的硬件部分。包括控制操作系统、硬件的设备驱动、NIC（Network Interface Card，<a class="link" href="https://zhida.zhihu.com/search?content_id=236035097&amp;content_type=Article&amp;match_order=1&amp;q=%e7%bd%91%e7%bb%9c%e9%80%82%e9%85%8d%e5%99%a8&amp;zhida_source=entity"  target="_blank" rel="noopener"
    >网络适配器</a>，即网卡）、光纤等物理可见部分（还包括连接器等一切传输媒介），硬件上的范畴均在链路层的作用范围之内。</p>
</li>
</ol>
<h3 id="tcp-三次握手">TCP 三次握手
</h3><p>为了准确无误地将数据送达目标处，TCP 协议采用了 <strong>三次握手</strong> 策略。用 TCP 协议把数据包送出去后，TCP 不会对传送后的情况置之不理，它一定会向对方确认是否成功送达。握手过程中使用了 TCP 的标志 —— SYN（synchronize） 和 ACK（acknowledgement）。</p>
<img src="v2-9b579a35708ba4314356c55fcae6e16b_r.jpg">
<ol>
<li>
<p>发送端首先发送一个带 SYN 标志的数据包给对方</p>
</li>
<li>
<p>接收端收到后，回传一个带有 SYN/ACK 标志的数据包以示传达确认信息</p>
</li>
<li>
<p>发送端再回传一个带 ACK 标志的数据包，代表“握手”结束</p>
</li>
</ol>
<p>若在握手过程中某个阶段莫名中断，TCP 协议会再次以相同的顺序发送相同的数据包。</p>
<h3 id="tcp-四次挥手">TCP 四次挥手
</h3><p>确保当前数据完全被接收后再关闭连接，TCP协议采用 <strong>四次挥手</strong> 策略。</p>
<img src="v2-386a77229e2c89ac9d822b4f0eeefa57_r.jpg">
<ol>
<li>
<p>客户端向服务器发送一个数据包，主动断开连接（序列号 X），客户端仍可接收数据。</p>
</li>
<li>
<p>服务器向客户端发送确认包，表明服务器已经收到客户端的报文（序列号X + 1）。服务器告知客户端数据没有发送完毕，暂时不能进行第三次挥手。</p>
</li>
<li>
<p>服务器向客户端发送数据包和确认包，用来停止向客户端发送数据（序列号Y）。服务器告知客户端数据已发送完毕，可以断开链接。</p>
</li>
<li>
<p>客户端向服务器发送一个响应数据包（序列号Y + 1 ），规定时间后发送确认包并进入关闭状态。</p>
</li>
</ol>
<h3 id="负责域名解析的-dns-服务">负责域名解析的 DNS 服务
</h3><p>DNS（Domain Name System）服务是和 HTTP 协议一样位于应用层的协议。它提供域名到 IP 地址之间的解析服务，如通过域名查找 IP 地址，或逆向从 IP 地址反查域名。</p>
<p>计算机既可以被赋予 IP 地址，也可以被赋予主机名和域名，DNS 服务就是为了解决计算机对域名的理解。</p>
<img src="v2-82486d2ef8eef8657ae619f95145105b_r.jpg">
<h2 id="http-协议">HTTP 协议
</h2><h3 id="统一资源定位符">统一资源定位符
</h3><p>URI （统一资源标识符）是 Uniform Resource Identifier 的缩写。</p>
<ul>
<li>Uniform：规定统一的格式处理多种不同类型的资源，不用根据上下文环境来识别资源指定的访问方式。</li>
<li>Resource：资源的定义是“可标识的任何东西”，不仅是文档文件、图像或服务等。</li>
<li>Identifier：可标识的对象，也称为标识符。</li>
</ul>
<p><strong>URI</strong>   <strong>就是由某个协议方案表示的资源的定位标识符</strong> ，协议方案是指访问资源所使用的协议类型名称，如采用 HTTP 协议时，协议方案就是 http，除此之外，还有 ftp、mailto、file、telnet 等。</p>
<p>URI 用字符串标识某一互联网资源，而  <strong>URL</strong>   <strong>表示资源的地点</strong> （互联网上所处的位置），所以 URL 是 URI 的子集。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">协议://hostname[:port]/path[?查询参数1&amp;查询参数2]
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">协议://域名+端口号/资源路径+参数
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">https://www.bilibili.com/movie/?spm_id_from=333.1007.0.0
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">http://127.0.0.1:5500/test.html
</span></span></span></code></pre></td></tr></table>
</div>
</div><img src="v2-f7f6a34cc60ec34ad95e5f018cc7a486_b.jpg">
<p><strong>协议：</strong> 数据传输的格式，如 http、https 等。</p>
<p><strong>服务器地址：</strong> 域名或 IP，.com域名是使用最早也最广泛的域名，还有例如表示工商企业的 .top，表示网络提供商的 .net，表示非盈利组织的 .org 等。</p>
<p><strong>端口：</strong> 应用程序对外访问的唯一标识，常用端口号有 80（http）、443（https），协议默认的端口号可以省略，如 <code>https://www.baidu.com/:443</code>。</p>
<p><strong>资源路径：</strong> 主机资源的具体地址，包括目录和文件名等，用 &ldquo;/&rdquo; 隔开，如 /movie。</p>
<p><strong>参数：</strong> 客户端向服务器传递的数据，参数与路径之间用 &ldquo;?&rdquo; 符号隔开，多个参数之间用 &ldquo;&amp;&rdquo; 符号隔开。</p>
<h3 id="http-请求">HTTP 请求
</h3><p>HTTP 协议和 TCP/IP 协议族内的其他众多的协议相同，用于客户端和服务器之间的通信。</p>
<p>HTTP 协议规定，请求从客户端发出，最后服务器端响应该请求并返回。换句话说，肯定是先从客户端开始建立通信的，  <strong>服务器端在没有接收到请求之前不会发送响应</strong> 。</p>
<img src="v2-37f83068ca2ef1bb3b4f54578f83930f_r.jpg">
<p>请求报文是由请求方法、请求 URI、协议版本、可选的请求首部字段和内容实体构成的。</p>
<img src="v2-cd53f14357b39d8b55ee947cd9cff977_r.jpg">
<p><strong>请求行：</strong> 位于请求数据的第一行，作用是说明请求方法、访问的资源、协议版本，常用的请求方法如下：</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: center">请求方法</th>
          <th style="text-align: center">说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">GET</td>
          <td style="text-align: center">用于请求服务器获取指定的资源</td>
      </tr>
      <tr>
          <td style="text-align: center">POST</td>
          <td style="text-align: center">用于请求服务器提交指定的资源</td>
      </tr>
      <tr>
          <td style="text-align: center">PUT</td>
          <td style="text-align: center">用于请求服务器更新指定的资源</td>
      </tr>
      <tr>
          <td style="text-align: center">DELETE</td>
          <td style="text-align: center">用于请求服务器删除指定的资源</td>
      </tr>
  </tbody>
</table></div>
<p><strong>请求头：</strong> 位于第二行到空白行之间，作用是通知服务器客户端的请求信息，请求头部由键值对组成，每行一对，常见的请求头字段如下：</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: center">请求头字段</th>
          <th style="text-align: center">说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">Host</td>
          <td style="text-align: center">表示接收请求的服务器地址</td>
      </tr>
      <tr>
          <td style="text-align: center">User-Agent</td>
          <td style="text-align: center">表示产生请求的浏览器地址</td>
      </tr>
      <tr>
          <td style="text-align: center">Accept</td>
          <td style="text-align: center">表示客户端可以识别的内容类型列表</td>
      </tr>
      <tr>
          <td style="text-align: center">Content-Type</td>
          <td style="text-align: center">表示请求体数据的类型</td>
      </tr>
      <tr>
          <td style="text-align: center">Accept-Encoding</td>
          <td style="text-align: center">表示服务器可以发送的数据压缩格式</td>
      </tr>
      <tr>
          <td style="text-align: center">Accept-Language</td>
          <td style="text-align: center">表示服务器可以发送的语言</td>
      </tr>
      <tr>
          <td style="text-align: center">Connection</td>
          <td style="text-align: center">指定与连接相关的属性</td>
      </tr>
  </tbody>
</table></div>
<p><strong>请求体：</strong> 位于空白行之后，是传输给服务器数据的实体，常在 POST、PUT 方法中使用，常配合的请求头有 content-type 和 content-length，，参数 content-type 用于规定请求体数据类型，取值类型有 text/html、image/jpeg、<strong>application/json</strong>、<strong>application/x-www-form-urlencoded</strong>、multipart/form-data 等，请求报文中可以没有请求体。</p>
<h3 id="http-响应">HTTP 响应
</h3><p>响应报文基本上由协议版本、状态码（表示请求成功或失败的数字代码）、用以解释状态码的原因短语、可选的响应首部字段以及实体主体构成。</p>
<img src="v2-58e0b22664d4893aca5b9f0ae8d279fa_r.jpg">
<p><strong>状态行：</strong> 位于响应数据的第一行，用来描述服务器的处理结果，由协议版本号、状态码、状态消息组成，其中状态码由三位数字组成，第一个数字定义响应类别。</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: center">响应类型</th>
          <th style="text-align: center">含义</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">1xx</td>
          <td style="text-align: center">表示指示信息</td>
      </tr>
      <tr>
          <td style="text-align: center">2xx</td>
          <td style="text-align: center">表示请求成功</td>
      </tr>
      <tr>
          <td style="text-align: center">3xx</td>
          <td style="text-align: center">表示请求重定向</td>
      </tr>
      <tr>
          <td style="text-align: center">4xx</td>
          <td style="text-align: center">表示客户端错误</td>
      </tr>
      <tr>
          <td style="text-align: center">5xx</td>
          <td style="text-align: center">表示服务器错误</td>
      </tr>
  </tbody>
</table></div>
<p>在接口测试中，常见的状态码和描述如下：</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: center">状态码</th>
          <th style="text-align: center">描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">200</td>
          <td style="text-align: center">OK，客户端请求成功</td>
      </tr>
      <tr>
          <td style="text-align: center">400</td>
          <td style="text-align: center">Bad Request，客户端请求有语法错误</td>
      </tr>
      <tr>
          <td style="text-align: center">401</td>
          <td style="text-align: center">Unauthorized，客户端请求未经授权</td>
      </tr>
      <tr>
          <td style="text-align: center">403</td>
          <td style="text-align: center">Forbidden，服务器收到请求，但是拒绝提供服务</td>
      </tr>
      <tr>
          <td style="text-align: center">404</td>
          <td style="text-align: center">Not Found，客户端请求的资源不存在</td>
      </tr>
      <tr>
          <td style="text-align: center">500</td>
          <td style="text-align: center">Internal Server Error，服务器发生错误</td>
      </tr>
      <tr>
          <td style="text-align: center">503</td>
          <td style="text-align: center">Server Unavailable，服务器当前不能处理客户端的请求</td>
      </tr>
  </tbody>
</table></div>
<p><strong>响应头：</strong> 响应头是指服务器对客户端请求的应答信息，它位于状态行的下方，主要由键值对组成，与 HTTP 协议中的请求头类似，常见的响应头字段如下：</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: center">请求头字段</th>
          <th style="text-align: center">说明</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">Server</td>
          <td style="text-align: center">表示服务器用到的软件信息</td>
      </tr>
      <tr>
          <td style="text-align: center">Content-Type</td>
          <td style="text-align: center">表示服务器实际返回给客户端的内容类型</td>
      </tr>
      <tr>
          <td style="text-align: center">Connection</td>
          <td style="text-align: center">表示服务器与客户端的连接类型</td>
      </tr>
      <tr>
          <td style="text-align: center">Connection-Length</td>
          <td style="text-align: center">表示服务器告知浏览器需要接收的数据长度</td>
      </tr>
      <tr>
          <td style="text-align: center">Connection-Language</td>
          <td style="text-align: center">表示服务器可以识别的内容语言列表</td>
      </tr>
      <tr>
          <td style="text-align: center">Accept-Encoding</td>
          <td style="text-align: center">表示服务器可以发送的数据压缩格式</td>
      </tr>
  </tbody>
</table></div>
<p><strong>响应体：</strong> 响应体是服务器发送到客户端的实际内容，它位于响应头的下方，响应体的内容类型由响应头中的 Content-Type 指定。</p>
<h3 id="使用开发者工具进行抓包">使用开发者工具进行抓包
</h3><p>打开浏览器访问指定网页，按键盘上的 F12 键，或者邮件空白处选择打开开发者工具，单击 “Network” 可以查看抓取的相关数据信息。</p>
<img src="image-20241009112025188.png">
<p>其中，“ALL” 或者 “全部” 是默认被选中的，由于先访问网页再打开开发者工具，所以没有显示抓取的请求资源信息，此时需要刷新浏览器，重新抓取请求资源信息。</p>
<h2 id="postman-入门">Postman 入门
</h2><p>Postman 是谷歌开发的一款用于网页调试和接口测试的工具，Postman 能够模拟客户端发送 HTTP 请求至服务器，同时能够接收服务器返回的 HTTP 响应。测试人员通过验证接收到的响应数据是否与预期数据一致，从而判定接口数据是否存在缺陷。</p>
<h3 id="安装-postman">安装 Postman
</h3><p>进入 Postman 官网 <a class="link" href="https://www.postman.com/"  target="_blank" rel="noopener"
    >Postman API Platform | Sign Up for Free</a>，选择 windows 版本，单击 Windows 64-bit 按钮后即可下载 Postman 安装包。</p>
<p>运行程序，如果没有账号可以点击 Create Free Account 注册账号，完成后进入主页面。</p>
<img src="image-20241028003442511.png">
<p>点击左侧栏的扩展符号可以管理选项：</p>
<ul>
<li>
<p>Collections：表示集合，可以对项目模块中的接口进行分类和管理。</p>
</li>
<li>
<p>APIs：表示应用程序接口，用于定义集合和环境。</p>
</li>
<li>
<p>Environments：表示环境，可以定义全局变量和环境变量。</p>
</li>
<li>
<p>Mock Servers：表示模拟服务器。</p>
</li>
<li>
<p>Monitors：表示监听器，能够定期运行集合中的请求。</p>
</li>
<li>
<p>Flows：表示流程，能够通过逻辑连接请求模拟实际项目中的流程。</p>
</li>
<li>
<p>History：表示历史记录。</p>
</li>
</ul>
<h3 id="发送第一个-http-请求">发送第一个 HTTP 请求
</h3><ol>
<li><strong>创建集合</strong></li>
</ol>
<p>在 Postman 的主窗口中，首先单击左侧的 Collection 选项，然后单击 Collection 选项右侧的加号图标即可创建集合 New Collection。</p>
<ol start="2">
<li><strong>添加 HTTP 请求</strong></li>
</ol>
<p>点击 New Collection 条目右侧的省略号，在下拉表中选择 Add request 选项即可添加一个 HTTP 请求。</p>
<img src="image-20241028005252455.png">
<p>添加的 HTTP 请求默认名称为 New Request，默认的请求方法为 GET，在 New Request 下方可以根据实际测试需求设置请求方法和请求地址。</p>
<p>请求方法和请求地址下方的标签的具体介绍如下：</p>
<ul>
<li>
<p>Params：表示参数，单击该标签可以在下方设置请求地址参数。</p>
</li>
<li>
<p>Authorization：表示授权，单击该标签可以了解授权信息，通常在发送请求时，在其下方会自动生成授权的请求头。</p>
</li>
<li>
<p>Headers：表示请求头，单击该标签可以在下方设置请求头。</p>
</li>
<li>
<p>Body：表示请求体，单击该标签可以在下方设置请求体参数。</p>
</li>
<li>
<p>Pre-request Script：表示预请求脚本，单击该标签可以在下方编写预请求脚本代码。</p>
</li>
<li>
<p>Tests：表示测试，单击该标签可以在下方编写测试脚本代码，例如断言代码、关联代码等。</p>
</li>
<li>
<p>Settings：表示设置，单击该标签可以在下方进行相关的设置操作，例如启用 SSL 证书验证、自动跟随重定向等。</p>
</li>
</ul>
<p>在创建 HTTP 请求时，默认选中的标签为 “Params”，接口测试的过程中，常用的标签分别是 “Params”、“Headers”、“Body”、“Tests”。</p>
<ol start="3">
<li><strong>填写百度网站的请求信息并发送请求。</strong></li>
</ol>
<p>在上述步骤后，设置请求方法为 “GET”，将请求地址设置为 <a class="link" href="https://www.baidu.com"  target="_blank" rel="noopener"
    >www.baidu.com</a>，点击 “Save” 按钮或者通过 “Ctrl + S” 保存，最后单击 “Send” 按钮发送请求。</p>
<img src="image-20241028010821483.png">
<p>可以看到在响应结果区域的右上角显示了 “200 OK”，说明请求发送成功，在 “Body” 下方展示了具体的响应结果，说明服务器已经接收到客户端的请求信息，并成功将响应结果返回给客户端。</p>
<h2 id="postman-的基本使用">Postman 的基本使用
</h2><h3 id="postman-断言">Postman 断言
</h3><p>断言是程序中的一种逻辑判断式，目的是验证软件开发的预期结果与实际结果是否一致。</p>
<p>常用的断言有 <strong>响应状态码断言、包含指定字符串断言、JSON 数据断言</strong> 等。</p>
<h4 id="响应状态码断言">响应状态码断言
</h4><p>响应状态码断言是对 HTTP 响应的状态码进行断言。在 Postman 中，有 2 种方式实现响应状态码断言。</p>
<p>第一种方式是在 HTTP 请求中单击 “Test” 标签，在其下方空白区域手动编写响应状态码断言的代码；</p>
<p>第二种是首先在 HTTP 请求中单击 “Test” 标签，然后单机 Postman 主窗口右侧的 “Staus code:Code is 200”，自动生成响应状态码断言的代码模板。</p>
<img src="image-20241028012828769.png">
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pm</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&#34;Status code is 200&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>代码中，pm 是一个实例，表示 Postman，test() 是 pm 实例中的一个测试方法，该方法有 2 个参数，分别是 &ldquo;function () {pm.response.to.have.status(200);}&rdquo; 和 &ldquo;Status code is 200&rdquo; ，具体说明如下：</p>
<ul>
<li>&ldquo;Status code is 200&rdquo;：该参数的作用是显示断言结果的文字，可以根据实际测试需求自定义，不会影响断言结果。</li>
<li>&ldquo;function () {pm.response.to.have.status(200);}&quot;：该参数是一个匿名函数，作用是判断响应结果中的状态码是否是 200。</li>
</ul>
<h4 id="包含指定字符串断言">包含指定字符串断言
</h4><p>包含指定字符串断言是指对 HTTP 响应中的某个字符串进行断言，可以手动编写，也可以选择主窗口右侧的 “Response body:Contains string” 自动生成模板。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pm</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&#34;Body matches string&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">pm</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">()).</span><span class="nx">to</span><span class="p">.</span><span class="nx">include</span><span class="p">(</span><span class="s2">&#34;string_you_want_to_search&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>&ldquo;function(){pm.expect(pm.response.text()).to.include(&rdquo;&hellip;&rdquo;);})&quot;：该参数用于断言响应文本中是否包含想要搜索的字符串，其中 &ldquo;string_you_want_to_search&rdquo; 需要根据接口文档的描述修改为预期结果。</li>
<li>&ldquo;Body matches string&rdquo;：该参数用于显示断言结果的提示文字，可以根据实际测试需求自定义，不会影响断言结果。</li>
</ul>
<h4 id="json-数据断言">JSON 数据断言
</h4><p>JSON 数据断言是对 HTTP 响应中的 JSON 数据进行断言，可以手动编写，也可以选择主窗口右侧的 “Response body:JSON value check” 自动生成模板。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">pm</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&#34;Your test name&#34;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">jsonData</span> <span class="o">=</span> <span class="nx">pm</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pm</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">jsonData</span><span class="p">.</span><span class="nx">value</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">eql</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>&ldquo;function () {var jsonData = pm.response.json();pm.expect(&hellip;).to.eql(100);})&quot;：该参数用于将响应结果中的 JSON 数据全部赋值给变量 jsonData， 其中 &ldquo;pm.expect(jsonData. value).to.eql(100)&rdquo; 用于断言响应结果中 JSON 数据的值 value 是否等于 100。在实际接口测试中需要根据接口文档的描述填写 value 及对应的值。</li>
<li>&ldquo;Your test name&rdquo;：该参数用于像是断言结果的提示文字，可以根据实际测试需求自定义，不会影响断言结果。</li>
</ul>
<img src="image-20241028014619791.png">
<h3 id="postman-关联">Postman 关联
</h3><p>在接口测试中，关联是指两个或两个以上的接口相互依赖关系，例如，<strong>某个接口请求地址中的参数是另一个接口的影响结果中的数据</strong>，则说明这两个接口之间存在关联关系。</p>
<p>在使用 Postman 做接口测试时，实现接口关联的方式是在 Postman 中设置环境变量或全局变量，具体实现步骤如下：</p>
<p>（1）获取第 1 个接口请求的响应结果。</p>
<p>（2）提取响应结果中的某个字段，将其保存到 Postman 环境变量或全局变量中。</p>
<p>（3）在第 2 个接口的请求地址中引用环境变量或全局变量，引用方式为 &ldquo;{{环境变量或全局变量}}&quot;。</p>
<h3 id="postman-参数化">Postman 参数化
</h3><h3 id="postman-生成测试报告">Postman 生成测试报告
</h3><h2 id="api-接口服务系统">API 接口服务系统
</h2><h3 id="启动系统">启动系统
</h3><p><strong><font color='blue'> 本节内容参考 <font color='red'>白月黑羽</font> 教程，地址：https://www.byhy.net/ </font></strong></p>
<p><strong><font color='blue'><font color='red'>白月黑羽</font> B 站地址：https://space.bilibili.com/401981380</font></strong></p>
<p>下载压缩包 bysms.zip，解压bysms.zip后，进入bysms目录，双击运行 <code>runserver.bat</code> 即可启动系统。</p>
<p>启动系统后会弹出一个窗口，不要关闭，否则 web 系统会停止。</p>
<p>如果启动运行 出现闪退或者如下错误提示，很可能 是因为web服务的80端口已经被使用了。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">**!!! runtime error: invalid memory address or nil pointer dereference
</span></span></span><span class="line"><span class="cl"><span class="err">Serve HTTP on 0.0.0.0:80
</span></span></span><span class="line"><span class="cl"><span class="err">listen tcp 0.0.0.0:80: bind: An attempt was made to access a socket in a way forbidden by its access permissions
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>两种解决方法：</p>
<ol>
<li>请检查关闭占用 80 端口的程序，可能是 Apache、IIS 等 web 服务。</li>
<li>修改 bysms 使用的 web 服务端口，可以用 文本编辑器编辑 runserver.bat，如果你是 Mac 电脑，修改 runserver.sh。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">解决方法：将端口号 80 修改成其他端口
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">bysms.exe 0.0.0.0:80	→	bysms.exe 0.0.0.0:8047
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>保存后，重新运行即可，注意，修改后访问网址要加上端口号，<code>http://127.0.0.1:8047</code></p>
<h3 id="构建-http-请求">构建 HTTP 请求
</h3><p>根据协议规范， HTTP头里面的  <code>Content-Type</code> 字段指明消息体格式，比如 <code>urlencoded</code> 为  <code>application/x-www-form-urlencoded</code>，<code>json</code> 为 <code>application/json</code>，当请求被发送的时候，Postman会根据你设定的消息体格式，自动加上对应的 <code>Content-Type</code> 消息头。</p>
<p>以 bysms 系统为例， 登录接口消息体的格式是 <code>urlencoded</code>， 所以，Postman中应该这样设置。</p>
<img src="tut_20240707101750_99.png">
<p>而添加客户接口消息体的格式是 <code>json</code>， 所以，Postman中应该这样设置。</p>
<img src="tut_20240707102957_96.png">
<h2 id="系统接口文档">系统接口文档
</h2><p>本接口中，所有请求 ( 除了登录请求之外 )，必须在 cookie 中携带有登录的成功后，服务端返回的 sessionid。</p>
<img src="image-20241103005238534.png">
<h3 id="登录系统">登录系统
</h3><p><strong>请求消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="nf">POST</span>  <span class="nn">/api/mgr/signin</span>  <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span>   <span class="l">application/x-www-form-urlencoded</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>请求参数</strong></p>
<p>http 请求消息 body 中 参数以 格式 x-www-form-urlencoded 存储，需要携带如下参数：</p>
<ul>
<li>
<p>username 用户名。</p>
</li>
<li>
<p>password 密码。</p>
</li>
</ul>
<p><strong>响应消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>响应内容</strong></p>
<p>http 响应消息 body 中， 数据以 json 格式存储，如果登录成功，返回如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 为 0 表示登录成功，如果登录失败，返回失败的原因，示例如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>    
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;msg&#34;</span><span class="p">:</span>  <span class="s2">&#34;用户名或者密码错误&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 不为 0 表示登录失败， msg 字段描述登录失败的原因。</p>
<img src="image-20241103013906216.png">
<img src="image-20241103015143338.png">
<h3 id="列出客户">列出客户
</h3><p><strong>请求消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="nf">GET</span>  <span class="nn">/api/mgr/customers</span>  <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>请求参数</strong></p>
<p>http 请求消息 url 中需要携带如下参数：</p>
<ul>
<li>
<p>action</p>
<p>必填项，填写值为 list_customer。</p>
</li>
<li>
<p>pagesize</p>
<p>必填项，分页的每页获取多少条记录。</p>
</li>
<li>
<p>pagenum</p>
<p>必填项，获取第几页的信息。</p>
</li>
<li>
<p>keywords</p>
<p>可选项， 里面包含的多个过滤关键字，关键字之间用空格分开。</p>
</li>
</ul>
<p><strong>响应消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>响应内容</strong></p>
<p>http 响应消息 body 中， 数据以 json 格式存储，如果获取信息成功，返回如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;retlist&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;江苏省常州武进市白云街44号&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;武进市 袁腾飞&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;phonenumber&#34;</span><span class="p">:</span> <span class="s2">&#34;13886666666&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;北京海淀区&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;北京海淀区代理 蔡国庆&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;phonenumber&#34;</span><span class="p">:</span> <span class="s2">&#34;13990123456&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span> <span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="err">&#39;total&#39;:</span> <span class="err">2</span>             
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 为 0 表示登录成功，total 为 2 表示系统中全部（不仅仅是这一页）有多少客户，retlist 里面包含了所有的客户信息列表，每个客户信息以如下格式存储：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;address&#34;</span><span class="p">:</span> <span class="s2">&#34;江苏省常州武进市白云街44号&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;武进市 袁腾飞&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">   <span class="nt">&#34;phonenumber&#34;</span><span class="p">:</span> <span class="s2">&#34;13886666666&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><img src="image-20241103014219037.png">
<h3 id="添加一个客户">添加一个客户
</h3><p><strong>请求消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="nf">POST</span>  <span class="nn">/api/mgr/customers</span>  <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span>   <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>请求参数</strong></p>
<p>http 请求消息 body 携带添加客户的信息，消息体的格式是json，如下示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;action&#34;</span><span class="p">:</span><span class="s2">&#34;add_customer&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;data&#34;</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;武汉市桥西医院&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;phonenumber&#34;</span><span class="p">:</span><span class="s2">&#34;13345679934&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;address&#34;</span><span class="p">:</span><span class="s2">&#34;武汉市桥西医院北路&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中 action 字段固定填写 add_customer 表示添加一个客户，data 字段中存储了要添加的客户的信息。</p>
<p>其中 name 字段长度范围是 2-20，phonenumber 字段长度范围是 8-15，address 字段长度范围是 2-100。</p>
<p>服务端接受到该请求后，应该在系统中增加一位这样的客户。</p>
<p><strong>响应消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>响应内容</strong></p>
<p>http 响应消息 body 中， 数据以 json 格式存储，如果添加成功，返回如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span> <span class="p">:</span> <span class="mi">677</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 为 0 表示成功，id 为添加客户的 id 号。</p>
<p>如果添加失败，返回失败的原因，示例如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>    
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;msg&#34;</span><span class="p">:</span> <span class="s2">&#34;客户名已经存在&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 不为 0 表示登录失败， msg 字段描述登录失败的原因。</p>
<img src="image-20241103013820117.png">
<h3 id="修改客户信息">修改客户信息
</h3><p><strong>请求消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="nf">PUT</span>  <span class="nn">/api/mgr/customers</span>  <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span>   <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>请求参数</strong></p>
<p>http 请求消息 body 携带修改客户的信息，消息体的格式是 json，如下示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;action&#34;</span><span class="p">:</span><span class="s2">&#34;modify_customer&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;newdata&#34;</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;武汉市桥北医院&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;phonenumber&#34;</span><span class="p">:</span><span class="s2">&#34;13345678888&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;address&#34;</span><span class="p">:</span><span class="s2">&#34;武汉市桥北医院北路&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中 action 字段固定填写 modify_customer 表示修改一个客户的信息，id 字段为要修改的客户的 id 号，newdata 字段中存储了修改后的客户的信息。</p>
<p>服务端接受到该请求后，应该在系统中做相应修改。</p>
<p><strong>响应消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>响应内容</strong></p>
<p>http 响应消息 body 中， 数据以 json 格式存储，如果修改成功，返回如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 为 0 表示成功，如果修改失败，返回失败的原因，示例如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>    
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;msg&#34;</span><span class="p">:</span> <span class="s2">&#34;客户名已经存在&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 不为 0 表示失败， msg 字段描述添加失败的原因。</p>
<img src="image-20241103020637109.png">
<h3 id="删除客户信息">删除客户信息
</h3><p><strong>请求消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="nf">DELETE</span>  <span class="nn">/api/mgr/customers</span>  <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span>   <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>请求参数</strong></p>
<p>http 请求消息 body 携带要删除客户的 id，消息体的格式是 json，如下示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;action&#34;</span><span class="p">:</span><span class="s2">&#34;del_customer&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">6</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中 action 字段固定填写 del_customer 表示删除一个客户，id 字段为要删除的客户的 id号。</p>
<p>服务端接受到该请求后，应该在系统中尝试删除该 id 对应的客户。</p>
<p><strong>响应消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>响应内容</strong></p>
<p>http 响应消息 body 中， 数据以 json 格式存储，如果删除成功，返回如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 为 0 表示成功，如果删除失败，返回失败的原因，示例如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>    
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;msg&#34;</span><span class="p">:</span> <span class="s2">&#34;id为 566 的客户不存在&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 不为 0 表示失败， msg字段描述添加失败的原因。</p>
<img src="image-20241103013936818.png">
<h3 id="列出药品">列出药品
</h3><p><strong>请求消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="nf">GET</span>  <span class="nn">/api/mgr/medicines</span>  <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>请求参数</strong></p>
<p>http 请求消息 url 中 需要携带如下参数：</p>
<ul>
<li>
<p>action</p>
<p>必填项，填写值为 list_medicine。</p>
</li>
<li>
<p>pagesize</p>
<p>必填项，分页的每页获取多少条记录。</p>
</li>
<li>
<p>pagenum</p>
<p>必填项，获取第几页的信息。</p>
</li>
<li>
<p>keywords</p>
<p>可选项， 里面包含的多个过滤关键字，关键字之间用空格分开。</p>
</li>
</ul>
<p><strong>响应消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>响应内容</strong></p>
<p>http 响应消息 body 中， 数据以 json 格式存储，如果获取信息成功，返回如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;retlist&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;青霉素&#34;</span><span class="p">,</span> <span class="nt">&#34;sn&#34;</span><span class="p">:</span><span class="s2">&#34;234324234234&#34;</span><span class="p">,</span> <span class="nt">&#34;desc&#34;</span><span class="p">:</span><span class="s2">&#34;青霉素&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;红霉素&#34;</span><span class="p">,</span> <span class="nt">&#34;sn&#34;</span><span class="p">:</span><span class="s2">&#34;234545534234&#34;</span><span class="p">,</span> <span class="nt">&#34;desc&#34;</span><span class="p">:</span><span class="s2">&#34;红霉素&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span> <span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="err">&#39;total&#39;:</span> <span class="err">2</span>            
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 为 0 表示登录成功，total 为 2 表示总共有多少药品，retlist 里面包含了所有的药品信息列表，每个药品信息以如下格式存储：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;红霉素&#34;</span><span class="p">,</span> <span class="nt">&#34;sn&#34;</span><span class="p">:</span> <span class="s2">&#34;234545534234&#34;</span><span class="p">,</span> <span class="nt">&#34;desc&#34;</span><span class="p">:</span> <span class="s2">&#34;红霉素&#34;</span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="添加一个药品">添加一个药品
</h3><p><strong>请求消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="nf">POST</span>  <span class="nn">/api/mgr/medicines</span>  <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span>   <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>请求参数</strong></p>
<p>http 请求消息 body 携带添加药品的信息，消息体的格式是json，如下示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;action&#34;</span><span class="p">:</span><span class="s2">&#34;add_medicine&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;data&#34;</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;青霉素&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;desc&#34;</span><span class="p">:</span> <span class="s2">&#34;青霉素 国字号&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;sn&#34;</span><span class="p">:</span> <span class="s2">&#34;099877883837&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中，action 字段固定填写 add_medicine 表示添加一个药品，data 字段中存储了要添加的药品的信息。</p>
<p>name 字段长度范围是 2-20，desc 字段长度范围是 2-500，sn 字段长度范围是 8-20。</p>
<p>服务端接受到该请求后，应该在系统中增加这样的药品。</p>
<p><strong>响应消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>响应内容</strong></p>
<p>http 响应消息 body 中， 数据以 json 格式存储，如果添加成功，返回如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span> <span class="p">:</span> <span class="mi">677</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 为 0 表示成功，id 为 添加药品的 id 号，如果添加失败，返回失败的原因，示例如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>    
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;msg&#34;</span><span class="p">:</span> <span class="s2">&#34;药品名已经存在&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 不为 0 表示失败， msg字段描述添加失败的原因。</p>
<h3 id="修改药品信息">修改药品信息
</h3><p><strong>请求消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="nf">POST</span>  <span class="nn">/api/mgr/medicines</span>  <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span>   <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>请求参数</strong></p>
<p>http 请求消息 body 携带添加药品的信息，消息体的格式是json，如下示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;action&#34;</span><span class="p">:</span><span class="s2">&#34;add_medicine&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;data&#34;</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;青霉素&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;desc&#34;</span><span class="p">:</span> <span class="s2">&#34;青霉素 国字号&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;sn&#34;</span><span class="p">:</span> <span class="s2">&#34;099877883837&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中，action 字段固定填写 add_medicine 表示添加一个药品，data 字段中存储了要添加的药品的信息。</p>
<p>name 字段长度范围是 2-20，desc 字段长度范围是 2-500，sn 字段长度范围是 8-20。</p>
<p>服务端接受到该请求后，应该在系统中增加这样的药品。</p>
<p><strong>响应消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>响应内容</strong></p>
<p>http 响应消息 body 中， 数据以 json 格式存储，如果添加成功，返回如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span> <span class="p">:</span> <span class="mi">677</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 为 0 表示成功，id 为添加药品的 id 号，如果添加失败，返回失败的原因，示例如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>    
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;msg&#34;</span><span class="p">:</span> <span class="s2">&#34;药品名已经存在&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 不为 0 表示失败， msg 字段描述添加失败的原因。</p>
<h3 id="删除药品信息">删除药品信息
</h3><p><strong>请求消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="nf">DELETE</span>  <span class="nn">/api/mgr/medicines</span>  <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span>   <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>请求参数</strong></p>
<p>http 请求消息 body 携带要删除客户的 id，消息体的格式是 json，如下示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;action&#34;</span><span class="p">:</span><span class="s2">&#34;del_customer&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">6</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中，action 字段固定填写 del_customer 表示删除一个客户，id 字段为要删除的客户的id号。</p>
<p>服务端接受到该请求后，应该在系统中尝试删除该 id 对应的客户。</p>
<p><strong>响应消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>响应内容</strong></p>
<p>http 响应消息 body 中， 数据以 json 格式存储，如果删除成功，返回如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 为 0 表示成功，如果删除失败，返回失败的原因，示例如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>    
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;msg&#34;</span><span class="p">:</span> <span class="s2">&#34;id 为 566 的客户不存在&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 不为 0 表示失败， msg 字段描述添加失败的原因。</p>
<h3 id="列出订单">列出订单
</h3><p><strong>请求消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="nf">GET</span>  <span class="nn">/api/mgr/orders</span>  <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>请求参数</strong></p>
<p>http 请求消息 url 中 需要携带如下参数：</p>
<ul>
<li>
<p>action</p>
<p>必填项，填写值为 list_order。</p>
</li>
<li>
<p>pagesize</p>
<p>必填项，分页的 每页获取多少条记录。</p>
</li>
<li>
<p>pagenum</p>
<p>必填项，获取第几页的信息。</p>
</li>
<li>
<p>keywords</p>
<p>可选项， 里面包含的多个过滤关键字，关键字之间用空格分开。</p>
</li>
</ul>
<p><strong>响应消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>响应内容</strong></p>
<p>http 响应消息 body 中， 数据以 json 格式存储，如果获取信息成功，返回如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;retlist&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="err">id:</span> <span class="err">1,</span> 
</span></span><span class="line"><span class="cl">        <span class="err">name:</span> <span class="nt">&#34;华山医院订单001&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="err">create_date:</span> <span class="nt">&#34;2018-12-26T14:10:15.419Z&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="err">customer_name:</span> <span class="nt">&#34;华山医院&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="err">customerid</span> <span class="err">:</span> <span class="err">13,</span>
</span></span><span class="line"><span class="cl">        <span class="err">medicinelist:</span> <span class="nt">&#34;[
</span></span></span><span class="line"><span class="cl"><span class="nt">            {\&#34;id\&#34;:16,\&#34;amount\&#34;:3,\&#34;name\&#34;:\&#34;环丙沙星\&#34;},
</span></span></span><span class="line"><span class="cl"><span class="nt">            {\&#34;id\&#34;:15,\&#34;amount\&#34;:5,\&#34;name\&#34;:\&#34;克林霉素\&#34;}
</span></span></span><span class="line"><span class="cl"><span class="nt">        ]&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="err">id:</span> <span class="err">2,</span> 
</span></span><span class="line"><span class="cl">        <span class="err">name:</span> <span class="nt">&#34;华山医院订单002&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="err">create_date:</span> <span class="nt">&#34;2018-12-27T14:10:37.208Z&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="err">customer_name:</span> <span class="nt">&#34;华山医院&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="err">customerid</span> <span class="err">:</span> <span class="err">13,</span>
</span></span><span class="line"><span class="cl">        <span class="err">medicinelist:</span> <span class="nt">&#34;[
</span></span></span><span class="line"><span class="cl"><span class="nt">            {\&#34;id\&#34;:16,\&#34;amount\&#34;:4,\&#34;name\&#34;:\&#34;环丙沙星\&#34;},
</span></span></span><span class="line"><span class="cl"><span class="nt">            {\&#34;id\&#34;:15,\&#34;amount\&#34;:5,\&#34;name\&#34;:\&#34;克林霉素\&#34;}
</span></span></span><span class="line"><span class="cl"><span class="nt">        ]&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>              
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 为 0 表示登录成功，retlist 里面包含了所有的订单信息列表，每个订单信息以如下格式存储：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;华山医院订单002&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;create_date&#34;</span><span class="p">:</span> <span class="s2">&#34;2018-12-27T14:10:37.208Z&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;customer_name&#34;</span><span class="p">:</span> <span class="s2">&#34;华山医院&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;customerid&#34;</span> <span class="p">:</span> <span class="mi">13</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;medicinelist&#34;</span><span class="p">:</span><span class="s2">&#34;[
</span></span></span><span class="line"><span class="cl"><span class="s2">        {\&#34;id\&#34;:16,\&#34;amount\&#34;:4,\&#34;name\&#34;:\&#34;环丙沙星\&#34;},
</span></span></span><span class="line"><span class="cl"><span class="s2">        {\&#34;id\&#34;:15,\&#34;amount\&#34;:5,\&#34;name\&#34;:\&#34;克林霉素\&#34;}
</span></span></span><span class="line"><span class="cl"><span class="s2">    ]&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中 medicinelist 里面的 amount 表示药品数量 ， id 表示药品的id， name 是药品名称，注意，这个 medicinelist 值是另外一个 json 格式的字符串。</p>
<p>###0 添加一个订单</p>
<p><strong>请求消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="nf">POST</span>  <span class="nn">/api/mgr/orders</span>  <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span>   <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>请求参数</strong></p>
<p>http 请求消息 body 携带添加订单的信息，消息体的格式是 json，如下示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;action&#34;</span><span class="p">:</span><span class="s2">&#34;add_order&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;data&#34;</span><span class="p">:{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;华山医院订单002&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;customerid&#34;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;medicinelist&#34;</span><span class="p">:[</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span><span class="nt">&#34;amount&#34;</span><span class="p">:</span><span class="s2">&#34;5&#34;</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;环丙沙星&#34;</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span><span class="nt">&#34;id&#34;</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span><span class="nt">&#34;amount&#34;</span><span class="p">:</span><span class="s2">&#34;5&#34;</span><span class="p">,</span><span class="nt">&#34;name&#34;</span><span class="p">:</span><span class="s2">&#34;克林霉素&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中，action 字段固定填写 add_order 表示添加一个订单，data 字段中存储了要添加的订单的信息。</p>
<p>订单名称 name 字段长度范围是 2-100，medicinelist 是订单中药品的信息列表，amount 表示数量，name表示名称。</p>
<p>服务端接受到该请求后，应该在系统中增加这样的订单。</p>
<p><strong>响应消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>响应内容</strong></p>
<p>http 响应消息 body 中， 数据以 json 格式存储，如果添加成功，返回如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span> <span class="p">:</span> <span class="mi">677</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 为 0 表示成功，id 为添加订单的 id 号，如果添加失败，返回失败的原因，示例如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>    
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;msg&#34;</span><span class="p">:</span> <span class="s2">&#34;订单名已经存在&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 不为 0 表示失败， msg 字段描述失败的原因。</p>
<p>###1 删除订单</p>
<p><strong>请求消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="nf">DELETE</span>  <span class="nn">/api/mgr/orders</span>  <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span>   <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>请求参数</strong></p>
<p>http 请求消息 body 携带要删除订单的 id，消息体的格式是 json，如下示例：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;action&#34;</span><span class="p">:</span><span class="s2">&#34;delete_order&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;id&#34;</span><span class="p">:</span> <span class="mi">6</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>其中，action 字段固定填写 delete_order 表示删除一个订单，id 字段为要删除的订单的id号。</p>
<p>服务端接受到该请求后，应该在系统中尝试删除该id对应的订单。</p>
<p><strong>响应消息</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</span></span><span class="line"><span class="cl"><span class="n">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>响应内容</strong></p>
<p>http 响应消息 body 中， 数据以 json 格式存储，如果删除成功，返回如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 为 0 表示成功，id 为添加订单的 id 号，如果删除失败，返回失败的原因，示例如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ret&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>    
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;msg&#34;</span><span class="p">:</span> <span class="s2">&#34;id为 566 的订单不存在&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ret 不为 0 表示失败， msg 字段描述失败的原因。</p>
<h2 id="案例练习">案例练习
</h2><ol>
<li>
<p>创建一个集合（Collection），在该集合中创建一个 HTTP 请求，访问任意网站，并通状态码断言和包含指定字符串断言判断通信是否成功。</p>
</li>
<li>
<p>创建 http 请求，使用正确的账号密码登录系统，返回 ret:0 则表示登录成功。</p>
</li>
<li>
<p>创建 http 请求，列出所有客户。</p>
</li>
<li>
<p>创建 http 请求，添加一个客户，客户名为长沙市中心医院。</p>
</li>
<li>
<p>创建 http 请求，列出所有订单。</p>
</li>
<li>
<p>创建 http 请求，添加一个订单，订单中客户为长沙市中心医院。</p>
</li>
<li>
<p>创建 http 请求，添加一个订单，订单中客户为香港大学深圳医院。</p>
</li>
<li>
<p>创建 http 请求，将长沙市中心医院的订单删除。</p>
</li>
</ol>

</section>


    <footer class="article-footer">
    

    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">相关文章</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/%E7%AC%AC%E4%B8%83%E7%AB%A0-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/">
        
        
            <div class="article-image">
                
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">第七章 单元测试</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/%E7%AC%AC%E5%85%AD%E7%AB%A0-web-%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/">
        
        
            <div class="article-image">
                
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">第六章 Web 自动化测试</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/%E7%AC%AC%E4%BA%94%E7%AB%A0-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/">
        
        
            <div class="article-image">
                
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">第五章 性能测试</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/%E7%AC%AC%E4%B8%89%E7%AB%A0-%E7%99%BD%E7%9B%92%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95/">
        
        
            <div class="article-image">
                
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">第三章 白盒测试方法</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E6%96%B9%E6%B3%95/">
        
        
            <div class="article-image">
                
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">第二章 黑盒测试方法</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2025 Raining Leaves
    </section>
    
    <section class="powerby">
        

        
        
        

        
        

        Blog for Sandy Memories
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
